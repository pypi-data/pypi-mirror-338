[tool.ruff]
exclude = [
    ".git",
    "__pycache",
    "migrations",
    "src",
    "docs",
]
line-length = 120

[tool.ruff.lint]
dummy-variable-rgx = "_|dummy"
# See https://docs.astral.sh/ruff/rules/ for all supported rules
select = [
    "A",        # flake8-builtins
    "B",        # flake8-bugbear
    "BLE",      # flake8-blind-except
    "C4",       # flake8-comprehensions
    "C90",      # mccabe
    "COM",      # flake8-commas
    "DJ",       # flake8-django
    "DTZ",      # flake8-datetimez
    "E",        # pycodestyle
    "ERA",      # eradicate
    "F",        # pyflakes
    "G",        # flake8-logging-format
    "I",        # isort
    "ICN",      # flake8-import-conventions
    "INP",      # flake8-no-pep420
    "N",        # pep8-naming
    "PIE",      # flake8-pie
    "PGH",      # pygrep-hooks
    "PL",       # pylint
    "PTH",      # flake8-use-pathlib
    "RET",      # flake8-return
    "RSE",      # flake8-raise
    "RUF",      # ruff-specific rules
    "S",        # flake8-bandit
    "SIM",      # flake8-simplify
    "T20",      # flake8-print
    "TID",      # flake8-tidy-imports
    "UP",       # pyupgrade
    "W",        # pycodestyle
    "YTT",      # flake8-2020
]

ignore = [
    "N802",     # Function name `{name}` should be lowercase
    "N803",     # Argument name `{name}` should be lowercase
    "N806",     # Variable `{name}` in function should be lowercase
    "N815",     # Variable `{name}` in class scope should not be mixedCase
    "N818",     # Exception name `{name}` should be named with an Error suffix
    "A003",     # Class attribute `{name}` is shadowing a python builtin
    "S101",     # Use of `assert` detected
    "UP007",    # Use `X | Y` for type annotations
    "S105",     # Possible hardcoded password: "{}"
    "PLR0913",  # Too many arguments to function call ({c_args}/{max_args})
    "RUF012",   # Mutable class attributes should be annotated with `typing.ClassVar`
]

[tool.ruff.lint.mccabe]
max-complexity = 16

[tool.ruff.lint.pycodestyle]
max-line-length = 120

[tool.ruff.lint.pylint]
max-branches = 16
max-args = 10
max-public-methods = 50

[tool.coverage.run]
omit = [
    "../*migrations*",
    "*/migrations/*",
    "*/management/commands/*",
    "*site-packages*",
    "*/tests/*",
    "*/tests.py",
    "*test_*",
    "*factories.py"
]
source_dirs = [
    "."
]

[tool.coverage.report]
exclude_lines = [
    "def __str__"
]
omit = [
    "../*migrations*",
    "*/migrations/*",
    "*/management/commands/*",
    "*site-packages*",
    "*/tests/*",
    "*/tests.py",
    "*test_*",
    "*factories.py"
]

[tool.bumpversion]
current_version = "3.3.0"
commit = true
tag = false

[[tool.bumpversion.files]]
filename = "easys_ordermanager/__init__.py"
search = '__version__ = "{current_version}"'
replace = '__version__ = "{new_version}"'
