FROM ubuntu:20.04

RUN export DEBIAN_FRONTEND=noninteractive && \
  apt-get update && \
  apt-get install -y \
    casacore-dev \
    cmake \
    g++-8 \
    git \
    libboost-test-dev \
    libboost-date-time-dev \
    libcfitsio-dev \
    pkg-config

ENV CC=/usr/bin/gcc-8
ENV CXX=/usr/bin/g++-8

ADD . /src
WORKDIR /src

RUN \
  mkdir build && \
  cd build && \
  cmake .. && \
  make -j`nproc`
