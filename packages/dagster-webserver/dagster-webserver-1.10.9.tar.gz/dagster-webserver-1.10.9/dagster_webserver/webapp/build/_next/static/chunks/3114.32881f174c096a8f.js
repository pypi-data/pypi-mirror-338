"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3114],{6657:function(e,n,t){t.d(n,{CY:function(){return b},N9:function(){return E}});var r=t(73235),o=t(52322),s=t(2784),i=t(7267),l=t(31062),a=t(11971),d=t(84890),p=t(71982),c=t(4760),u=t(69752),h=t(96798),x=t(40929),g=t(9628),m=t(55638),j=t(93781),f=t(12864),v=t(87788),y=t(16450),P=t(32549);function S(){let e=(0,r._)(["\n  query PipelineExplorerRootQuery(\n    $snapshotPipelineSelector: PipelineSelector\n    $snapshotId: String\n    $rootHandleID: String!\n    $requestScopeHandleID: String\n  ) {\n    pipelineSnapshotOrError(\n      snapshotId: $snapshotId\n      activePipelineSelector: $snapshotPipelineSelector\n    ) {\n      ... on PipelineSnapshot {\n        id\n        name\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n        solidHandle(handleID: $rootHandleID) {\n          ...GraphExplorerSolidHandleFragment\n        }\n        solidHandles(parentHandleID: $requestScopeHandleID) {\n          handleID\n          solid {\n            name\n            definition {\n              assetNodes {\n                id\n                ...GraphExplorerAssetNodeFragment\n              }\n            }\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n        ...GraphExplorerFragment\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineSnapshotNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return S=function(){return e},e}let b=()=>{(0,h.Px)();let e=(0,i.UO)(),n=(0,p.p3)(e["0"]),{pipelineName:t,snapshotId:r}=n,s=(0,i.k6)(),l=(0,f.Q)();return(0,j.j)("Snapshot: ".concat(t).concat(r?"@".concat(r.slice(0,8)):"")),(0,o.jsx)(E,{explorerPath:n,onChangeExplorerPath:(e,n)=>{s[n]("/snapshots/".concat((0,p.gY)(e)))},onNavigateToSourceAssetNode:(e,n)=>{let{assetKey:t}=n,r=(0,m.p)(t);e.metaKey?l(r):s.push((0,m.p)(t))}})},E=e=>{var n;let{explorerPath:t,repoAddress:r}=e,[i,l]=(0,s.useState)({explodeComposites:null!==(n=t.explodeComposites)&&void 0!==n&&n,preferAssetRendering:!0}),a=(0,P.tc)(r,t.pipelineName);if(a&&a.isAssetJob&&i.preferAssetRendering){let n=(0,P._T)(r||null,t.pipelineName);return(0,o.jsx)(x.OK,{options:i,setOptions:l,fetchOptions:{pipelineSelector:n},explorerPath:t,onChangeExplorerPath:e.onChangeExplorerPath,onNavigateToSourceAssetNode:e.onNavigateToSourceAssetNode,viewType:g._4.JOB},t.pipelineName)}return(0,o.jsx)(C,{...e,options:i,setOptions:l})},C=e=>{let{explorerPath:n,repoAddress:t,onChangeExplorerPath:r,onNavigateToSourceAssetNode:s,isGraph:i=!1,options:p,setOptions:u}=e,h=n.opNames.slice(0,n.opNames.length-1),m=(0,P._T)(t||null,n.pipelineName),j=(0,c.aM)(I,{variables:{snapshotPipelineSelector:n.snapshotId?void 0:m,snapshotId:n.snapshotId?n.snapshotId:void 0,rootHandleID:h.join("."),requestScopeHandleID:p.explodeComposites?void 0:h.join(".")}});return(0,o.jsx)(y.g,{queryResult:j,children:e=>{let{pipelineSnapshotOrError:c}=e;if("PipelineSnapshot"!==c.__typename)return(0,o.jsx)(d.Q,{isGraph:i,result:c,repoAddress:t});let h=c.solidHandle,j=p.explodeComposites?(0,l.i)(c.solidHandles):c.solidHandles,f=c.solidHandles.some(e=>e.solid.definition.assetNodes.length>0);return p.preferAssetRendering&&f?(0,o.jsx)(x.OK,{options:p,setOptions:u,fetchOptions:{pipelineSelector:m},explorerPath:n,onChangeExplorerPath:r,onNavigateToSourceAssetNode:s,viewType:g._4.JOB}):(0,o.jsx)(a.m0,{options:p,setOptions:u,explorerPath:n,onChangeExplorerPath:r,container:c,repoAddress:t,handles:j,parentHandle:h||void 0,isGraph:i,getInvocations:e=>j.filter(n=>n.solid.definition.name===e).map(e=>({handleID:e.handleID}))})}})},I=(0,c.Ps)(S(),v.i,a.Sm,a.Q,a.bg,u.B)},19067:function(e,n,t){t.d(n,{G:function(){return G}});var r=t(73235),o=t(52322),s=t(57164),i=t(8637),l=t(48177),a=t(15997),d=t(54854),p=t(54123),c=t(1026),u=t(2784),h=t(7267),x=t(71982),g=t(27100),m=t(6023),j=t(32549),f=t(18328);let v=e=>{let{repoAddress:n,anyFilter:t,jobName:r,jobPath:s}=e,i=(0,j.Ux)(n),d=(0,j.Hb)(i,r);return(0,o.jsx)(l.x,{padding:{vertical:64},children:(0,o.jsx)(a.t,{icon:"run",title:"No runs found",description:n?d?(0,o.jsxs)(l.x,{flex:{direction:"column",gap:12},children:[(0,o.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not materialized any assets with this job yet."}),(0,o.jsx)("div",{children:(0,o.jsx)(m.A,{icon:(0,o.jsx)(g.JO,{name:"materialization"}),to:(0,f.$U)(n,"/jobs/".concat(s)),children:"Materialize an asset"})})]}):(0,o.jsxs)(l.x,{flex:{direction:"column",gap:12},children:[(0,o.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not launched any runs for this job yet."}),(0,o.jsx)("div",{children:(0,o.jsx)(m.A,{icon:(0,o.jsx)(g.JO,{name:"add_circle"}),to:(0,f.$U)(n,"/jobs/".concat(s,"/playground")),children:"Launch a run"})})]}):(0,o.jsx)("div",{children:"You have not launched any runs for this job."})})})};var y=t(94315),P=t(98933),S=t(96798),b=t(84991),E=t(86224),C=t(41349),I=t(31622),_=t(92237),H=t(53852),N=t(87890),R=t(27450);let O=["status","tag","id","created_date_before","created_date_after"],A=e=>{(0,S.Px)();let{pipelinePath:n}=(0,h.UO)(),{repoAddress:t=null}=e,r=(0,x.p3)(n),{pipelineName:i,snapshotId:a}=r,c=(0,j.Ux)(t),g=(0,j.E8)(c,i);(0,y.b)(r,g);let[m,f]=(0,H.oD)(O),A=(0,u.useMemo)(()=>[g?{token:"job",value:i}:{token:"pipeline",value:i},a?{token:"snapshotId",value:a}:null].filter(Boolean),[g,i,a]),F=(0,u.useMemo)(()=>{let e=[...m,...A];if(t){let n={token:"tag",value:"".concat(E.H.RepositoryLabelTag,"=").concat((0,R.Wg)(t))};e.push(n)}return{...(0,H.VH)(e),pipelineName:i,snapshotId:a}},[m,A,i,t,a]),k=(0,u.useCallback)(e=>{let n=(0,s.HY)(e);m.some(e=>(0,s.HY)(e)===n)||f([...m,e])},[m,f]),{entries:T,paginationProps:w,queryResult:$}=(0,N.a)({filter:F,skip:!1,view:b.aKQ.RUNS}),D=(0,P.C4)($,P.dT),{button:B,activeFiltersJsx:Y}=(0,H.Vv)({enabledFilters:O,tokens:m,onChange:f,loading:$.loading}),U=(0,o.jsxs)(l.x,{flex:{direction:"row",gap:8,alignItems:"center"},style:{width:"100%"},padding:{right:16},children:[B,(0,o.jsx)("div",{style:{flex:1}}),(0,o.jsx)(P.xi,{refreshState:D})]}),q=(0,o.jsxs)(l.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[A.map(e=>{let{token:n,value:t}=e;return(0,o.jsx)(d.V,{children:"".concat(n,":").concat(t)},n)}),Y,Y.length>0&&(0,o.jsx)(p.Z,{onClick:()=>f([]),children:"Clear all"})]});return(0,o.jsx)(C.Lw.Provider,{value:{refetch:D.refetch},children:$.error?(0,o.jsx)(I.f,{error:$.error}):(0,o.jsx)("div",{style:{minHeight:0},children:(0,o.jsx)(_.F,{entries:T,loading:$.loading,onAddTag:k,refetch:D.refetch,actionBarComponents:U,belowActionBarComponents:q,paginationProps:w,filter:F,emptyState:()=>(0,o.jsx)(v,{repoAddress:t,anyFilter:m.length>0,jobName:i,jobPath:n})})})})};var F=t(4760),k=t(71498),T=t(69752),w=t(87642),$=t(56065),D=t(68313),B=t(16450),Y=t(36872);function U(){let e=(0,r._)(["\n  query PipelineRunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return U=function(){return e},e}let q=["status","tag","id","created_date_before","created_date_after"],G=e=>{let{flagLegacyRunsPage:n}=(0,k.gV)();return n?(0,o.jsx)(Q,{...e}):(0,o.jsx)(A,{...e})},Q=e=>{(0,S.Px)();let{pipelinePath:n}=(0,h.UO)(),{repoAddress:t=null}=e,r=(0,x.p3)(n),{pipelineName:g,snapshotId:m}=r,f=(0,j.Ux)(t),b=(0,j.E8)(f,g);(0,y.b)(r,b);let[I,_]=(0,H.oD)(q),N=(0,u.useMemo)(()=>[b?{token:"job",value:g}:{token:"pipeline",value:g},m?{token:"snapshotId",value:m}:null].filter(Boolean),[b,g,m]),O=[...I,...N];if(t){let e={token:"tag",value:"".concat(E.H.RepositoryLabelTag,"=").concat((0,R.Wg)(t))};O.push(e)}let{queryResult:A,paginationProps:F}=(0,D.l)({query:V,pageSize:25,variables:{filter:{...(0,H.VH)(O),pipelineName:g,snapshotId:m}},nextCursorForResult:e=>{var n;if("Runs"===e.pipelineRunsOrError.__typename)return null===(n=e.pipelineRunsOrError.results[24])||void 0===n?void 0:n.id},getResultArray:e=>e&&"Runs"===e.pipelineRunsOrError.__typename?e.pipelineRunsOrError.results:[]}),k=(0,u.useCallback)(e=>{let n=(0,s.HY)(e);I.some(e=>(0,s.HY)(e)===n)||_([...I,e])},[I,_]),T=(0,P.C4)(A,P.dT),{button:$,activeFiltersJsx:U}=(0,H.Vv)({enabledFilters:q,tokens:I,onChange:_,loading:A.loading});return(0,o.jsx)(C.Lw.Provider,{value:{refetch:A.refetch},children:(0,o.jsx)(i.T,{children:(0,o.jsx)(B.g,{queryResult:A,allowStaleData:!0,children:e=>{let{pipelineRunsOrError:r}=e;if("Runs"!==r.__typename)return(0,o.jsx)(l.x,{padding:{vertical:64},children:(0,o.jsx)(a.t,{icon:"error",title:"Query Error",description:r.message})});let s=r.results.slice(0,25),{hasNextCursor:i,hasPrevCursor:u}=F;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Y.Y,{$top:0,children:(0,o.jsx)(w.A,{runs:s,onAddTag:k,actionBarComponents:(0,o.jsxs)(l.x,{flex:{direction:"row",justifyContent:"space-between",grow:1,alignItems:"center",gap:4},margin:{right:8},children:[$,(0,o.jsx)(P.xi,{refreshState:T})]}),belowActionBarComponents:(0,o.jsxs)(o.Fragment,{children:[N.map(e=>{let{token:n,value:t}=e;return(0,o.jsx)(d.V,{children:"".concat(n,":").concat(t)},n)}),U.length?(0,o.jsxs)(o.Fragment,{children:[U,(0,o.jsx)(p.Z,{onClick:()=>{_([])},children:"Clear all"})]}):null]}),emptyState:()=>(0,o.jsx)(v,{repoAddress:t,anyFilter:I.length>0,jobName:g,jobPath:n})})}),i||u?(0,o.jsx)("div",{style:{marginTop:"20px"},children:(0,o.jsx)(c.pI,{...F})}):null]})}})})})},V=(0,F.Ps)(U(),$.Z,T.B)}}]);
//# sourceMappingURL=3114.32881f174c096a8f.js.map