{"version":3,"file":"static/chunks/1500.bec74b56ab02f3c7.js","mappings":"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","sources":["webpack://_N_E/../ui-core/src/snapshots/SnapshotNav.tsx","webpack://_N_E/../ui-core/src/snapshots/SnapshotRoot.tsx"],"sourcesContent":["import {FontFamily, Heading, PageHeader, Tabs, Tag} from '@dagster-io/ui-components';\nimport {Link} from 'react-router-dom';\n\nimport {gql, useQuery} from '../apollo-client';\nimport {SnapshotQuery, SnapshotQueryVariables} from './types/SnapshotNav.types';\nimport {ExplorerPath, explorerPathToString} from '../pipelines/PipelinePathUtils';\nimport {TabLink} from '../ui/TabLink';\nimport {useActivePipelineForName} from '../workspace/WorkspaceContext/util';\nimport {workspacePipelinePathGuessRepo} from '../workspace/workspacePath';\n\nconst SNAPSHOT_PARENT_QUERY = gql`\n  query SnapshotQuery($snapshotId: String!) {\n    pipelineSnapshotOrError(snapshotId: $snapshotId) {\n      ... on PipelineSnapshot {\n        id\n        parentSnapshotId\n      }\n    }\n  }\n`;\n\ninterface SnapshotNavProps {\n  activeTab?: string;\n  explorerPath: ExplorerPath;\n}\n\nexport const SnapshotNav = (props: SnapshotNavProps) => {\n  const {activeTab = '', explorerPath} = props;\n  const {pipelineName, snapshotId = ''} = explorerPath;\n  const explorerPathString = explorerPathToString({\n    ...explorerPath,\n    opNames: [],\n  });\n\n  const currentPipelineState = useActivePipelineForName(pipelineName);\n  const currentSnapshotID = currentPipelineState?.pipelineSnapshotId;\n\n  const queryResult = useQuery<SnapshotQuery, SnapshotQueryVariables>(SNAPSHOT_PARENT_QUERY, {\n    variables: {snapshotId},\n  });\n\n  const {data, loading} = queryResult;\n\n  const tag = () => {\n    if (loading) {\n      return (\n        <Tag intent=\"none\" minimal>\n          ...\n        </Tag>\n      );\n    }\n\n    if (\n      !currentSnapshotID ||\n      (currentSnapshotID !== snapshotId &&\n        data?.pipelineSnapshotOrError.__typename === 'PipelineSnapshot' &&\n        data?.pipelineSnapshotOrError?.parentSnapshotId !== currentSnapshotID)\n    ) {\n      return (\n        <Tag intent=\"warning\" minimal>\n          Snapshot\n        </Tag>\n      );\n    }\n\n    return (\n      <Tag intent=\"success\" minimal>\n        Current\n      </Tag>\n    );\n  };\n\n  const tabs = [\n    {\n      text: 'Definition',\n      pathComponent: '',\n      href: `/snapshots/${explorerPathString}`,\n    },\n    {\n      text: 'Runs',\n      pathComponent: 'runs',\n      href: `/snapshots/${explorerPathString}runs`,\n    },\n  ];\n\n  return (\n    <PageHeader\n      title={\n        <Heading style={{fontFamily: FontFamily.monospace, fontSize: '16px'}}>\n          {explorerPath.snapshotId?.slice(0, 8)}\n        </Heading>\n      }\n      tags={\n        <>\n          <Tag icon=\"schema\">\n            Snapshot of{' '}\n            <Link to={workspacePipelinePathGuessRepo(explorerPath.pipelineName)}>\n              {explorerPath.pipelineName}\n            </Link>\n          </Tag>\n          {tag()}\n        </>\n      }\n      tabs={\n        <Tabs selectedTabId={activeTab}>\n          {tabs.map((tab) => {\n            const {href, text, pathComponent} = tab;\n            return <TabLink key={text} id={pathComponent} title={text} to={href} />;\n          })}\n        </Tabs>\n      }\n    />\n  );\n};\n","import {Switch, useParams} from 'react-router-dom';\nimport {PipelineExplorerSnapshotRoot} from 'shared/pipelines/PipelineExplorerRoot.oss';\n\nimport {SnapshotNav} from './SnapshotNav';\nimport {Route} from '../app/Route';\nimport {explorerPathFromString} from '../pipelines/PipelinePathUtils';\nimport {PipelineRunsRoot} from '../pipelines/PipelineRunsRoot';\n\nexport const SnapshotRoot = () => {\n  const {pipelinePath, tab} = useParams<{\n    pipelinePath: string;\n    tab?: string;\n  }>();\n  const explorerPath = explorerPathFromString(pipelinePath);\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        minWidth: 0,\n        width: '100%',\n        height: '100%',\n      }}\n    >\n      <SnapshotNav activeTab={tab} explorerPath={explorerPath} />\n      <Switch>\n        <Route path=\"/snapshots/:pipelinePath/runs\">\n          <PipelineRunsRoot />\n        </Route>\n        <Route path=\"/snapshots/(/?.*)\">\n          <PipelineExplorerSnapshotRoot />\n        </Route>\n      </Switch>\n    </div>\n  );\n};\n\n// Imported via React.lazy, which requires a default export.\n// eslint-disable-next-line import/no-default-export\nexport default SnapshotRoot;\n"],"names":["SNAPSHOT_PARENT_QUERY","gql","SnapshotNav","explorerPath","data","activeTab","props","pipelineName","snapshotId","explorerPathString","explorerPathToString","opNames","currentPipelineState","useActivePipelineForName","currentSnapshotID","pipelineSnapshotId","loading","useQuery","variables","jsx_runtime","jsx","PageHeader","title","Heading","style","fontFamily","FontFamily","monospace","fontSize","slice","tags","jsxs","Fragment","Tag","icon","Link","to","workspacePipelinePathGuessRepo","intent","minimal","pipelineSnapshotOrError","__typename","parentSnapshotId","tabs","Tabs","selectedTabId","text","pathComponent","href","concat","map","tab","TabLink","id","SnapshotRoot","pipelinePath","useParams","explorerPathFromString","div","display","flexDirection","minWidth","width","height","Switch","Route","path","PipelineRunsRoot","PipelineExplorerSnapshotRoot","snapshots_SnapshotRoot"],"sourceRoot":""}