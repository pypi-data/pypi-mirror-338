# Build system backend to create package to upload on pypi
[build-system]
build-backend = "setuptools.build_meta"
requires = [
    "setuptools>=68.2.0",
    "setuptools_scm[toml]>=8.0.0",
    "build>=1.0.0"
]

# configuration of setuptools_scm to use tag version autoincrementation
[tool.setuptools_scm]
write_to = "culebrONT/_version.py"
version_scheme = "release-branch-semver"
tag_regex = "^(\\d.\\d.\\d)-*\\w*\\d*$"
local_scheme = "no-local-version"

# define Project settings
[project]
name = "culebrONT"
dynamic = ["version"]
description = """CulebrONT is an open-source, scalable, modular and traceable Snakemake pipeline, able to launch multiple
assembly tools in parallel, giving you the possibility of circularise, polish, and correct assemblies, checking quality.
CulebrONT can help to choose the best assembly between all possibilities."""
authors = [
    { name = "Orjuela Julie (IRD)", email = "julie.orjuela@ird.fr" },
    { name = "Comte Aurore (IRD)", email = "aurore.comte@ird.fr" },
    { name = "Ravel Sebastien (CIRAD)", email = "sebastien.ravel@cirad.fr" },
    { name = "Charriat Florian (INRAE)", email = "florian.charriat@cirad.fr" },
    { name = "Tram Vi Bao (IRD)"},
    { name = "Sabot FranÃ§ois (IRD)", email = "francois.sabot@ird.fr" },
    { name = "Cunnac Sebastien (IRD)", email = "sebastien.cunnac@ird.fr" }
]

maintainers = [
    { name = "Orjuela Julie (IRD)", email = "julie.orjuela@ird.fr" },
    { name = "Comte Aurore (IRD)", email = "aurore.comte@ird.fr" },
    { name = "Ravel Sebastien (CIRAD)", email = "sebastien.ravel@cirad.fr" },
    { name = "Charriat Florian (INRAE)", email = "florian.charriat@cirad.fr" },
]

dependencies = ["pandas",
                "matplotlib",
                "tabulate",
                "ipython",
                "biopython",
                "pysam",
                "numpy",
                "nbformat",
                "snakecdysis>=2.0.0",
]

requires-python = ">=3.12"

readme = "README.rst"
license = { file = "LICENCE" }
keywords = ["snakemake", "assembly", "workflow", "HPC"]
classifiers = [
            'License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)',
            'License :: CeCILL-C Free Software License Agreement (CECILL-C)',
            'License :: Free for non-commercial use',
            'Development Status :: 5 - Production/Stable',
            'Intended Audience :: Developers',
            'Intended Audience :: End Users/Desktop',
            'Operating System :: POSIX :: Linux',
            'Programming Language :: Python :: 3.12',
            'Natural Language :: English',
            'Topic :: Scientific/Engineering',
            'Topic :: Scientific/Engineering :: Bio-Informatics',
            'Topic :: Software Development :: Assemblers'
]

[project.urls]
Homepage = "https://forge.ird.fr/diade/culebront_pipeline"
Downloads = "https://forge.ird.fr/diade/culebront_pipeline/archive/"
"Bug Tracker" = "https://forge.ird.fr/diade/culebront_pipeline/issues"
Documentation = "https://snakecdysis.readthedocs.io/en/latest/"
"Source Code" = "https://forge.ird.fr/diade/culebront_pipeline"

[project.optional-dependencies]
doc = [
    "sphinx_click",
    "sphinx_copybutton",
    "sphinx_rtd_theme",
    "tox",
]
dev = [
    "setuptools>=68.2.0",
    "setuptools_scm[toml]>=8.0.0",
    "build>=1.0.0"
]

# setup scripts links
[project.scripts]
culebrONT = "culebrONT.main:main"

[project.entry-points.culebrONT]
culebrONT = "__init__"

# Try to link sphinx to file
[tool.sphinx]
source-dir = "docs/source"
build-dir = "docs/build"
config-dir = "docs/source"
