"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[926,9882,3303],{5190:(e,t,n)=>{n.d(t,{l:()=>c});let s="https://cdn.jsdelivr.net/npm/",o=!0;const r=document.getElementsByTagName("script");Array.prototype.forEach.call(r,(e=>{s=e.getAttribute("data-jupyter-widgets-cdn")||s,o=o&&Boolean(e.getAttribute("data-jupyter-widgets-cdn-only"))}));const a=function(e){return new Promise(((t,n)=>{const s=window.requirejs;void 0===s?n("Requirejs is needed, please ensure it is loaded on the page."):s(e,t,n)}))};function c(e,t){const n=window.requirejs;if(void 0===n)throw new Error("Requirejs is needed, please ensure it is loaded on the page.");function r(){const o={paths:{}};return o.paths[e]=function(e,t){let n=e,o="index",r=e.indexOf("/");return-1!=r&&"@"==e[0]&&(r=e.indexOf("/",r+1)),-1!=r&&(o=e.substr(r+1),n=e.substr(0,r)),"@widgetti/jupyter-react"===n&&(t=t.replace("0.4.2","0.4.1")),`${s}${n}@${t}/dist/${o}`}(e,t),n.config(o),a([`${e}`])}return o?(console.log(`Loading from ${s} for ${e}@${t}`),r()):a([`${e}`]).catch((o=>{const a=o.requireModules&&o.requireModules[0];if(a)return n.undef(a),console.log(`Falling back to ${s} for ${e}@${t}`),r()}))}},16608:(e,t,n)=>{n.d(t,{s:()=>s});const s="application/vnd.jupyter.widget-state+json"},48319:(e,t,n)=>{n.d(t,{R:()=>o});var s=n(97164);class o{set(e,t,n){e in this._cache||(this._cache[e]=Object.create(null)),t in this._cache[e]?console.warn(`Version ${t} of key ${e} already registered.`):this._cache[e][t]=n}get(e,t){if(e in this._cache){const n=this._cache[e],o=(0,s.maxSatisfying)(Object.keys(n),t);if(null!==o)return n[o]}}getAllVersions(e){if(e in this._cache)return this._cache[e]}_cache=Object.create(null)}},69882:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{APPLICATION_JAVASCRIPT_MIMETYPE:()=>APPLICATION_JAVASCRIPT_MIMETYPE,ExperimentalRenderedJavascript:()=>ExperimentalRenderedJavascript,TEXT_JAVASCRIPT_MIMETYPE:()=>TEXT_JAVASCRIPT_MIMETYPE,default:()=>__WEBPACK_DEFAULT_EXPORT__,rendererFactory:()=>rendererFactory});var _jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(54704);const TEXT_JAVASCRIPT_MIMETYPE="text/javascript",APPLICATION_JAVASCRIPT_MIMETYPE="application/javascript";function evalInContext(code,element,document,window){return eval(code)}class ExperimentalRenderedJavascript extends _jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_0__.TS{render(e){const t=this.translator.load("jupyterlab"),n=()=>{try{const t=e.data[this.mimeType];return t&&evalInContext(t,this.node,document,window),Promise.resolve()}catch(e){return Promise.reject(e)}};if(!e.trusted){const e=document.createElement("pre");e.textContent=t.__("Are you sure that you want to run arbitrary Javascript within your JupyterLab session?");const s=document.createElement("button");return s.textContent=t.__("Run"),this.node.appendChild(e),this.node.appendChild(s),s.onclick=e=>{this.node.textContent="",n()},Promise.resolve()}return n()}}const rendererFactory={safe:!1,mimeTypes:[TEXT_JAVASCRIPT_MIMETYPE,APPLICATION_JAVASCRIPT_MIMETYPE],createRenderer:e=>new ExperimentalRenderedJavascript(e)},extension={id:"@jupyterlab/javascript-extension:factory",description:"Adds renderer for JavaScript content.",rendererFactory,rank:0,dataType:"string"},__WEBPACK_DEFAULT_EXPORT__=extension},83303:(e,t,n)=>{n.r(t),n.d(t,{MIME_TYPE:()=>i,MIME_TYPES_JSONL:()=>d,RenderedJSON:()=>l,default:()=>u,rendererFactory:()=>h});var s=n(30808),o=n(85181),r=n(14809),a=n(9387),c=n(72447);const i="application/json",d=["text/jsonl","application/jsonl","application/json-lines"];class l extends r.x0{constructor(e){super(),this._rootDOM=null,this.addClass("jp-RenderedJSON"),this.addClass("CodeMirror"),this._mimeType=e.mimeType,this.translator=e.translator||o.wK}[s._.symbol](){return()=>s._.printWidget(this)}async renderModel(e){const{Component:t}=await n.e(1671).then(n.bind(n,74052));let s;if(d.indexOf(this._mimeType)>=0){const t=(e.data[this._mimeType]||"").trim().split(/\n/);s=JSON.parse(`[${t.join(",")}]`)}else s=e.data[this._mimeType]||{};const o=e.metadata[this._mimeType]||{};return null===this._rootDOM&&(this._rootDOM=(0,c.H)(this.node)),new Promise(((e,n)=>{this._rootDOM.render(a.createElement(t,{data:s,metadata:o,translator:this.translator,forwardedRef:()=>e()}))}))}onBeforeDetach(e){this._rootDOM&&(this._rootDOM.unmount(),this._rootDOM=null)}}const h={safe:!0,mimeTypes:[i,...d],createRenderer:e=>new l(e)},u=[{id:"@jupyterlab/json-extension:factory",description:"Adds renderer for JSON content.",rendererFactory:h,rank:0,dataType:"json",documentWidgetFactoryOptions:{name:"JSON",primaryFileType:"json",fileTypes:["json","notebook","geojson"],defaultFor:["json"]}},{id:"@jupyterlab/json-lines-extension:factory",description:"Adds renderer for JSONLines content.",rendererFactory:h,rank:0,dataType:"string",documentWidgetFactoryOptions:{name:"JSONLines",primaryFileType:"jsonl",fileTypes:["jsonl","ndjson"],defaultFor:["jsonl","ndjson"]}}]},18241:(e,t,n)=>{n.d(t,{$R:()=>P});var s=n(18008),o=n(45474),r=n(80914),a=n(58007);const c=new Map,i="undefined"==typeof BroadcastChannel?class{constructor(e){this.room=e,this.onmessage=null,this._onChange=t=>t.key===e&&null!==this.onmessage&&this.onmessage({data:r.Ey(t.newValue||"")}),a.k9(this._onChange)}postMessage(e){a.JT.setItem(this.room,r.nk(r.zS(e)))}close(){a.o6(this._onChange)}}:BroadcastChannel,d=e=>s._4(c,e,(()=>{const t=o.vt(),n=new i(e);return n.onmessage=e=>t.forEach((t=>t(e.data,"broadcastchannel"))),{bc:n,subs:t}})),l=(e,t,n=null)=>{const s=d(e);s.bc.postMessage(t),s.subs.forEach((e=>e(t,n)))};var h=n(38229),u=n(39189),_=n(50809),p=n(9366);const w=(e,t)=>{u.zd(e,0);const n=p.FX(t);u.Gu(e,n)},y=(e,t,n)=>{u.zd(e,1),u.Gu(e,p.PR(t,n))},m=(e,t,n)=>{try{p.QE(t,_.bo(e),n)}catch(e){console.error("Caught error while handling a Yjs update",e)}},f=m;var b=n(54195),g=n(48201),T=n(51318),v=n(287),E=n(42165);const C=[];C[0]=(e,t,n,s,o)=>{u.zd(e,0);const r=((e,t,n,s)=>{const o=_.cw(e);switch(o){case 0:((e,t,n)=>{y(t,n,_.bo(e))})(e,t,n);break;case 1:m(e,n,s);break;case 2:f(e,n,s);break;default:throw new Error("Unknown message type")}return o})(t,e,n.doc,n);s&&1===r&&!n.synced&&(n.synced=!0)},C[3]=(e,t,n,s,o)=>{u.zd(e,1),u.Gu(e,b.X3(n.awareness,Array.from(n.awareness.getStates().keys())))},C[1]=(e,t,n,s,o)=>{b.tQ(n.awareness,_.bo(t),n)},C[2]=(e,t,n,s,o)=>{((e,t,n)=>{0===_.cw(e)&&n(0,_.t3(e))})(t,n.doc,((e,t)=>I(n,t)))};const I=(e,t)=>console.warn(`Permission denied to access ${e.url}.\n${t}`),j=(e,t,n)=>{const s=_.$C(t),o=u.xv(),r=_.cw(s),a=e.messageHandlers[r];return a?a(o,s,e,n,r):console.error("Unable to compute message"),o},x=e=>{if(e.shouldConnect&&null===e.ws){const t=new e._WS(e.url);t.binaryType="arraybuffer",e.ws=t,e.wsconnecting=!0,e.wsconnected=!1,e.synced=!1,t.onmessage=n=>{e.wsLastMessageReceived=h._g();const s=j(e,new Uint8Array(n.data),!0);u.Bw(s)>1&&t.send(u.Fo(s))},t.onerror=t=>{e.emit("connection-error",[t,e])},t.onclose=t=>{e.emit("connection-close",[t,e]),e.ws=null,e.wsconnecting=!1,e.wsconnected?(e.wsconnected=!1,e.synced=!1,b._g(e.awareness,Array.from(e.awareness.getStates().keys()).filter((t=>t!==e.doc.clientID)),e),e.emit("status",[{status:"disconnected"}])):e.wsUnsuccessfulReconnects++,setTimeout(x,T.jk(100*T.n7(2,e.wsUnsuccessfulReconnects),e.maxBackoffTime),e)},t.onopen=()=>{e.wsLastMessageReceived=h._g(),e.wsconnecting=!1,e.wsconnected=!0,e.wsUnsuccessfulReconnects=0,e.emit("status",[{status:"connected"}]);const n=u.xv();if(u.zd(n,0),w(n,e.doc),t.send(u.Fo(n)),null!==e.awareness.getLocalState()){const n=u.xv();u.zd(n,1),u.Gu(n,b.X3(e.awareness,[e.doc.clientID])),t.send(u.Fo(n))}},e.emit("status",[{status:"connecting"}])}},M=(e,t)=>{e.wsconnected&&e.ws.send(t),e.bcconnected&&l(e.bcChannel,t,e)};class P extends g.c{constructor(e,t,n,{connect:s=!0,awareness:o=new b.ww(n),params:r={},WebSocketPolyfill:a=WebSocket,resyncInterval:c=-1,maxBackoffTime:i=2500,disableBc:d=!1}={}){for(super();"/"===e[e.length-1];)e=e.slice(0,e.length-1);const _=(e=>v.Tj(e,((e,t)=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`)).join("&"))(r);this.maxBackoffTime=i,this.bcChannel=e+"/"+t,this.url=e+"/"+t+(0===_.length?"":"?"+_),this.roomname=t,this.doc=n,this._WS=a,this.awareness=o,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.disableBc=d,this.wsUnsuccessfulReconnects=0,this.messageHandlers=C.slice(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=s,this._resyncInterval=0,c>0&&(this._resyncInterval=setInterval((()=>{if(this.ws&&this.ws.readyState===WebSocket.OPEN){const e=u.xv();u.zd(e,0),w(e,n),this.ws.send(u.Fo(e))}}),c)),this._bcSubscriber=(e,t)=>{if(t!==this){const t=j(this,new Uint8Array(e),!1);u.Bw(t)>1&&l(this.bcChannel,u.Fo(t),this)}},this._updateHandler=(e,t)=>{if(t!==this){const t=u.xv();u.zd(t,0),((e,t)=>{u.zd(e,2),u.Gu(e,t)})(t,e),M(this,u.Fo(t))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:e,updated:t,removed:n},s)=>{const r=e.concat(t).concat(n),a=u.xv();u.zd(a,1),u.Gu(a,b.X3(o,r)),M(this,u.Fo(a))},this._unloadHandler=()=>{b._g(this.awareness,[n.clientID],"window unload")},"undefined"!=typeof window?window.addEventListener("unload",this._unloadHandler):void 0!==E&&E.on("exit",this._unloadHandler),o.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval((()=>{this.wsconnected&&3e4<h._g()-this.wsLastMessageReceived&&this.ws.close()}),3e3),s&&this.connect()}get synced(){return this._synced}set synced(e){this._synced!==e&&(this._synced=e,this.emit("synced",[e]),this.emit("sync",[e]))}destroy(){0!==this._resyncInterval&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),"undefined"!=typeof window?window.removeEventListener("unload",this._unloadHandler):void 0!==E&&E.off("exit",this._unloadHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){if(this.disableBc)return;var e,t;this.bcconnected||(e=this.bcChannel,t=this._bcSubscriber,d(e).subs.add(t),this.bcconnected=!0);const n=u.xv();u.zd(n,0),w(n,this.doc),l(this.bcChannel,u.Fo(n),this);const s=u.xv();u.zd(s,0),y(s,this.doc),l(this.bcChannel,u.Fo(s),this);const o=u.xv();u.zd(o,3),l(this.bcChannel,u.Fo(o),this);const r=u.xv();u.zd(r,1),u.Gu(r,b.X3(this.awareness,[this.doc.clientID])),l(this.bcChannel,u.Fo(r),this)}disconnectBc(){const e=u.xv();u.zd(e,1),u.Gu(e,b.X3(this.awareness,[this.doc.clientID],new Map)),M(this,u.Fo(e)),this.bcconnected&&(((e,t)=>{const n=d(e);n.subs.delete(t)&&0===n.subs.size&&(n.bc.close(),c.delete(e))})(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),null!==this.ws&&this.ws.close()}connect(){this.shouldConnect=!0,this.wsconnected||null!==this.ws||(x(this),this.connectBc())}}}}]);