"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[3084,9882,3303],{61587:(e,t,r)=>{r.r(t),r.d(t,{CourseTakeExercise:()=>T,default:()=>E});var n=r(9387),s=r(20568),i=r(97096),a=r(98754),o=r(8586),d=r(99180),c=r(76818),l=r(38621),u=r(5907),p=r(34417),_=r(55388),h=r(63222),m=r(17810),f=r(23530),y=r(53850),x=r(27384),j=r(18683);const T=()=>{const{accountHandle:e,spaceHandle:t,courseId:r,exerciseId:T}=(0,s.g)();if(!r||!T)return(0,j.jsx)(j.Fragment,{});const E=(0,m.J)(),A=(0,_.LC)(),{kernelManager:g,defaultKernel:P}=(0,u.PD)(),M=(0,f.Z)(),{refreshCourse:w,getCourse:I,refreshExercise:C,getExercise:v,updateExercisePoints:S}=(0,y.E)(),[b]=(0,n.useState)("exercise-student"),[O,k]=(0,n.useState)(!1),[R,J]=(0,n.useState)(),[$,F]=(0,n.useState)(),[D,L]=(0,n.useState)(),[N,Y]=(0,n.useState)((0,p.YG)()),[q,V]=(0,n.useState)(!1),B=A.getInput(b),Q=(0,n.useMemo)((()=>P),[g]),W=A.getGradeSuccess(b);return(0,n.useEffect)((()=>{if($?.id&&R?.id&&B&&W){V(W),setTimeout((()=>{V(!1)}),5e3);const e=W?1:0;S(R.id,B,e)}}),[W]),(0,n.useEffect)((()=>{C(T).then((e=>{if(e.success){const e=v(T);J(e)}}))}),[]),(0,n.useEffect)((()=>{R&&w(r).then((e=>{if(e.success){const e=I(r);F(e);const t=e?.students?.get(E?.id);if(t&&t.studentItems){const e=t.studentItems.get(R?.id);if(e)return void L(e)}L({id:"",type:"student_item",itemType:"exercise",student:E,item:R,itemId:R?.id,codeStudent:R?.codeQuestion,pass:!1,points:0})}}))}),[R]),$&&R?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(i.z,{children:(0,j.jsxs)(a.A,{display:"flex",children:[(0,j.jsx)(a.A,{flex:1,children:(0,j.jsx)(o.A,{sx:{fontSize:3},children:"Course exercise"})}),(0,j.jsx)(a.A,{children:(0,j.jsx)(d.Q,{variant:"default",size:"small",onClick:()=>M(`/${e}/${t}/course/${$.id}/progress`),children:"My course progress"})})]})}),(0,j.jsx)(a.A,{children:(0,j.jsx)(c.A,{children:R?.description})}),(0,j.jsx)(a.A,{pt:3,children:D&&(0,j.jsx)(h.k,{showEditor:!0,autoRun:!1,disableRun:!1,kernel:Q,id:b,codePre:R.codePre,code:D.codeStudent,receipt:N})}),(0,j.jsxs)(a.A,{children:[(0,j.jsxs)(a.A,{display:"flex",sx:{gap:3},pt:2,pb:2,children:[(0,j.jsx)(a.A,{children:(0,j.jsx)(d.Q,{variant:"danger",leadingVisual:l.uIH,onClick:e=>{e.preventDefault(),k(!O)},children:"Show help"})}),(0,j.jsx)(a.A,{children:(0,j.jsx)(d.Q,{variant:"default",leadingVisual:l.Fjq,onClick:e=>{e.preventDefault(),A.setInput(b,R?.codeQuestion)},children:"Reset"})})]}),O&&(0,j.jsx)(c.A,{as:"p",color:"danger.fg",p:2,children:R?.help??"No help available."})]}),(0,j.jsxs)(a.A,{children:[(0,j.jsx)(d.Q,{variant:"default",leadingVisual:l.Qvf,sx:{marginTop:2,marginBottom:2},onClick:e=>{e.preventDefault(),(e=>{A.setGradeSuccess(b,!1),A.setExecuteRequest(b,`\nsetup_state(stu_code = """${e.codePre}\n${B}""", sol_code = """${e.codePre}\n${e.codeSolution}""")\n${e.codeTest}\nfrom IPython.core.display import HTML\nHTML('<div style="display: none">You have passed the exercise! Your receipt is ${N}</div><h1>ðŸŽ‰ Success!</h1>')\n`)})(R)},children:"Grade your answer"}),(0,j.jsx)(c.A,{as:"p",color:"fg.onEmphasis",bg:"neutral.emphasis",p:2,children:"You ask for a grade as much as you want. Everytime you request a grade, your last answer code and point are saved."})]}),q&&(0,j.jsx)(x.e,{})]}):(0,j.jsx)(j.Fragment,{})},E=T},5190:(e,t,r)=>{r.d(t,{l:()=>o});let n="https://cdn.jsdelivr.net/npm/",s=!0;const i=document.getElementsByTagName("script");Array.prototype.forEach.call(i,(e=>{n=e.getAttribute("data-jupyter-widgets-cdn")||n,s=s&&Boolean(e.getAttribute("data-jupyter-widgets-cdn-only"))}));const a=function(e){return new Promise(((t,r)=>{const n=window.requirejs;void 0===n?r("Requirejs is needed, please ensure it is loaded on the page."):n(e,t,r)}))};function o(e,t){const r=window.requirejs;if(void 0===r)throw new Error("Requirejs is needed, please ensure it is loaded on the page.");function i(){const s={paths:{}};return s.paths[e]=function(e,t){let r=e,s="index",i=e.indexOf("/");return-1!=i&&"@"==e[0]&&(i=e.indexOf("/",i+1)),-1!=i&&(s=e.substr(i+1),r=e.substr(0,i)),"@widgetti/jupyter-react"===r&&(t=t.replace("0.4.2","0.4.1")),`${n}${r}@${t}/dist/${s}`}(e,t),r.config(s),a([`${e}`])}return s?(console.log(`Loading from ${n} for ${e}@${t}`),i()):a([`${e}`]).catch((s=>{const a=s.requireModules&&s.requireModules[0];if(a)return r.undef(a),console.log(`Falling back to ${n} for ${e}@${t}`),i()}))}},16608:(e,t,r)=>{r.d(t,{s:()=>n});const n="application/vnd.jupyter.widget-state+json"},48319:(e,t,r)=>{r.d(t,{R:()=>s});var n=r(97164);class s{set(e,t,r){e in this._cache||(this._cache[e]=Object.create(null)),t in this._cache[e]?console.warn(`Version ${t} of key ${e} already registered.`):this._cache[e][t]=r}get(e,t){if(e in this._cache){const r=this._cache[e],s=(0,n.maxSatisfying)(Object.keys(r),t);if(null!==s)return r[s]}}getAllVersions(e){if(e in this._cache)return this._cache[e]}_cache=Object.create(null)}},69882:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{APPLICATION_JAVASCRIPT_MIMETYPE:()=>APPLICATION_JAVASCRIPT_MIMETYPE,ExperimentalRenderedJavascript:()=>ExperimentalRenderedJavascript,TEXT_JAVASCRIPT_MIMETYPE:()=>TEXT_JAVASCRIPT_MIMETYPE,default:()=>__WEBPACK_DEFAULT_EXPORT__,rendererFactory:()=>rendererFactory});var _jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(54704);const TEXT_JAVASCRIPT_MIMETYPE="text/javascript",APPLICATION_JAVASCRIPT_MIMETYPE="application/javascript";function evalInContext(code,element,document,window){return eval(code)}class ExperimentalRenderedJavascript extends _jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_0__.TS{render(e){const t=this.translator.load("jupyterlab"),r=()=>{try{const t=e.data[this.mimeType];return t&&evalInContext(t,this.node,document,window),Promise.resolve()}catch(e){return Promise.reject(e)}};if(!e.trusted){const e=document.createElement("pre");e.textContent=t.__("Are you sure that you want to run arbitrary Javascript within your JupyterLab session?");const n=document.createElement("button");return n.textContent=t.__("Run"),this.node.appendChild(e),this.node.appendChild(n),n.onclick=e=>{this.node.textContent="",r()},Promise.resolve()}return r()}}const rendererFactory={safe:!1,mimeTypes:[TEXT_JAVASCRIPT_MIMETYPE,APPLICATION_JAVASCRIPT_MIMETYPE],createRenderer:e=>new ExperimentalRenderedJavascript(e)},extension={id:"@jupyterlab/javascript-extension:factory",description:"Adds renderer for JavaScript content.",rendererFactory,rank:0,dataType:"string"},__WEBPACK_DEFAULT_EXPORT__=extension},83303:(e,t,r)=>{r.r(t),r.d(t,{MIME_TYPE:()=>d,MIME_TYPES_JSONL:()=>c,RenderedJSON:()=>l,default:()=>p,rendererFactory:()=>u});var n=r(30808),s=r(85181),i=r(14809),a=r(9387),o=r(72447);const d="application/json",c=["text/jsonl","application/jsonl","application/json-lines"];class l extends i.x0{constructor(e){super(),this._rootDOM=null,this.addClass("jp-RenderedJSON"),this.addClass("CodeMirror"),this._mimeType=e.mimeType,this.translator=e.translator||s.wK}[n._.symbol](){return()=>n._.printWidget(this)}async renderModel(e){const{Component:t}=await r.e(1671).then(r.bind(r,74052));let n;if(c.indexOf(this._mimeType)>=0){const t=(e.data[this._mimeType]||"").trim().split(/\n/);n=JSON.parse(`[${t.join(",")}]`)}else n=e.data[this._mimeType]||{};const s=e.metadata[this._mimeType]||{};return null===this._rootDOM&&(this._rootDOM=(0,o.H)(this.node)),new Promise(((e,r)=>{this._rootDOM.render(a.createElement(t,{data:n,metadata:s,translator:this.translator,forwardedRef:()=>e()}))}))}onBeforeDetach(e){this._rootDOM&&(this._rootDOM.unmount(),this._rootDOM=null)}}const u={safe:!0,mimeTypes:[d,...c],createRenderer:e=>new l(e)},p=[{id:"@jupyterlab/json-extension:factory",description:"Adds renderer for JSON content.",rendererFactory:u,rank:0,dataType:"json",documentWidgetFactoryOptions:{name:"JSON",primaryFileType:"json",fileTypes:["json","notebook","geojson"],defaultFor:["json"]}},{id:"@jupyterlab/json-lines-extension:factory",description:"Adds renderer for JSONLines content.",rendererFactory:u,rank:0,dataType:"string",documentWidgetFactoryOptions:{name:"JSONLines",primaryFileType:"jsonl",fileTypes:["jsonl","ndjson"],defaultFor:["jsonl","ndjson"]}}]}}]);