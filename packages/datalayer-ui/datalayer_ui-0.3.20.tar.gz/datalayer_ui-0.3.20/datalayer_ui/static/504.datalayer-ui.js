"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[504],{20504:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var n=a(62012),o=a(68122),l=a(2335),s=a(59179),i=a(7053),r=a(69584),c=a(85181);const d="@jupyterlab/translation-extension:plugin",u={id:"@jupyterlab/translation:translator",description:"Provides the application translation object.",autoStart:!0,requires:[n.e.IPaths,r.X],optional:[o.V],provides:c.sQ,activate:async(e,t,a,n)=>{const o=await a.load(d),s=o.get("locale").composite;let i=o.get("stringsPrefix").composite;i=o.get("displayStringsPrefix").composite?i:"";const r=e.serviceManager.serverSettings,u=new c.ns(t.urls.translations,i,r);return await u.fetch(s),n&&(n.translator=u),l.lG.translator=u,u}},g={id:d,description:"Adds translation commands and settings.",requires:[r.X,c.sQ],optional:[i.I,s.kn],autoStart:!0,activate:(e,t,a,n,o)=>{const s=a.load("jupyterlab"),{commands:i}=e;let r;function u(e){r=e.get("locale").composite}t.load(d).then((t=>{var a;u(t),document.documentElement.lang="default"!==r?(null!=r?r:"").replace("_","-"):"en-US",t.changed.connect(u);const d=n?null===(a=n.settingsMenu.items.find((e=>{var t;return"submenu"===e.type&&"jp-mainmenu-settings-language"===(null===(t=e.submenu)||void 0===t?void 0:t.id)})))||void 0===a?void 0:a.submenu:null;let g;const p=e.serviceManager.serverSettings;(0,c.Mo)("","",{},p).then((e=>{for(const a in e.data){const n=e.data[a],c=n.displayName,u=n.nativeName,p=("default"===r?"en":r)===a,m=p?`${c}`:`${c} - ${u}`;g=`jupyterlab-translation:${a}`,i.addCommand(g,{label:m,caption:m,isEnabled:()=>!p,isVisible:()=>!0,isToggled:()=>p,execute:()=>(0,l.ui)({title:s.__("Change interface language?"),body:s.__("After changing the interface language to %1, you will need to reload JupyterLab to see the changes.",m),buttons:[l.lG.cancelButton({label:s.__("Cancel")}),l.lG.okButton({label:s.__("Change and reload")})]}).then((e=>{e.button.accept&&t.set("locale",a).then((()=>{window.location.reload()})).catch((e=>{console.error(e)}))}))}),d&&d.addItem({command:g,args:{}}),o&&o.addItem({category:s.__("Display Languages"),command:g})}})).catch((e=>{console.error(`Available locales errored!\n${e}`)}))})).catch((e=>{console.error(`The jupyterlab translation extension appears to be missing.\n${e}`)}))}},p=[u,g]}}]);