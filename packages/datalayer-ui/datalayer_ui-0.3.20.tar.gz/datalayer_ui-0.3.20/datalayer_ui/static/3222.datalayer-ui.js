"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[3222],{63222:(e,t,r)=>{r.d(t,{k:()=>j});var s=r(18683),i=r(98754),n=r(9387),o=r(50059),a=r(5907),_=r(34417),u=r(77059);const d=()=>{const[e,t]=(0,n.useState)(0);return(0,n.useEffect)((()=>{const e=setInterval((()=>{t((e=>{let t=e+1;return t>100&&(t=0),t}))}),100);return()=>clearInterval(e)}),[]),(0,s.jsx)(u.z,{progress:e,barSize:"small"})};var l=r(9175),c=r(6681),p=r(47785),h=r(38621);const m={small:16,medium:32,large:64};function g({title:e,titleId:t,size:r,colored:s,...i},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:s?"currentColor":["#fff","#fffff","white","#FFF","#FFFFFF"].includes("currentColor")?"white":"currentColor","aria-hidden":"true",width:r?"string"==typeof r?m[r]:r:"16px",ref:o,"aria-labelledby":t},i),e?n.createElement("title",{id:t},e):null,n.createElement("path",{fill:s?"currentColor":["#fff","#fffff","white","#FFF","#FFFFFF"].includes("currentColor")?"white":"currentColor",fillRule:"evenodd",d:"M18.364 3.058a.75.75 0 01.75.75V8.05a.75.75 0 01-.75.75h-4.243a.75.75 0 010-1.5h2.36a7.251 7.251 0 102.523 3.822.75.75 0 111.45-.387 8.75 8.75 0 11-2.84-4.447v-2.48a.75.75 0 01.75-.75z",clipRule:"evenodd"}))}const w=n.forwardRef(g),E=e=>{const{kernel:t,outputAdapter:r}=e;return(0,s.jsxs)(l.W,{children:[(0,s.jsx)(l.W.Anchor,{children:(0,s.jsx)(c.K,{"aria-labelledby":"",icon:h.tno,variant:"invisible"})}),(0,s.jsx)(l.W.Overlay,{children:(0,s.jsxs)(p.l,{children:[t&&(0,s.jsxs)(p.l.Item,{onSelect:e=>{t.interrupt()},children:[(0,s.jsx)(p.l.LeadingVisual,{children:(0,s.jsx)(h.wFz,{})}),"Interrupt kernel"]}),t&&(0,s.jsxs)(p.l.Item,{onSelect:e=>{t.restart()},children:[(0,s.jsx)(p.l.LeadingVisual,{children:(0,s.jsx)(w,{})}),"Restart kernel"]}),r&&(0,s.jsxs)(p.l.Item,{variant:"danger",onSelect:e=>{r.clear()},children:[(0,s.jsx)(p.l.LeadingVisual,{children:(0,s.jsx)(h.YBG,{})}),"Clear outputs"]})]})})]})};var y=r(57330);const f=e=>{const{output:t}=e;let r,i,n;switch(t.output_type){case"error":r=t.traceback.join("\n");break;case"stream":{const e=t.text;r="string"==typeof e?e:"boolean"==typeof e?e?"true":"false":Array.isArray(e)?e.join("\n"):e?.toString();break}case"display_data":{const e=t.data;if(e){const t=e["image/png"];t&&(n=t)}break}case"execute_result":{const e=t.data;if(e){const t=e["text/plain"];t&&(r="string"==typeof t?t:Array.isArray(t)?t.join("\n"):t.toString());const s=e["text/html"];s&&(i="string"==typeof s?s:s.join("\n"))}break}}return(0,s.jsxs)(s.Fragment,{children:[r&&(0,s.jsx)("pre",{style:{color:"black",backgroundColor:"white"},children:r}),i&&(0,s.jsx)("div",{children:(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:i}})}),n&&(0,s.jsx)("div",{children:(0,s.jsx)("img",{src:`data:image/png;base64,${n}`})})]})};var x=r(55388);const j=e=>{const{defaultKernel:t}=(0,a.PD)(),r=(0,x.LC)(),{adapter:u,autoRun:l,clearTrigger:c,code:p,executeTrigger:h,kernel:m,lumino:g,model:w,outputs:j,receipt:O,showControl:b,showEditor:C,showKernelProgressBar:v=!0,suppressCodeExecutionErrors:M=!1,onExecutionPhaseChanged:P,id:A}=e,k=m??t,[D,R]=(0,n.useState)(A),[W,T]=(0,n.useState)("unknown"),[L,I]=(0,n.useState)(j),[K,F]=(0,n.useState)();(0,n.useEffect)((()=>{D||R((0,_.YG)())}),[]),(0,n.useEffect)((()=>{const e=(e,t)=>{I(e.toJSON()),D&&r.setModel(D,e)},t=(e,t)=>{O&&"add"===t.type&&t.newValues.map((e=>{if(e&&e.data){const t=e.data["text/html"];t&&t.indexOf(O)>-1&&r.setGradeSuccess(A,!0)}}))};if(D&&k){const s=u??new y.b(D,k,L??[],w,M);F(s),r.setAdapter(D,s),w&&r.setModel(D,w),p&&r.setInput(D,p),s.outputArea.model.changed.connect(e),O&&s.outputArea.model.changed.connect(t)}return()=>{K&&(K.outputArea.model.changed.disconnect(e),K.outputArea.model.changed.disconnect(t))}}),[D,k]),(0,n.useEffect)((()=>{K&&l&&K.execute(p,P)}),[K]),(0,n.useEffect)((()=>{if(k)return k.ready.then((()=>{T(k.connection.status),k.connection.statusChanged.connect(((e,t)=>{T(t)}))})),()=>{}}),[k]);const B=r.getExecuteRequest(A);return(0,n.useEffect)((()=>{K&&B&&B===D&&K.execute(p,P)}),[B,K]),(0,n.useEffect)((()=>{K&&h>0&&K.execute(p,P)}),[h]),(0,n.useEffect)((()=>{K&&c>0&&K.clear()}),[c,K]),(0,s.jsxs)(s.Fragment,{children:[C&&K&&D&&(0,s.jsx)(i.A,{sx:{"& .cm-editor":{borderRadius:"5px"}}}),K&&(0,s.jsxs)(i.A,{display:"flex",children:[(0,s.jsx)(i.A,{flexGrow:1,children:"idle"!==W&&v&&(0,s.jsx)(d,{})}),b&&(0,s.jsx)(i.A,{style:{marginTop:"-13px"},children:(0,s.jsx)(E,{kernel:k,outputAdapter:K})})]}),L&&(0,s.jsx)(i.A,{sx:{"& .jp-OutputArea":{fontSize:"10px"},"& .jp-OutputPrompt":{},"& .jp-OutputArea-prompt":{display:"none"},"& pre":{fontSize:"12px",wordBreak:"break-all",wordWrap:"break-word",whiteSpace:"pre-wrap"}},children:g?K&&(0,s.jsx)(o.j,{children:K.outputArea}):L&&(0,s.jsx)(s.Fragment,{children:L.map((e=>(0,s.jsx)(f,{output:e})))})})]})};j.defaultProps={autoRun:!1,clearTrigger:0,disableRun:!1,executeTrigger:0,showControl:!0,lumino:!0,outputs:[{output_type:"execute_result",data:{"text/html":["<p>Type code in the cell and Shift+Enter to execute.</p>"]},execution_count:0,metadata:{}}],notifyOnComplete:!1,toolbarPosition:"up"}},57330:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>OutputAdapter});var _jupyterlab_javascript_extension__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(69882),_jupyterlab_json_extension__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(83303),_jupyterlab_outputarea__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(17603),_jupyterlab_outputarea__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(35901),_jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(89915),_jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(53054),_jupyter_ipywidgets_classic__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(92727),_jupyter_ipywidgets_classic__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(89462),_jupyter_ipywidgets_libembed_amd__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5190),_OutputExecutor__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(85112);class OutputAdapter{_id;_kernel;_renderers;_outputArea;_rendermime;_iPyWidgetsManager;_suppressCodeExecutionErrors;constructor(id,kernel,outputs,outputAreaModel,suppressCodeExecutionErrors=!1){this._id=id,this._kernel=kernel,this._suppressCodeExecutionErrors=suppressCodeExecutionErrors,this._renderers=_jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_0__.dn.filter((e=>"text/javascript"!==e.mimeTypes[0])),this._renderers.push(_jupyterlab_json_extension__WEBPACK_IMPORTED_MODULE_1__.rendererFactory),this._renderers.push(_jupyterlab_javascript_extension__WEBPACK_IMPORTED_MODULE_2__.rendererFactory),this._rendermime=new _jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_3__.K({initialFactories:this._renderers}),this._iPyWidgetsManager=new _jupyter_ipywidgets_classic__WEBPACK_IMPORTED_MODULE_4__.y({loader:_jupyter_ipywidgets_libembed_amd__WEBPACK_IMPORTED_MODULE_5__.l}),this._rendermime.addFactory({safe:!1,mimeTypes:[_jupyter_ipywidgets_classic__WEBPACK_IMPORTED_MODULE_6__.a],createRenderer:e=>new _jupyter_ipywidgets_classic__WEBPACK_IMPORTED_MODULE_6__.u(e,this._iPyWidgetsManager)},0);const model=outputAreaModel??new _jupyterlab_outputarea__WEBPACK_IMPORTED_MODULE_7__.c({trusted:!0,values:outputs});if(this._outputArea=new _jupyterlab_outputarea__WEBPACK_IMPORTED_MODULE_8__.Bw({model,rendermime:this._rendermime}),outputs&&outputs[0]){const data=outputs[0].data;if(data){const isPlotly=data["application/vnd.plotly.v1+json"];if(isPlotly){let script=this._outputArea.node.children[0].children[1].children[0].children[1].innerHTML;script=script.replaceAll("\n,","\n"),eval(script)}}}this.initKernel()}async execute(e,t){if(this._kernel){this.clear();const r={},s=(0,_OutputExecutor__WEBPACK_IMPORTED_MODULE_9__.g)(this._id,e,this._outputArea,this._kernel,r,this._suppressCodeExecutionErrors,t);await s}}interrupt(){this._kernel&&this._kernel.interrupt()}clear(){this._outputArea.model.clear()}get kernel(){return this._kernel}set kernel(e){this._kernel=e,this.initKernel()}get outputArea(){return this._outputArea}initKernel(){this._kernel&&this._iPyWidgetsManager.registerWithKernel(this._kernel.connection)}}var __WEBPACK_DEFAULT_EXPORT__=OutputAdapter},85112:(e,t,r)=>{async function s(e,t,r,s,i,n=!1,o){let a=!0;i&&Array.isArray(i.tags)&&-1!==i.tags.indexOf("raises-exception")&&(a=!1);const _=s.execute(t,{model:r.model,stopOnError:a,suppressCodeExecutionErrors:n,onExecutionPhaseChanged:o}).future;return r._onIOPub=_.onIOPub,r._onExecuteReply=_.onReply,r.future=_,_?.done}r.d(t,{g:()=>s})},92727:(e,t,r)=>{r.d(t,{y:()=>P});var s={};r.r(s),r.d(s,{OutputModel:()=>C,OutputView:()=>v});var i=r(14809),n=r(55553),o=r(97164),a=r(5190),_=r(48319),u=r(16608),d=r(23316),l=r(62613),c=r(53054),p=r(89915),h=r(89462),m=r(30115),g=r(42418),w=r(40093),E=r(17603),y=r(35901),f=r(65325),x=r.n(f),j=r(46186),O=r.n(j),b=r(15500);O()(b.A,{insert:"head",singleton:!1}),b.A.locals;class C extends w.L1{defaults(){return Object.assign(Object.assign({},super.defaults()),{msg_id:"",outputs:[]})}initialize(e,t){super.initialize(e,t),this._outputs=new E.c({trusted:!0}),this.listenTo(this,"change:outputs",this.setOutputs),this.setOutputs()}get outputs(){return this._outputs}clear_output(e=!1){this._outputs.clear(e)}setOutputs(e,t,r){r&&r.newMessage||(this.clear_output(),this._outputs.fromJSON(JSON.parse(JSON.stringify(this.get("outputs")))))}}class v extends w.Ni{_createElement(e){return this.luminoWidget=new g.JupyterLuminoPanelWidget({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=x()(this.luminoWidget.node)}render(){super.render(),this._outputView=new y.Bw({rendermime:this.model.widget_manager.renderMime,model:this.model.outputs}),this.luminoWidget.insertWidget(0,this._outputView),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-output"),this.update()}remove(){return this._outputView.dispose(),super.remove()}}class M extends l.FI{_viewList;constructor(e){super(),this.loader=e?.loader,this.renderMime=new c.K({initialFactories:p.dn}),this.renderMime.addFactory({safe:!1,mimeTypes:[h.a],createRenderer:e=>new h.u(e,this)},0),this._viewList=new Set,window.addEventListener("resize",(()=>{this._viewList.forEach((e=>{d.Mu.postMessage(e.luminoWidget,i.x0.ResizeMessage.UnknownSize)}))}))}async display_view(e,t){let r;try{r=await e}catch(t){const s=`Could not create a view for ${e}`;console.error(s);const i=new(g.createErrorWidgetModel(t,s));r=new g.ErrorWidgetView({model:i}),r.render()}i.x0.attach(r.luminoWidget,t),this._viewList.add(r),r.once("remove",(()=>{this._viewList.delete(r)}))}_get_comm_info(){return Promise.resolve({})}_create_comm(e,t,r,s,i){return Promise.resolve({on_close:()=>{},on_msg:()=>{},close:()=>{}})}loadClass(e,t,r){return new Promise(((e,i)=>{"@jupyter-widgets/base"===t?e(g):"@jupyter-widgets/controls"===t?e(m):"@jupyter-widgets/output"===t?e(s):void 0!==this.loader?e(this.loader(t,r)):i(`Could not load module ${t}@${r}`)})).then((s=>s[e]?s[e]:Promise.reject(`Class ${e} not found in module ${t}@${r}`)))}renderMime;loader}class P extends M{_kernelConnection;_commRegistration;_onError;_registry;constructor(e){super(e);const t=document.createElement("script"),s=document.createElement("script");s.setAttribute("data-jupyter-widgets-cdn-only","true"),document.body.appendChild(s),t.src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js",document.body.appendChild(t),t.onload=()=>{window.define("@jupyter-widgets/base",g),window.define("@jupyter-widgets/controls",m),this._registry=new _.R,this.register=this.register.bind(this),this.registerWithKernel=this.registerWithKernel.bind(this),this._getRegistry=this._getRegistry.bind(this),this._handleCommOpen=this._handleCommOpen.bind(this),this.register({name:"@jupyter-widgets/base",version:g.JUPYTER_WIDGETS_VERSION,exports:()=>Promise.resolve().then(r.bind(r,42418))}),this.register({name:"@jupyter-widgets/controls",version:m.JUPYTER_CONTROLS_VERSION,exports:()=>Promise.resolve().then(r.bind(r,30115))})}}async _loadFromNotebook(e){const t=e.getMetadata("widgets");if(t&&t[u.s]){let e=t[u.s];e=this.filterExistingModelState(e),await this.set_state(e)}}registerWithKernel(e){this._kernelConnection=e,this._commRegistration&&this._commRegistration.dispose(),e&&e.registerCommTarget(this.comm_target_name,this._handleCommOpen)}async _handleCommOpen(e,t){const r=new n.J.services.Comm(e);await this.handle_comm_open(r,t)}_getRegistry(){return this._registry}get onError(){return this._onError}display_view(e,t){return Promise.resolve(e).then((e=>{i.x0.attach(e.luminoWidget,t),e.on("remove",(()=>{console.log("The IPyWidgets view is removed",e)}))}))}async loadClass(e,t,r){"@jupyter-widgets/base"!==t&&"@jupyter-widgets/controls"!==t||!(0,o.valid)(r)||(r=`^${r}`);let s=this._getRegistry().getAllVersions(t);const i=2===r.split(".").length?r+".0":r;if(!s){const e=await(0,a.l)(t,i),r={name:t,version:i.replaceAll("^",""),exports:{...e}};if(this.register(r),s=this._getRegistry().getAllVersions(t),!s)throw new Error(`No version of module ${t} is registered`)}const n=this._getRegistry().get(t,i);if(!n){const e=Object.keys(s);throw new Error(`Module ${t}, version ${i} is not registered, however,         ${e.join(",")} ${e.length>1?"are":"is"}`)}let _;_="function"==typeof n?await n():await n;const u=_[e];if(!u)throw new Error(`Class ${e} not found in module ${t}`);return u}callbacks(e){const t=super.callbacks(e);return Object.assign({},t,{iopub:{output:e=>this._onError.emit(e)}})}_create_comm(e,t,r,s,i){const o=this._kernelConnection?.createComm(e,t);return(r||s)&&o?.open(r,s),Promise.resolve(new n.J.services.Comm(o))}_get_comm_info(){return this._kernelConnection.requestCommInfo({target_name:this.comm_target_name}).then((e=>e.content.comms))}register(e){this._getRegistry().set(e.name,e.version,e.exports)}}},89462:(e,t,r)=>{r.d(t,{a:()=>i,u:()=>n});var s=r(14809);const i="application/vnd.jupyter.widget-view+json";class n extends s.x0{constructor(e,t){super(),this.mimeType=e.mimeType,this._manager=t}async renderModel(e){const t=e.data[this.mimeType];if(!this._manager.has_model(t.model_id))return this.node.textContent="Error creating widget: could not find model",void this.addClass("jupyter-widgets");try{const e=await this._manager.get_model(t.model_id),r=await this._manager.create_view(e);s.x0.attach(r.luminoWidget,this.node)}catch(e){console.log("Error displaying widget"),console.log(e),this.node.textContent="Error displaying widget",this.addClass("jupyter-widgets")}}mimeType;_manager}},40093:(e,t,r)=>{r.d(t,{Us:()=>i,L1:()=>n,Ni:()=>o});var s=r(42418);const i="1.0.0";class n extends s.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"OutputModel",_view_name:"OutputView",_model_module:"@jupyter-widgets/output",_view_module:"@jupyter-widgets/output",_model_module_version:i,_view_module_version:i})}}class o extends s.DOMWidgetView{}},15500:(e,t,r)=>{r.d(t,{A:()=>a});var s=r(52908),i=r.n(s),n=r(10293),o=r.n(n)()(i());o.push([e.id,"/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n/* <DEPRECATED> */\n.jupyter-widgets.widget-output .jp-OutputArea-prompt, /* <DEPRECATED> */\n.jupyter-widgets.jupyter-widget-output .jp-OutputArea-prompt {\n  display: none;\n}\n",""]);const a=o}}]);