"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[219],{9219:(n,e,t)=>{t.r(e),t.d(e,{default:()=>R});var r=t(698),i=t(5155),l=t(2115),o=t(5285),s=t(9757),c=t(5055),a=t(6235),d=t(1975),u=t(8223);function h(){let n=(0,r._)(["\n  display: flex;\n  flex-direction: column;\n  width: 300px;\n  overflow: auto;\n  border-right: 1px solid #ccc;\n"]);return h=function(){return n},n}function x(){let n=(0,r._)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px;\n  margin-bottom: 16px;\n"]);return x=function(){return n},n}function p(){let n=(0,r._)(["\n  width: 28px;\n  height: 28px;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  display: ",";\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: normal;\n  color: var(--color-black);\n  background-color: var(--neutral-200);\n\n  & > svg + svg {\n    margin-left: -4px; /* Adjust as needed to set the spacing exactly to zero */\n  }\n"]);return p=function(){return n},n}function f(){let n=(0,r._)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px;\n"]);return f=function(){return n},n}function g(){let n=(0,r._)(["\n  display: flex;\n  align-items: center;\n"]);return g=function(){return n},n}function j(){let n=(0,r._)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px;\n  position: relative;\n  border-bottom: 1px solid #e0e0e0;\n  background-color: ",";\n  cursor: pointer;\n"]);return j=function(){return n},n}function m(){let n=(0,r._)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n"]);return m=function(){return n},n}function b(){let n=(0,r._)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n"]);return b=function(){return n},n}function v(){let n=(0,r._)(["\n  width: 28px;\n  height: 29px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  border-radius: 4px;\n  position: relative;\n  background-color: ",";\n  \n  &:hover {\n    background-color: var(--neutral-light);\n    border-radius: 4px;\n  }\n"]);return v=function(){return n},n}function w(){let n=(0,r._)(["\n  position: absolute;\n  top: 100%;\n  right: 0;\n  border-radius: 4px;\n  border: 1px solid #e0e0e0;\n  background: #fff;\n  box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.15);\n  z-index: 1000;\n  width: 120px;\n  margin-top: 2px;\n"]);return w=function(){return n},n}function y(){let n=(0,r._)(["\n  padding: 8px 12px;\n  cursor: pointer;\n  &:hover {\n    background-color: #f1f1f1;\n  }\n"]);return y=function(){return n},n}let k=o.Ay.div(h()),C=o.Ay.div(x()),A=o.Ay.button(p(),n=>{let{$isDrawerOpen:e}=n;return e?"none":"flex"}),N=o.Ay.div(f()),_=o.Ay.div(g()),E=o.Ay.div(j(),n=>{let{className:e}=n;return(null==e?void 0:e.includes("selected"))?"var(--background-overlay)":"transparent"}),D=o.Ay.div(m()),S=o.Ay.div(b()),L=o.Ay.div(v(),n=>{let{$isActive:e}=n;return e?"var(--lightbasebase-04)":"transparent"}),O=o.Ay.div(w()),z=o.Ay.div(y());function R(n){let{datasets:e,createDataset:t,removeDataset:r,saveDataset:o,setIsSidebarVisible:h,selectedDatasetIds:x,setSelectedDatasetIds:p}=n,[f,g]=(0,l.useState)(null),[j,m]=(0,l.useState)({show:!1,id:null}),[b,v]=(0,l.useState)({show:!1,id:null,currentName:""}),[w,y]=(0,l.useState)(!1),[R,F]=(0,l.useState)(""),G=(0,l.useRef)();(0,l.useEffect)(()=>{let n=Object.values(e);n.length>0&&(!x||0===x.length)&&p([n[0].id])},[e,x]);let H=n=>{x.includes(n)?p(e=>e.filter(e=>e!==n)):p(e=>[...e,n])},P=n=>{g(e=>e===n?null:n)},W=()=>{j.id&&(r(j.id),p(n=>n.filter(n=>n!==j.id))),m({show:!1,id:null})},I=()=>{if(b.id&&R.trim()){let n=e[b.id];n&&o({...n,name:R.trim(),updatedAt:new Date().toISOString()})}v({show:!1,id:null,currentName:""}),F("")},Q=async()=>{if(R.trim()){let n=await t(R.trim(),"user1");n&&p([n]),y(!1),F("")}},T=n=>{G.current&&!G.current.contains(n.target)&&g(null)};return(0,l.useEffect)(()=>{let n=n=>{!function(n,e){let{callbacks:t}=e,r=t[n.key];r&&"function"==typeof r&&r()}(n,{callbacks:{Enter:w?Q:b.show?I:j.show?W:null,Escape:()=>{w?y(!1):b.show?v({show:!1,id:null,currentName:""}):j.show&&m({show:!1,id:null})}}})};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[w,b,j,R]),(0,l.useEffect)(()=>(document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}),[]),(0,i.jsxs)(k,{children:[(0,i.jsxs)(C,{children:[(0,i.jsx)("h1",{children:"Dataset"}),(0,i.jsx)(A,{onClick:()=>h(n=>!n),children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.g,{icon:c.Wzs}),(0,i.jsx)(s.g,{icon:c.Wzs})]})})]}),(0,i.jsxs)(N,{children:[(0,i.jsxs)(_,{children:[(0,i.jsx)(a.A,{isChecked:Object.values(e).every(n=>x.includes(n.id)),onChange:()=>{Object.values(e).every(n=>x.includes(n.id))?p([]):p(Object.values(e).map(n=>n.id))}}),"Select All"]}),(0,i.jsxs)("button",{onClick:()=>y(!0),children:[(0,i.jsx)(s.g,{icon:c.QLR,style:{marginRight:"4px"}})," New Dataset"]})]}),0===Object.values(e).length?(0,i.jsx)(d.N,{children:"Dataset"}):Object.values(e).map(n=>(0,i.jsxs)(E,{className:x.includes(n.id)?"selected":"",onClick:e=>{e.target.closest(".checkbox-container")||e.target.closest(".ellipsis-button")||p([n.id])},children:[(0,i.jsxs)(S,{children:[(0,i.jsx)(D,{className:"checkbox-container",onClick:e=>{e.stopPropagation(),H(n.id)},children:(0,i.jsx)(a.A,{isChecked:x.includes(n.id),onClick:n=>n.stopPropagation()})}),n.name]}),(0,i.jsxs)(L,{className:"ellipsis-button",$isActive:f===n.id,onClick:e=>{e.stopPropagation(),P(n.id)},children:[(0,i.jsx)(s.g,{icon:c.nx5}),f===n.id&&(0,i.jsxs)(O,{ref:G,children:[(0,i.jsx)(z,{onClick:()=>m({show:!0,id:n.id}),children:(0,i.jsx)("p",{children:"Delete"})}),(0,i.jsx)(z,{onClick:()=>v({show:!0,id:n.id,currentName:n.name}),children:(0,i.jsx)("p",{children:"Rename"})})]})]})]},n.id)),j.show&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.mH,{onClick:()=>m({show:!1,id:null})}),(0,i.jsxs)(u.lG,{children:[(0,i.jsx)(u.L3,{children:(0,i.jsx)("h3",{children:"Confirm Delete"})}),(0,i.jsx)(u.Cf,{children:"Are you sure you want to delete this dataset? This action cannot be undone."}),(0,i.jsxs)(u.ii,{children:[(0,i.jsx)("button",{onClick:()=>m({show:!1,id:null}),className:"outlined",style:{color:"var(--color-warning)",borderColor:"var(--color-warning)",backgroundColor:"transparent"},children:"Cancel"}),(0,i.jsx)("button",{onClick:W,children:"Delete"})]})]})]}),b.show&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.mH,{onClick:()=>v({show:!1,id:null,currentName:""})}),(0,i.jsxs)(u.lG,{children:[(0,i.jsx)(u.L3,{children:(0,i.jsx)("h3",{children:"Rename Dataset"})}),(0,i.jsx)(u.Cf,{children:(0,i.jsx)("input",{type:"text",value:R||b.currentName,onChange:n=>F(n.target.value),placeholder:"Enter new name"})}),(0,i.jsxs)(u.ii,{children:[(0,i.jsx)("button",{onClick:()=>v({show:!1,id:null,currentName:""}),className:"outlined",style:{color:"var(--color-warning)",borderColor:"var(--color-warning)",backgroundColor:"transparent"},children:"Cancel"}),(0,i.jsx)("button",{onClick:I,children:"Save"})]})]})]}),w&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.mH,{onClick:()=>y(!1)}),(0,i.jsxs)(u.lG,{children:[(0,i.jsx)(u.L3,{children:(0,i.jsx)("h3",{children:"Add New Dataset"})}),(0,i.jsx)(u.Cf,{children:(0,i.jsx)("input",{type:"text",value:R,onChange:n=>F(n.target.value),placeholder:"Enter dataset name"})}),(0,i.jsxs)(u.ii,{children:[(0,i.jsx)("button",{onClick:()=>y(!1),className:"outlined",style:{color:"var(--color-warning)",borderColor:"var(--color-warning)",backgroundColor:"transparent"},children:"Cancel"}),(0,i.jsx)("button",{onClick:Q,children:"Add"})]})]})]})]})}}}]);