function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./BuilderSelect-BRuuUHwH.js","./index-DRQkzaGL.js","./index-DkCAOC-U.css","./floating-ui.vue-CZ60wBMe.js","./BuilderSelect-CLys9Luh.css","./BuilderGraphSelect-C4qufJ0z.js","./useListResources-DnCu6fXh.js","./BuilderApp-CnvDpafG.js","./BaseTransitionSlideFade-BBIsMEkV.js","./BaseTransitionSlideFade-D8wg9qv6.css","./marked.esm-273vDTCT.js","./BuilderApp-DCRe04EP.css","./BuilderGraphSelect-Fouc8w1n.css","./BuilderEmbeddedCodeEditor-Dh2OrZiD.js","./BuilderEmbeddedCodeEditor-DiDqfWdt.css","./BuilderApplicationSelect-ChJ5cS9q.js","./BuilderApplicationSelect-Ct6ZxDEC.css","./BuilderSettingsHandlers-YvjbtStZ.js","./useWorkflowRun-D2zjppUo.js","./WdsLoaderDots.vue_vue_type_script_setup_true_lang-BjkJSKWK.js","./BuilderSettingsHandlers-CMkCWBPT.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{d as q,i as L,a as D,c as w,r as G,w as we,l as ye,o as v,e as x,M as g,b as T,q as j,f as I,x as J,P as C,a3 as _e,ak as Ae,n as V,y as Z,z as ve,t as Y,O as Oe,A as Ve,Q as ee,_ as U,U as mt,af as nt,ac as re,s as le,m as ke,av as ht,H as ce,E as Te,aw as yt,ax as gt,j as z,ay as te,az as xe,a8 as se,L as ae,a7 as Ye,u as ot,v as $e,aA as Le,a6 as _t,aB as kt,aC as bt,aD as H,aE as It,aF as St,aG as Et,aH as Ct,F as de,ah as wt}from"./index-DRQkzaGL.js";import{p as xt}from"./instancePath-BsbOTTI8.js";import{B as be}from"./BuilderApp-CnvDpafG.js";import{u as Bt}from"./useComponentDescription-Bqruml_0.js";import{B as He}from"./BuilderEmbeddedCodeEditor-Dh2OrZiD.js";import{marked as $t}from"./marked.esm-273vDTCT.js";import"./BaseTransitionSlideFade-BBIsMEkV.js";const Mt=["data-writer-id"],At={id:"validChildrenTypes"},Tt=["value"],Ft=q({__name:"BuilderSettingsActions",setup(n){const e=L(D.core),t=L(D.builderManager),{createAndInsertComponent:s,moveComponentUp:o,moveComponentDown:l,cutComponent:a,pasteComponent:i,copyComponent:u,isAddAllowed:d,isCopyAllowed:h,isCutAllowed:m,isGoToParentAllowed:k,isPasteAllowed:r,isDeleteAllowed:f,getEnabledMoves:S,removeComponentsSubtree:b,goToParent:_}=ee(e,t);function E(){if(!F.value.isDeleteEnabled)return;const c=t.selection.value.map(p=>p.componentId);c.length!==0&&b(...c)}const B=t.firstSelectedId,O=w(()=>{var c;return(c=t.firstSelectedItem.value)==null?void 0:c.instancePath}),A=G(!1),F=G(null),R=w(()=>{const c=e.getContainableTypes(B.value),p={};return c.map(y=>{const W=e.getComponentDefinition(y);p[y]=W}),p});function $(c){const p=c.target.value,y=Object.entries(R.value).filter(([N,X])=>X.name==p);if(y.length==0)return;const W=y[0][0];s(W,B.value),A.value=!1}function M(){var W,N;const c=e.getComponentById(B.value);if(!c)return;const{up:p,down:y}=S(B.value);F.value={isAddEnabled:d(B.value),componentTypeName:(W=e.getComponentDefinition(c.type))==null?void 0:W.name,toolkit:(N=e.getComponentDefinition(c.type))==null?void 0:N.toolkit,isMoveUpEnabled:p,isMoveDownEnabled:y,isCopyEnabled:h(B.value),isCutEnabled:m(B.value),isPasteEnabled:r(B.value),isGoToParentEnabled:k(B.value),isDeleteEnabled:f(B.value)}}return we(()=>{var c;return(c=e.getComponentById(B.value))==null?void 0:c.position},async c=>{typeof c>"u"||c===null||M()},{flush:"post"}),ye(()=>{M()}),(c,p)=>{var y,W,N,X,Q,Se,Ee,Ce;return v(),x("div",{class:Ve(["BuilderSettingsActions",{collapsed:g(t).isSettingsBarCollapsed.value}]),"data-writer-id":g(B)},[g(t).isSingleSelectionActive.value?(v(),T(J,{key:0,"data-writer-tooltip":"Add child","data-writer-tooltip-placement":"left",variant:"neutral",size:"smallIcon",class:"actionButton",disabled:!((y=F.value)!=null&&y.isAddEnabled),onClick:p[0]||(p[0]=ne=>{var K;return(K=F.value)!=null&&K.isAddEnabled?A.value=!0:void 0})},{default:j(()=>p[9]||(p[9]=[I("i",{class:"material-symbols-outlined"},"add",-1)])),_:1},8,["disabled"])):C("",!0),g(t).isSingleSelectionActive.value?(v(),T(J,{key:1,class:"actionButton",size:"small",variant:"neutral","data-writer-tooltip-placement":"left","data-writer-tooltip":`Move up (${g(_e)()}↑)`,disabled:!((W=F.value)!=null&&W.isMoveUpEnabled),onClick:p[1]||(p[1]=ne=>{var K;return(K=F.value)!=null&&K.isMoveUpEnabled?g(o)(g(B)):void 0})},{default:j(()=>p[10]||(p[10]=[I("i",{class:"material-symbols-outlined"},"arrow_upward",-1)])),_:1},8,["data-writer-tooltip","disabled"])):C("",!0),g(t).isSingleSelectionActive.value?(v(),T(J,{key:2,class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Move down (${g(_e)()}↓)`,"data-writer-tooltip-placement":"left",disabled:!((N=F.value)!=null&&N.isMoveDownEnabled),onClick:p[2]||(p[2]=ne=>{var K;return(K=F.value)!=null&&K.isMoveDownEnabled?g(l)(g(B)):void 0})},{default:j(()=>p[11]||(p[11]=[I("i",{class:"material-symbols-outlined"},"arrow_downward",-1)])),_:1},8,["data-writer-tooltip","disabled"])):C("",!0),g(t).isSingleSelectionActive.value?(v(),T(J,{key:3,class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Cut (${g(_e)()}X)`,"data-writer-tooltip-placement":"left",disabled:!((X=F.value)!=null&&X.isCutEnabled),onClick:p[3]||(p[3]=ne=>{var K;return(K=F.value)!=null&&K.isCutEnabled?g(a)(g(B)):void 0})},{default:j(()=>p[12]||(p[12]=[I("i",{class:"material-symbols-outlined"},"cut",-1)])),_:1},8,["data-writer-tooltip","disabled"])):C("",!0),g(t).isSingleSelectionActive.value?(v(),T(J,{key:4,class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Copy (${g(_e)()}C)`,"data-writer-tooltip-placement":"left",disabled:!((Q=F.value)!=null&&Q.isCopyEnabled),onClick:p[4]||(p[4]=ne=>{var K;return(K=F.value)!=null&&K.isCopyEnabled?g(u)(g(B)):void 0})},{default:j(()=>p[13]||(p[13]=[I("i",{class:"material-symbols-outlined"},"content_copy",-1)])),_:1},8,["data-writer-tooltip","disabled"])):C("",!0),g(t).isSingleSelectionActive.value?(v(),T(J,{key:5,class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Paste (${g(_e)()}V)`,"data-writer-tooltip-placement":"left",disabled:!((Se=F.value)!=null&&Se.isPasteEnabled),onClick:p[5]||(p[5]=ne=>{var K;return(K=F.value)!=null&&K.isPasteEnabled?g(i)(g(B)):void 0})},{default:j(()=>p[14]||(p[14]=[I("i",{class:"material-symbols-outlined"},"content_paste",-1)])),_:1},8,["data-writer-tooltip","disabled"])):C("",!0),g(t).isSingleSelectionActive.value?(v(),T(J,{key:6,class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Go to parent (${g(_e)()}Shift ↑)`,"data-writer-tooltip-placement":"left",disabled:!((Ee=F.value)!=null&&Ee.isGoToParentEnabled),onClick:p[6]||(p[6]=ne=>{var K;return(K=F.value)!=null&&K.isGoToParentEnabled?g(_)(g(B),O.value):void 0})},{default:j(()=>p[15]||(p[15]=[I("i",{class:"material-symbols-outlined"},"move_up",-1)])),_:1},8,["data-writer-tooltip","disabled"])):C("",!0),g(t).selectionStatus.value===g(Ae).Multiple?(v(),T(J,{key:7,class:"actionButton",variant:"neutral",size:"small","data-automation-action":"clear-selection","data-writer-tooltip":"Clear selection","data-writer-tooltip-placement":"left",onClick:p[7]||(p[7]=ne=>g(t).setSelection(null))},{default:j(()=>p[16]||(p[16]=[I("i",{class:"material-symbols-outlined"},"close",-1)])),_:1})):C("",!0),V(J,{class:"actionButton delete",variant:"neutral",size:"small","data-automation-action":"delete","data-writer-tooltip":"Delete (Del)","data-writer-tooltip-placement":"left",disabled:!((Ce=F.value)!=null&&Ce.isDeleteEnabled),onClick:E},{default:j(()=>p[17]||(p[17]=[I("i",{class:"material-symbols-outlined"},"delete",-1)])),_:1},8,["disabled"]),A.value?(v(),T(Oe,{key:8,title:"Add child component","display-close-button":"",onClose:p[8]||(p[8]=ne=>A.value=!1)},{default:j(()=>[I("input",{class:"addModalInput",type:"text",list:"validChildrenTypes",placeholder:"Component...",onChange:$},null,32),I("datalist",At,[(v(!0),x(Z,null,ve(R.value,(ne,K)=>(v(),x("option",{key:K,value:ne.name},Y(ne.name),9,Tt))),128))])]),_:1})):C("",!0)],10,Mt)}}}),Ot=U(Ft,[["__scopeId","data-v-15847d91"]]);function pe(n){return Array.isArray?Array.isArray(n):at(n)==="[object Array]"}const Vt=1/0;function Rt(n){if(typeof n=="string")return n;let e=n+"";return e=="0"&&1/n==-Vt?"-0":e}function Pt(n){return n==null?"":Rt(n)}function ue(n){return typeof n=="string"}function lt(n){return typeof n=="number"}function Lt(n){return n===!0||n===!1||Dt(n)&&at(n)=="[object Boolean]"}function st(n){return typeof n=="object"}function Dt(n){return st(n)&&n!==null}function oe(n){return n!=null}function Re(n){return!n.trim().length}function at(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const Wt="Incorrect 'index' type",jt=n=>`Invalid value for key ${n}`,Nt=n=>`Pattern length exceeds max of ${n}.`,qt=n=>`Missing ${n} property in key`,Ut=n=>`Property 'weight' in key '${n}' must be a positive integer`,Ge=Object.prototype.hasOwnProperty;class Kt{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(s=>{let o=it(s);this._keys.push(o),this._keyMap[o.id]=o,t+=o.weight}),this._keys.forEach(s=>{s.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function it(n){let e=null,t=null,s=null,o=1,l=null;if(ue(n)||pe(n))s=n,e=Je(n),t=De(n);else{if(!Ge.call(n,"name"))throw new Error(qt("name"));const a=n.name;if(s=a,Ge.call(n,"weight")&&(o=n.weight,o<=0))throw new Error(Ut(a));e=Je(a),t=De(a),l=n.getFn}return{path:e,id:t,weight:o,src:s,getFn:l}}function Je(n){return pe(n)?n:n.split(".")}function De(n){return pe(n)?n.join("."):n}function zt(n,e){let t=[],s=!1;const o=(l,a,i)=>{if(oe(l))if(!a[i])t.push(l);else{let u=a[i];const d=l[u];if(!oe(d))return;if(i===a.length-1&&(ue(d)||lt(d)||Lt(d)))t.push(Pt(d));else if(pe(d)){s=!0;for(let h=0,m=d.length;h<m;h+=1)o(d[h],a,i+1)}else a.length&&o(d,a,i+1)}};return o(n,ue(e)?e.split("."):e,0),s?t:t[0]}const Yt={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Ht={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,e)=>n.score===e.score?n.idx<e.idx?-1:1:n.score<e.score?-1:1},Gt={location:0,threshold:.6,distance:100},Jt={useExtendedSearch:!1,getFn:zt,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var P={...Ht,...Yt,...Gt,...Jt};const Xt=/[^ ]+/g;function Qt(n=1,e=3){const t=new Map,s=Math.pow(10,e);return{get(o){const l=o.match(Xt).length;if(t.has(l))return t.get(l);const a=1/Math.pow(l,.5*n),i=parseFloat(Math.round(a*s)/s);return t.set(l,i),i},clear(){t.clear()}}}class Ke{constructor({getFn:e=P.getFn,fieldNormWeight:t=P.fieldNormWeight}={}){this.norm=Qt(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,s)=>{this._keysMap[t.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ue(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();ue(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,s=this.size();t<s;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!oe(e)||Re(e))return;let s={v:e,i:t,n:this.norm.get(e)};this.records.push(s)}_addObject(e,t){let s={i:t,$:{}};this.keys.forEach((o,l)=>{let a=o.getFn?o.getFn(e):this.getFn(e,o.path);if(oe(a)){if(pe(a)){let i=[];const u=[{nestedArrIndex:-1,value:a}];for(;u.length;){const{nestedArrIndex:d,value:h}=u.pop();if(oe(h))if(ue(h)&&!Re(h)){let m={v:h,i:d,n:this.norm.get(h)};i.push(m)}else pe(h)&&h.forEach((m,k)=>{u.push({nestedArrIndex:k,value:m})})}s.$[l]=i}else if(ue(a)&&!Re(a)){let i={v:a,n:this.norm.get(a)};s.$[l]=i}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function rt(n,e,{getFn:t=P.getFn,fieldNormWeight:s=P.fieldNormWeight}={}){const o=new Ke({getFn:t,fieldNormWeight:s});return o.setKeys(n.map(it)),o.setSources(e),o.create(),o}function Zt(n,{getFn:e=P.getFn,fieldNormWeight:t=P.fieldNormWeight}={}){const{keys:s,records:o}=n,l=new Ke({getFn:e,fieldNormWeight:t});return l.setKeys(s),l.setIndexRecords(o),l}function Me(n,{errors:e=0,currentLocation:t=0,expectedLocation:s=0,distance:o=P.distance,ignoreLocation:l=P.ignoreLocation}={}){const a=e/n.length;if(l)return a;const i=Math.abs(s-t);return o?a+i/o:i?1:a}function en(n=[],e=P.minMatchCharLength){let t=[],s=-1,o=-1,l=0;for(let a=n.length;l<a;l+=1){let i=n[l];i&&s===-1?s=l:!i&&s!==-1&&(o=l-1,o-s+1>=e&&t.push([s,o]),s=-1)}return n[l-1]&&l-s>=e&&t.push([s,l-1]),t}const me=32;function tn(n,e,t,{location:s=P.location,distance:o=P.distance,threshold:l=P.threshold,findAllMatches:a=P.findAllMatches,minMatchCharLength:i=P.minMatchCharLength,includeMatches:u=P.includeMatches,ignoreLocation:d=P.ignoreLocation}={}){if(e.length>me)throw new Error(Nt(me));const h=e.length,m=n.length,k=Math.max(0,Math.min(s,m));let r=l,f=k;const S=i>1||u,b=S?Array(m):[];let _;for(;(_=n.indexOf(e,f))>-1;){let R=Me(e,{currentLocation:_,expectedLocation:k,distance:o,ignoreLocation:d});if(r=Math.min(R,r),f=_+h,S){let $=0;for(;$<h;)b[_+$]=1,$+=1}}f=-1;let E=[],B=1,O=h+m;const A=1<<h-1;for(let R=0;R<h;R+=1){let $=0,M=O;for(;$<M;)Me(e,{errors:R,currentLocation:k+M,expectedLocation:k,distance:o,ignoreLocation:d})<=r?$=M:O=M,M=Math.floor((O-$)/2+$);O=M;let c=Math.max(1,k-M+1),p=a?m:Math.min(k+M,m)+h,y=Array(p+2);y[p+1]=(1<<R)-1;for(let N=p;N>=c;N-=1){let X=N-1,Q=t[n.charAt(X)];if(S&&(b[X]=+!!Q),y[N]=(y[N+1]<<1|1)&Q,R&&(y[N]|=(E[N+1]|E[N])<<1|1|E[N+1]),y[N]&A&&(B=Me(e,{errors:R,currentLocation:X,expectedLocation:k,distance:o,ignoreLocation:d}),B<=r)){if(r=B,f=X,f<=k)break;c=Math.max(1,2*k-f)}}if(Me(e,{errors:R+1,currentLocation:k,expectedLocation:k,distance:o,ignoreLocation:d})>r)break;E=y}const F={isMatch:f>=0,score:Math.max(.001,B)};if(S){const R=en(b,i);R.length?u&&(F.indices=R):F.isMatch=!1}return F}function nn(n){let e={};for(let t=0,s=n.length;t<s;t+=1){const o=n.charAt(t);e[o]=(e[o]||0)|1<<s-t-1}return e}class ut{constructor(e,{location:t=P.location,threshold:s=P.threshold,distance:o=P.distance,includeMatches:l=P.includeMatches,findAllMatches:a=P.findAllMatches,minMatchCharLength:i=P.minMatchCharLength,isCaseSensitive:u=P.isCaseSensitive,ignoreLocation:d=P.ignoreLocation}={}){if(this.options={location:t,threshold:s,distance:o,includeMatches:l,findAllMatches:a,minMatchCharLength:i,isCaseSensitive:u,ignoreLocation:d},this.pattern=u?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const h=(k,r)=>{this.chunks.push({pattern:k,alphabet:nn(k),startIndex:r})},m=this.pattern.length;if(m>me){let k=0;const r=m%me,f=m-r;for(;k<f;)h(this.pattern.substr(k,me),k),k+=me;if(r){const S=m-me;h(this.pattern.substr(S),S)}}else h(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:s}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let f={isMatch:!0,score:0};return s&&(f.indices=[[0,e.length-1]]),f}const{location:o,distance:l,threshold:a,findAllMatches:i,minMatchCharLength:u,ignoreLocation:d}=this.options;let h=[],m=0,k=!1;this.chunks.forEach(({pattern:f,alphabet:S,startIndex:b})=>{const{isMatch:_,score:E,indices:B}=tn(e,f,S,{location:o+b,distance:l,threshold:a,findAllMatches:i,minMatchCharLength:u,includeMatches:s,ignoreLocation:d});_&&(k=!0),m+=E,_&&B&&(h=[...h,...B])});let r={isMatch:k,score:k?m/this.chunks.length:1};return k&&s&&(r.indices=h),r}}class fe{constructor(e){this.pattern=e}static isMultiMatch(e){return Xe(e,this.multiRegex)}static isSingleMatch(e){return Xe(e,this.singleRegex)}search(){}}function Xe(n,e){const t=n.match(e);return t?t[1]:null}class on extends fe{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class ln extends fe{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const s=e.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}}class sn extends fe{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class an extends fe{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class rn extends fe{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class un extends fe{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class dt extends fe{constructor(e,{location:t=P.location,threshold:s=P.threshold,distance:o=P.distance,includeMatches:l=P.includeMatches,findAllMatches:a=P.findAllMatches,minMatchCharLength:i=P.minMatchCharLength,isCaseSensitive:u=P.isCaseSensitive,ignoreLocation:d=P.ignoreLocation}={}){super(e),this._bitapSearch=new ut(e,{location:t,threshold:s,distance:o,includeMatches:l,findAllMatches:a,minMatchCharLength:i,isCaseSensitive:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class ct extends fe{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,s;const o=[],l=this.pattern.length;for(;(s=e.indexOf(this.pattern,t))>-1;)t=s+l,o.push([s,t-1]);const a=!!o.length;return{isMatch:a,score:a?0:1,indices:o}}}const We=[on,ct,sn,an,un,rn,ln,dt],Qe=We.length,dn=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,cn="|";function pn(n,e={}){return n.split(cn).map(t=>{let s=t.trim().split(dn).filter(l=>l&&!!l.trim()),o=[];for(let l=0,a=s.length;l<a;l+=1){const i=s[l];let u=!1,d=-1;for(;!u&&++d<Qe;){const h=We[d];let m=h.isMultiMatch(i);m&&(o.push(new h(m,e)),u=!0)}if(!u)for(d=-1;++d<Qe;){const h=We[d];let m=h.isSingleMatch(i);if(m){o.push(new h(m,e));break}}}return o})}const vn=new Set([dt.type,ct.type]);class fn{constructor(e,{isCaseSensitive:t=P.isCaseSensitive,includeMatches:s=P.includeMatches,minMatchCharLength:o=P.minMatchCharLength,ignoreLocation:l=P.ignoreLocation,findAllMatches:a=P.findAllMatches,location:i=P.location,threshold:u=P.threshold,distance:d=P.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:s,minMatchCharLength:o,findAllMatches:a,ignoreLocation:l,location:i,threshold:u,distance:d},this.pattern=t?e:e.toLowerCase(),this.query=pn(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:o}=this.options;e=o?e:e.toLowerCase();let l=0,a=[],i=0;for(let u=0,d=t.length;u<d;u+=1){const h=t[u];a.length=0,l=0;for(let m=0,k=h.length;m<k;m+=1){const r=h[m],{isMatch:f,indices:S,score:b}=r.search(e);if(f){if(l+=1,i+=b,s){const _=r.constructor.type;vn.has(_)?a=[...a,...S]:a.push(S)}}else{i=0,l=0,a.length=0;break}}if(l){let m={isMatch:!0,score:i/l};return s&&(m.indices=a),m}}return{isMatch:!1,score:1}}}const je=[];function mn(...n){je.push(...n)}function Ne(n,e){for(let t=0,s=je.length;t<s;t+=1){let o=je[t];if(o.condition(n,e))return new o(n,e)}return new ut(n,e)}const Fe={AND:"$and",OR:"$or"},qe={PATH:"$path",PATTERN:"$val"},Ue=n=>!!(n[Fe.AND]||n[Fe.OR]),hn=n=>!!n[qe.PATH],yn=n=>!pe(n)&&st(n)&&!Ue(n),Ze=n=>({[Fe.AND]:Object.keys(n).map(e=>({[e]:n[e]}))});function pt(n,e,{auto:t=!0}={}){const s=o=>{let l=Object.keys(o);const a=hn(o);if(!a&&l.length>1&&!Ue(o))return s(Ze(o));if(yn(o)){const u=a?o[qe.PATH]:l[0],d=a?o[qe.PATTERN]:o[u];if(!ue(d))throw new Error(jt(u));const h={keyId:De(u),pattern:d};return t&&(h.searcher=Ne(d,e)),h}let i={children:[],operator:l[0]};return l.forEach(u=>{const d=o[u];pe(d)&&d.forEach(h=>{i.children.push(s(h))})}),i};return Ue(n)||(n=Ze(n)),s(n)}function gn(n,{ignoreFieldNorm:e=P.ignoreFieldNorm}){n.forEach(t=>{let s=1;t.matches.forEach(({key:o,norm:l,score:a})=>{const i=o?o.weight:null;s*=Math.pow(a===0&&i?Number.EPSILON:a,(i||1)*(e?1:l))}),t.score=s})}function _n(n,e){const t=n.matches;e.matches=[],oe(t)&&t.forEach(s=>{if(!oe(s.indices)||!s.indices.length)return;const{indices:o,value:l}=s;let a={indices:o,value:l};s.key&&(a.key=s.key.src),s.idx>-1&&(a.refIndex=s.idx),e.matches.push(a)})}function kn(n,e){e.score=n.score}function bn(n,e,{includeMatches:t=P.includeMatches,includeScore:s=P.includeScore}={}){const o=[];return t&&o.push(_n),s&&o.push(kn),n.map(l=>{const{idx:a}=l,i={item:e[a],refIndex:a};return o.length&&o.forEach(u=>{u(l,i)}),i})}class Ie{constructor(e,t={},s){this.options={...P,...t},this.options.useExtendedSearch,this._keyStore=new Kt(this.options.keys),this.setCollection(e,s)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof Ke))throw new Error(Wt);this._myIndex=t||rt(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){oe(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let s=0,o=this._docs.length;s<o;s+=1){const l=this._docs[s];e(l,s)&&(this.removeAt(s),s-=1,o-=1,t.push(l))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:s,includeScore:o,shouldSort:l,sortFn:a,ignoreFieldNorm:i}=this.options;let u=ue(e)?ue(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return gn(u,{ignoreFieldNorm:i}),l&&u.sort(a),lt(t)&&t>-1&&(u=u.slice(0,t)),bn(u,this._docs,{includeMatches:s,includeScore:o})}_searchStringList(e){const t=Ne(e,this.options),{records:s}=this._myIndex,o=[];return s.forEach(({v:l,i:a,n:i})=>{if(!oe(l))return;const{isMatch:u,score:d,indices:h}=t.searchIn(l);u&&o.push({item:l,idx:a,matches:[{score:d,value:l,norm:i,indices:h}]})}),o}_searchLogical(e){const t=pt(e,this.options),s=(i,u,d)=>{if(!i.children){const{keyId:m,searcher:k}=i,r=this._findMatches({key:this._keyStore.get(m),value:this._myIndex.getValueForItemAtKeyId(u,m),searcher:k});return r&&r.length?[{idx:d,item:u,matches:r}]:[]}const h=[];for(let m=0,k=i.children.length;m<k;m+=1){const r=i.children[m],f=s(r,u,d);if(f.length)h.push(...f);else if(i.operator===Fe.AND)return[]}return h},o=this._myIndex.records,l={},a=[];return o.forEach(({$:i,i:u})=>{if(oe(i)){let d=s(t,i,u);d.length&&(l[u]||(l[u]={idx:u,item:i,matches:[]},a.push(l[u])),d.forEach(({matches:h})=>{l[u].matches.push(...h)}))}}),a}_searchObjectList(e){const t=Ne(e,this.options),{keys:s,records:o}=this._myIndex,l=[];return o.forEach(({$:a,i})=>{if(!oe(a))return;let u=[];s.forEach((d,h)=>{u.push(...this._findMatches({key:d,value:a[h],searcher:t}))}),u.length&&l.push({idx:i,item:a,matches:u})}),l}_findMatches({key:e,value:t,searcher:s}){if(!oe(t))return[];let o=[];if(pe(t))t.forEach(({v:l,i:a,n:i})=>{if(!oe(l))return;const{isMatch:u,score:d,indices:h}=s.searchIn(l);u&&o.push({score:d,key:e,value:l,idx:a,norm:i,indices:h})});else{const{v:l,n:a}=t,{isMatch:i,score:u,indices:d}=s.searchIn(l);i&&o.push({score:u,key:e,value:l,norm:a,indices:d})}return o}}Ie.version="7.0.0";Ie.createIndex=rt;Ie.parseIndex=Zt;Ie.config=P;Ie.parseQuery=pt;mn(fn);const In={class:"BuilderTemplateInput"},Sn=["id"],En=["value"],Cn={key:2,class:"fieldStateAutocomplete",tabindex:"-1"},wn=["value","onClick"],xn={class:"prop"},Bn={class:"type"},$n=q({__name:"BuilderTemplateInput",props:{inputId:{type:String,required:!1,default:void 0},value:{type:String,required:!1,default:void 0},multiline:{type:Boolean,required:!1},variant:{type:String,required:!1,default:void 0},type:{type:String,required:!1,default:void 0},options:{type:Object,required:!1,default:void 0},placeholder:{type:String,required:!1,default:void 0},error:{type:String,required:!1,default:void 0}},emits:["input","update:value"],setup(n,{expose:e,emit:t}){const s=t,o=n,l=L(D.core),a=mt([]),i=G(null);e({focus:()=>{var E;return(E=i.value)==null?void 0:E.focus()}});function u(E,B){return B.reduce((O,A)=>O==null?void 0:O[A],E)}const d=E=>{var p,y;let B=((p=i.value)==null?void 0:p.value)??"";const{selectionStart:O,selectionEnd:A}=((y=i.value)==null?void 0:y.getSelection())??{},F=B.slice(0,O),R=m(F);if(R===null)return;const M=R.at(-1).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"$",c=F.replace(new RegExp(M),E);B=c+B.slice(A),s("input",{target:{value:B}}),s("update:value",B),a.value=[],i.value.focus(),ce(()=>{i.value.setSelectionEnd(c.length),i.value.setSelectionStart(c.length)})},h=E=>E===null?"null":E===void 0?"undefined":typeof E,m=E=>{if((o.type??"template")==="state")return E.split(".");const B=E.match(/@\{([^}{@]*)$/);return B?((B==null?void 0:B[1])??"").split("."):null},k=E=>E.replace(/\\/g,"\\\\").replace(/\./g,"\\."),r=E=>{s("input",E),s("update:value",E.target.value),f()},f=()=>{var y,W;const{selectionStart:E,selectionEnd:B}=((y=i.value)==null?void 0:y.getSelection())??{},O=(W=i.value)==null?void 0:W.value;if(!(E===B)){a.value=[];return}const F=O.slice(0,E),R=m(F);if(R===null){a.value=[];return}const $=R.at(-1),M=R.slice(0,-1),c=Object.entries(u(l.userState.value,M)??{}).map(([N,X])=>({text:k(N),type:h(X)})),p=new Ie(c,{findAllMatches:!0,includeMatches:!0,keys:["text"]});if($===""){a.value=c;return}a.value=p.search($).map(N=>{const{item:X}=N;return X})};let S;function b(){S=setTimeout(()=>{a.value=[],S=null},300)}function _(){S&&(clearTimeout(S),S=null)}return(E,B)=>{const O=nt("capture-tabs");return v(),x("div",In,[o.multiline?C("",!0):(v(),x(Z,{key:0},[V(re,{ref_key:"input",ref:i,"model-value":o.value,autocorrect:"off",autocomplete:"off",spellcheck:"false",placeholder:o.placeholder,list:o.options?`list-${o.inputId}`:void 0,invalid:n.error!==void 0,onInput:r,onBlur:b},null,8,["model-value","placeholder","list","invalid"]),o.options?(v(),x("datalist",{key:0,id:`list-${o.inputId}`},[(v(!0),x(Z,null,ve(n.options,(A,F)=>(v(),x("option",{key:F,value:F},[A.toLowerCase()!==F.toLowerCase()?(v(),x(Z,{key:0},[le(Y(A),1)],64)):C("",!0)],8,En))),128))],8,Sn)):C("",!0)],64)),o.multiline?ke((v(),T(ht,{key:1,ref_key:"input",ref:i,variant:o.variant,"model-value":o.value,autocorrect:"off",autocomplete:"off",spellcheck:"false",rows:"3",placeholder:o.placeholder,invalid:n.error!==void 0,onInput:r},null,8,["variant","model-value","placeholder","invalid"])),[[O]]):C("",!0),a.value.length?(v(),x("div",Cn,[(v(!0),x(Z,null,ve(a.value,(A,F)=>(v(),x("button",{key:F,class:"fieldStateAutocompleteOption",value:F,onFocusout:b,onFocusin:_,onClick:()=>d(A.text)},[I("span",xn,Y(A.text),1),I("span",Bn,Y(A.type),1)],40,wn))),128))])):C("",!0)])}}}),ie=U($n,[["__scopeId","data-v-9e979551"]]),Mn=q({__name:"WdsTab",props:{disabled:{type:Boolean},selected:{type:Boolean}},emits:{click:()=>!0},setup(n){return(e,t)=>(v(),x("button",{class:Ve(["WdsTab",{"WdsTab--disabled":n.disabled,"WdsTab--selected":n.selected}]),type:"button",onClick:t[0]||(t[0]=s=>e.$emit("click"))},[Te(e.$slots,"default",{},void 0,!0)],2))}}),An=U(Mn,[["__scopeId","data-v-333dd4cb"]]),Tn={class:"WdsTabs"},Fn=q({__name:"WdsTabs",props:yt({tabs:{type:Array,required:!0}},{modelValue:{type:String},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const e=gt(n,"modelValue");return(t,s)=>(v(),x("div",Tn,[(v(!0),x(Z,null,ve(n.tabs,o=>(v(),T(An,{key:o.value,disabled:o.disabled,selected:o.value===e.value,onClick:l=>e.value=o.value},{default:j(()=>[le(Y(o.label),1)]),_:2},1032,["disabled","selected","onClick"]))),128))]))}}),ge=U(Fn,[["__scopeId","data-v-26cb79f9"]]),Be=Object.freeze([{label:"Default",value:"default"},{label:"CSS",value:"css"},{label:"Pick",value:"pick"}]),On=["data-automation-key"],Vn={key:0,class:"main"},Rn={key:0,class:"pickerContainer"},Pn=q({__name:"BuilderFieldsAlign",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},direction:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=se({loader:()=>ae(()=>import("./BuilderSelect-BRuuUHwH.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url),loadingComponent:be}),t=L(D.core),s=L(D.builderManager),{setContentValue:o}=ee(t,s),l=z("rootEl"),a=z("pickerEl"),i=z("freehandInputEl"),u=[{key:"start",label:"Left",match:c=>c=="start",default:"start",icon:"format_align_left"},{key:"center",label:"Center",match:c=>c=="center",default:"center",icon:"format_align_center"},{key:"end",label:"Right",match:c=>c=="end",default:"end",icon:"format_align_right"}],d=[{key:"start",label:"Top",match:c=>c=="start",default:"start",icon:"vertical_align_top"},{key:"center",label:"Center",match:c=>c=="center",default:"center",icon:"vertical_align_center"},{key:"end",label:"Bottom",match:c=>c=="end",default:"end",icon:"vertical_align_bottom"}],h={pick:a,css:i,default:null},m=n,{componentId:k,fieldKey:r,direction:f}=te(m),S=w(()=>t.getComponentById(k.value)),b=w(()=>f.value=="vertical"?d:f.value=="horizontal"?u:d),_=w(()=>b.value.map(c=>({value:c.key,label:c.label,icon:c.icon}))),E=w(()=>{const c=S.value.content[r.value];for(const p in b.value)if(c&&b.value[p].match(c))return b.value[p].key;return null}),B=w(()=>{const c=S.value.content[r.value];return c||""}),A=G((()=>{if(!B.value)return"default";for(const c in b.value)if(b.value[c].match(B.value))return"pick";return"css"})()),F=()=>{var p;const c=(p=h[A.value])==null?void 0:p.value;c&&(c.focus(),typeof c.selectionStart=="number"&&(c.selectionStart=c.selectionEnd=c.value.length))},R=async c=>{A.value!=c&&(A.value=c,await ce(),F(),c==="default"&&o(S.value.id,r.value,void 0))},$=c=>{for(const p in b.value)if(b.value[p].key==c){const y=b.value[p].default;S.value.content[r.value]=y,o(S.value.id,r.value,y)}},M=c=>{o(S.value.id,r.value,c.target.value)};return ye(()=>{l.value.addEventListener("focus",F)}),xe(()=>{l.value.removeEventListener("focus",F)}),(c,p)=>(v(),x("div",{ref_key:"rootEl",ref:l,class:"BuilderFieldsAlign",tabindex:"-1","data-automation-key":m.fieldKey},[V(ge,{tabs:g(Be),"model-value":A.value,"onUpdate:modelValue":R},null,8,["tabs","model-value"]),A.value=="pick"||A.value=="css"?(v(),x("div",Vn,[A.value=="pick"?(v(),x("div",Rn,[V(g(e),{ref_key:"pickerEl",ref:a,"model-value":E.value,options:_.value,"onUpdate:modelValue":$},null,8,["model-value","options"])])):C("",!0),A.value=="css"?(v(),T(ie,{key:1,ref_key:"freehandInputEl",ref:i,value:S.value.content[g(r)],error:n.error,onInput:M},null,8,["value","error"])):C("",!0)])):C("",!0)],8,On))}}),et=U(Pn,[["__scopeId","data-v-31969a8e"]]),Ln=["data-automation-key"],Dn={key:0,class:"main"},Wn={key:0,class:"pickerContainer"},jn=["value"],Nn=q({__name:"BuilderFieldsColor",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=L(D.core),t=L(D.builderManager),{setContentValue:s}=ee(e,t),o=z("rootEl"),l=z("pickerEl"),a=z("freehandInputEl"),i={pick:l,css:a,default:null},u=n,{componentId:d,fieldKey:h}=te(u),m=w(()=>e.getComponentById(d.value)),r=G((()=>{const _=m.value.content[h.value];return _?/#[A-Fa-f0-9]{6}/.test(_)?"pick":"css":"default"})()),f=()=>{var E;const _=(E=i[r.value])==null?void 0:E.value;_&&(_.focus(),typeof _.selectionStart=="number"&&(_.selectionStart=_.selectionEnd=_.value.length))},S=async _=>{r.value!=_&&(r.value=_,await ce(),f(),_==="default"&&s(m.value.id,h.value,void 0))},b=_=>s(m.value.id,h.value,_.target.value);return ye(()=>{o.value.addEventListener("focus",f)}),xe(()=>{o.value.removeEventListener("focus",f)}),(_,E)=>(v(),x("div",{ref_key:"rootEl",ref:o,class:"BuilderFieldsColor",tabindex:"-1","data-automation-key":g(h)},[V(ge,{tabs:g(Be),"model-value":r.value,"onUpdate:modelValue":S},null,8,["tabs","model-value"]),r.value=="pick"||r.value=="css"?(v(),x("div",Dn,[r.value=="pick"?(v(),x("div",Wn,[I("input",{ref_key:"pickerEl",ref:l,type:"color",value:m.value.content[g(h)],onInput:b},null,40,jn)])):C("",!0),r.value=="css"?(v(),T(ie,{key:1,ref_key:"freehandInputEl",ref:a,value:m.value.content[g(h)],error:n.error,onInput:b},null,8,["value","error"])):C("",!0)])):C("",!0)],8,Ln))}}),qn=U(Nn,[["__scopeId","data-v-335d2cc7"]]),Un=q({__name:"BuilderFieldsObject",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=L(D.core),t=L(D.builderManager),{setContentValue:s}=ee(e,t),o=n,{componentId:l,fieldKey:a}=te(o),i=w(()=>e.getComponentById(l.value)),u=h=>{s(i.value.id,a.value,h)},d=w(()=>{const{type:h}=i.value;return e.getComponentDefinition(h).fields[a.value]});return(h,m)=>{var k;return v(),T(ie,{class:"BuilderFieldsObject","data-automation-key":o.fieldKey,multiline:"",variant:"code",value:i.value.content[g(a)],placeholder:(k=d.value)==null?void 0:k.default,error:n.error,onInput:m[0]||(m[0]=r=>u(r.target.value))},null,8,["data-automation-key","value","placeholder","error"])}}}),vt=U(Un,[["__scopeId","data-v-7749ae31"]]),Kn=["data-automation-key"],zn=["onClick"],Yn={class:"formAdd"},Hn=q({__name:"BuilderFieldsKeyValue",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},instancePath:{type:Array,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=L(D.core),t=L(D.builderManager),{setContentValue:s}=ee(e,t),o=n,{componentId:l,fieldKey:a}=te(o),i=w(()=>e.getComponentById(l.value)),u=z("rootEl"),d=z("assistedKeyEl"),h=G(null),m=G({}),k=G({key:"",value:""}),r=[{label:"Static List",value:"assisted"},{label:"JSON",value:"freehand"}],{getEvaluatedFields:f}=ot(e),S=w(()=>f(o.instancePath)[a.value].value),b=async O=>{h.value!=O&&(h.value=O,h.value=="assisted"&&_(),await ce())},_=()=>{m.value=S.value??{}},E=()=>{const{key:O,value:A}=k.value;O===""||A===""||(m.value={...m.value,[O]:A},s(i.value.id,a.value,JSON.stringify(m.value,null,2)),k.value={key:"",value:""},d.value.focus())},B=O=>{const A=m.value;if(delete A[O],m.value=A,Object.keys(m.value).length==0){s(i.value.id,a.value,void 0);return}s(i.value.id,a.value,JSON.stringify(m.value,null,2))};return we(()=>{var O;return(O=i.value)==null?void 0:O.content[a.value]},async()=>{!i.value||!S.value||(m.value=S.value)}),ye(async()=>{S.value?(m.value=S.value,b("assisted")):b("freehand")}),(O,A)=>(v(),x("div",{ref_key:"rootEl",ref:u,class:"BuilderFieldsOptions",tabindex:"-1","data-automation-key":o.fieldKey},[V(ge,{class:"BuilderFieldsOptions__tabs",tabs:r,"model-value":h.value,"onUpdate:modelValue":b},null,8,["model-value"]),h.value=="assisted"?(v(),x(Z,{key:0},[I("div",{class:Ve(["staticList",{"staticList--invalid":n.error!==void 0}])},[(v(!0),x(Z,null,ve(m.value,(F,R)=>(v(),x("div",{key:R,class:"entry"},[I("div",null,Y(R)+" · "+Y(F),1),I("button",{variant:"subtle",onClick:$=>B(R)},A[2]||(A[2]=[I("i",{class:"material-symbols-outlined"},"delete",-1)]),8,zn)]))),128))],2),I("div",Yn,[V(ie,{ref_key:"assistedKeyEl",ref:d,class:"inputKey",placeholder:"Type a key...",value:k.value.key,"onUpdate:value":A[0]||(A[0]=F=>k.value.key=F),onKeydown:Ye(E,["enter"])},null,8,["value"]),V(ie,{class:"inputValue",placeholder:"Type a value...",value:k.value.value,"onUpdate:value":A[1]||(A[1]=F=>k.value.value=F),onKeydown:Ye(E,["enter"])},null,8,["value"]),I("button",{onClick:E},A[3]||(A[3]=[I("i",{class:"material-symbols-outlined"},"add",-1),le("Add ")]))])],64)):C("",!0),h.value=="freehand"?(v(),T(vt,{key:1,"component-id":i.value.id,"field-key":g(a),error:n.error},null,8,["component-id","field-key","error"])):C("",!0)],8,Kn))}}),Gn=U(Hn,[["__scopeId","data-v-810ae0d0"]]),Jn=["data-automation-key"],Xn={key:0,class:"main"},Qn={key:0,class:"pickerContainer"},Zn={class:"BuilderFieldsPadding__options"},eo=q({__name:"BuilderFieldsPadding",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=se({loader:()=>ae(()=>import("./BuilderSelect-BRuuUHwH.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url),loadingComponent:be}),t=L(D.core),s=L(D.builderManager),{setContentValue:o}=ee(t,s),l=z("rootEl"),a=z("pickerEl"),i=z("freehandInputEl"),u=z("fixedEl"),d=[{key:"all_sides",label:"All sides",match:p=>p.split(" ").length==1&&p.endsWith("px"),default:()=>B.value?B.value[0]:"0px"},{key:"XY sides",label:"XY sides",match:p=>p.split(" ").length==2&&p.endsWith("px"),default:()=>B.value?B.value[2]+" "+B.value[0]:"0px 0px"},{key:"Per side",label:"Per side",match:p=>p.split(" ").length==4&&p.endsWith("px"),default:()=>B.value?[B.value[3],B.value[1],B.value[2],B.value[0]].join(" "):"0px 0px 0px 0px"}],h={pick:a,css:i,default:null},m=n,{componentId:k,fieldKey:r}=te(m),f=w(()=>t.getComponentById(k.value)),S=w(()=>d.map(p=>({value:p.key,label:p.label,icon:"padding"}))),b=w(()=>{const p=f.value.content[r.value];for(const y in d)if(p&&d[y].match(p))return d[y].key;return null}),_=w(()=>{const p=f.value.content[r.value];return p||""}),E=w(()=>{const p=B.value;return p?[p[0].substring(0,p[0].length-2),p[1].substring(0,p[1].length-2),p[2].substring(0,p[2].length-2),p[3].substring(0,p[3].length-2)]:["0","0","0","0"]}),B=w(()=>{const p=f.value.content[r.value];if(p){const y=p.split(" ");if(y.length==1&&y[0].endsWith("px"))return[y[0],y[0],y[0],y[0]];if(y.length==2&&y[0].endsWith("px")&&y[0].endsWith("px"))return[y[1],y[1],y[0],y[0]];if(y.length==4&&y[0].endsWith("px")&&y[1].endsWith("px")&&y[2].endsWith("px")&&y[3].endsWith("px"))return[y[3],y[1],y[0],y[2]]}else return null;return null}),A=G((()=>{if(!_.value)return"default";for(const p in d)if(d[p].match(_.value))return"pick";return"css"})()),F=()=>{var y;const p=(y=h[A.value])==null?void 0:y.value;p&&(p.focus(),typeof p.selectionStart=="number"&&(p.selectionStart=p.selectionEnd=p.value.length))},R=async p=>{A.value!=p&&(A.value=p,await ce(),F(),p==="default"&&o(f.value.id,r.value,void 0))},$=p=>{for(const y in d)if(d[y].key==p){const W=d[y].default();f.value.content[r.value]=W,o(f.value.id,r.value,W)}ce(()=>{var y;(y=u.value)==null||y.focus()})},M=p=>{o(f.value.id,r.value,p.target.value)},c=(p,y,W)=>{const N=Number(p),X=f.value.content[r.value];if(y=="all_sides")o(f.value.id,r.value,N+"px");else if(y=="XY sides"){const Q=X.split(" ");W=="x"?Q[1]=N+"px":W=="y"&&(Q[0]=N+"px"),o(f.value.id,r.value,Q.join(" "))}else if(y=="Per side"){const Q=X.split(" ");W=="top"?Q[0]=N+"px":W=="right"?Q[1]=N+"px":W=="bottom"?Q[2]=N+"px":W=="left"&&(Q[3]=N+"px"),o(f.value.id,r.value,Q.join(" "))}};return ye(()=>{l.value.addEventListener("focus",F)}),xe(()=>{l.value.removeEventListener("focus",F)}),(p,y)=>(v(),x("div",{ref_key:"rootEl",ref:l,class:"BuilderFieldsPadding",tabindex:"-1","data-automation-key":m.fieldKey},[V(ge,{tabs:g(Be),"model-value":A.value,"onUpdate:modelValue":R},null,8,["tabs","model-value"]),A.value=="pick"||A.value=="css"?(v(),x("div",Xn,[A.value=="pick"?(v(),x("div",Qn,[V(g(e),{ref_key:"pickerEl",ref:a,"model-value":b.value,options:S.value,"onUpdate:modelValue":$},null,8,["model-value","options"]),I("div",Zn,[b.value=="all_sides"?(v(),x(Z,{key:0},[y[7]||(y[7]=I("i",null,"All",-1)),V(re,{ref_key:"fixedEl",ref:u,type:"number","model-value":E.value[0],"onUpdate:modelValue":y[0]||(y[0]=W=>c(W,b.value))},null,8,["model-value"]),y[8]||(y[8]=I("div",null,"px",-1))],64)):C("",!0),b.value=="XY sides"?(v(),x(Z,{key:1},[y[9]||(y[9]=I("i",null,"X",-1)),V(re,{type:"number","model-value":E.value[0],"onUpdate:modelValue":y[1]||(y[1]=W=>c(W,b.value,"x"))},null,8,["model-value"]),y[10]||(y[10]=I("div",null,"px",-1)),y[11]||(y[11]=I("i",null,"Y",-1)),V(re,{type:"number","model-value":E.value[2],"onUpdate:modelValue":y[2]||(y[2]=W=>c(W,b.value,"y"))},null,8,["model-value"]),y[12]||(y[12]=I("div",null,"px",-1))],64)):C("",!0),b.value=="Per side"?(v(),x(Z,{key:2},[y[13]||(y[13]=I("i",null,"Left",-1)),V(re,{type:"number","model-value":E.value[0],"onUpdate:modelValue":y[3]||(y[3]=W=>c(W,b.value,"left"))},null,8,["model-value"]),y[14]||(y[14]=I("div",null,"px",-1)),y[15]||(y[15]=I("i",null,"Right",-1)),V(re,{type:"number","model-value":E.value[1],"onUpdate:modelValue":y[4]||(y[4]=W=>c(W,b.value,"right"))},null,8,["model-value"]),y[16]||(y[16]=I("div",null,"px",-1)),y[17]||(y[17]=I("i",null,"Top",-1)),V(re,{type:"number","model-value":E.value[2],"onUpdate:modelValue":y[5]||(y[5]=W=>c(W,b.value,"top"))},null,8,["model-value"]),y[18]||(y[18]=I("div",null,"px",-1)),y[19]||(y[19]=I("i",null,"Bottom",-1)),V(re,{type:"number","model-value":E.value[3],"onUpdate:modelValue":y[6]||(y[6]=W=>c(W,b.value,"bottom"))},null,8,["model-value"]),y[20]||(y[20]=I("div",null,"px",-1))],64)):C("",!0)])])):C("",!0),A.value=="css"?(v(),T(ie,{key:1,ref_key:"freehandInputEl",ref:i,value:f.value.content[g(r)],error:n.error,onInput:M},null,8,["value","error"])):C("",!0)])):C("",!0)],8,Jn))}}),to=U(eo,[["__scopeId","data-v-293a6705"]]),no=["data-automation-key"],oo={key:0,class:"main"},lo={key:0,class:"pickerContainer"},so={class:"param"},ao={class:"header"},io=["value"],ro={class:"param"},uo={class:"header"},co=["value"],po={class:"param"},vo={class:"header"},fo=["value"],mo={class:"param"},ho={class:"header"},yo=["value"],go={class:"param"},_o=["value"],ko=q({__name:"BuilderFieldsShadow",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=L(D.core),t=L(D.builderManager),{setContentValue:s}=ee(e,t),o=z("rootEl"),l=z("freehandInputEl"),a=z("paramOffsetXEl"),i=z("paramOffsetYEl"),u=z("paramBlurRadiusEl"),d=z("paramSpreadRadiusEl"),h=z("paramColorEl"),m={pick:a,css:l,default:null},k=n,{componentId:r,fieldKey:f}=te(k),S=w(()=>e.getComponentById(r.value)),b=/^(?<offsetX>[0-9]+)px (?<offsetY>[0-9]+)px (?<blurRadius>[0-9]+)px (?<spreadRadius>[0-9-]+)px (?<color>#[A-Fa-f0-9]{6})$/,E=G((()=>{const $=S.value.content[f.value];return $?b.test($)?"pick":"css":"default"})()),B=()=>{var M;const $=(M=m[E.value])==null?void 0:M.value;$&&($.focus(),typeof $.selectionStart=="number"&&($.selectionStart=$.selectionEnd=$.value.length))},O=async $=>{E.value!=$&&(E.value=$,await ce(),B(),$==="default"&&s(S.value.id,f.value,void 0))},A=()=>{const $=a.value.value,M=i.value.value,c=u.value.value,p=d.value.value,y=h.value.value,W=`${$}px ${M}px ${c}px ${p}px ${y}`;s(S.value.id,f.value,W)},F=$=>{s(S.value.id,f.value,$.target.value)},R=w(()=>{var c;const $=S.value.content[f.value];return(c=$==null?void 0:$.match(b))==null?void 0:c.groups});return ye(()=>{o.value.addEventListener("focus",B)}),xe(()=>{o.value.removeEventListener("focus",B)}),($,M)=>{var c,p,y,W,N,X,Q,Se,Ee,Ce,ne,K,ze;return v(),x("div",{ref_key:"rootEl",ref:o,class:"BuilderFieldsShadow",tabindex:"-1","data-automation-key":k.fieldKey},[V(ge,{tabs:g(Be),"model-value":E.value,"onUpdate:modelValue":O},null,8,["tabs","model-value"]),E.value=="pick"||E.value=="css"?(v(),x("div",oo,[E.value=="pick"?(v(),x("div",lo,[I("div",so,[I("div",ao,[M[0]||(M[0]=I("div",{class:"name"},"Offset X",-1)),ke(I("div",{class:"value"},Y((c=R.value)==null?void 0:c.offsetX)+"px ",513),[[$e,(p=R.value)==null?void 0:p.offsetX]])]),I("input",{ref_key:"paramOffsetXEl",ref:a,type:"range",min:"0",max:"32",value:(y=R.value)==null?void 0:y.offsetX,onInput:A},null,40,io)]),I("div",ro,[I("div",uo,[M[1]||(M[1]=I("div",{class:"name"},"Offset Y",-1)),ke(I("div",{class:"value"},Y((W=R.value)==null?void 0:W.offsetY)+"px ",513),[[$e,(N=R.value)==null?void 0:N.offsetY]])]),I("input",{ref_key:"paramOffsetYEl",ref:i,type:"range",min:"0",max:"32",value:(X=R.value)==null?void 0:X.offsetY,onInput:A},null,40,co)]),I("div",po,[I("div",vo,[M[2]||(M[2]=I("div",{class:"name"},"Blur radius",-1)),ke(I("div",{class:"value"},Y((Q=R.value)==null?void 0:Q.blurRadius)+"px ",513),[[$e,(Se=R.value)==null?void 0:Se.blurRadius]])]),I("input",{ref_key:"paramBlurRadiusEl",ref:u,type:"range",min:"0",max:"32",value:(Ee=R.value)==null?void 0:Ee.blurRadius,onInput:A},null,40,fo)]),I("div",mo,[I("div",ho,[M[3]||(M[3]=I("div",{class:"name"},"Spread radius",-1)),ke(I("div",{class:"value"},Y((Ce=R.value)==null?void 0:Ce.spreadRadius)+"px ",513),[[$e,(ne=R.value)==null?void 0:ne.spreadRadius]])]),I("input",{ref_key:"paramSpreadRadiusEl",ref:d,type:"range",min:"-16",max:"32",value:(K=R.value)==null?void 0:K.spreadRadius,onInput:A},null,40,yo)]),I("div",go,[M[4]||(M[4]=I("div",{class:"header"},[I("div",{class:"name"},"Color")],-1)),I("input",{ref_key:"paramColorEl",ref:h,type:"color",value:(ze=R.value)==null?void 0:ze.color,onInput:A},null,40,_o)])])):C("",!0),E.value=="css"?(v(),T(ie,{key:1,ref_key:"freehandInputEl",ref:l,value:S.value.content[g(f)],error:n.error,onInput:F},null,8,["value","error"])):C("",!0)])):C("",!0)],8,no)}}}),bo=U(ko,[["__scopeId","data-v-3d00b12a"]]),Io=["data-automation-key"],So=q({__name:"BuilderFieldsText",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=L(D.core),t=L(D.builderManager),{setContentValue:s}=ee(e,t),o=n,{componentId:l,fieldKey:a}=te(o),i=w(()=>e.getComponentById(l.value)),u=w(()=>{const{type:r}=i.value;return e.getComponentDefinition(r).fields[a.value]}),d=w(()=>`${o.componentId}-${o.fieldKey}`),h={uiComponents:()=>{const r=e.getComponents(void 0,{sortedByPosition:!0}).filter(S=>e.isChildOf("root",S.id)),f={};return r.forEach(S=>{f[S.id]=S.id}),f},uiComponentsWithEvents:()=>e.getComponents(void 0,{sortedByPosition:!0}).filter(r=>e.isChildOf("root",r.id)).filter(r=>!!e.getComponentDefinition(r.type).events).reduce((r,f)=>(r[f.id]=f.id,r),{}),eventTypes:(r,f)=>{var B;const S=(B=r.getComponentById(f).content)==null?void 0:B.refComponentId,b=e.getComponentById(S);if(!b)return{};const _=r.getComponentDefinition(b.type);return Object.fromEntries(Object.keys(_.events??{}).map(O=>[O,O]))}},m=w(()=>{const r=u.value;return r.options?typeof r.options=="function"?r.options(e,l.value):typeof r.options=="string"?h==null?void 0:h[r.options](e,l.value):r.options:{}}),k=r=>{s(i.value.id,a.value,r.target.value)};return(r,f)=>{var S,b;return v(),x("div",{class:"BuilderFieldsText","data-automation-key":o.fieldKey},[!u.value.control||u.value.control==g(Le).Text?(v(),T(ie,{key:0,class:"content","input-id":d.value,value:i.value.content[g(a)],placeholder:(S=u.value)==null?void 0:S.default,options:m.value,error:n.error,onInput:k},null,8,["input-id","value","placeholder","options","error"])):u.value.control==g(Le).Textarea?(v(),T(ie,{key:1,multiline:"",variant:"text",class:"content","input-id":d.value,value:i.value.content[g(a)],placeholder:(b=u.value)==null?void 0:b.default,error:n.error,onInput:k},null,8,["input-id","value","placeholder","error"])):C("",!0)],8,Io)}}}),Pe=U(So,[["__scopeId","data-v-b2fda2e3"]]),Eo=["data-automation-key"],Co={key:0,class:"main"},wo={key:0,class:"pickerContainer"},xo={key:0,class:"fixedContainer"},Bo=q({__name:"BuilderFieldsWidth",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=se({loader:()=>ae(()=>import("./BuilderSelect-BRuuUHwH.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url),loadingComponent:be}),t=L(D.core),s=L(D.builderManager),{setContentValue:o}=ee(t,s),l=z("rootEl"),a=z("pickerEl"),i=z("freehandInputEl"),u=z("fixedEl"),d=[{key:"fixed",label:"Fixed",match:c=>c.endsWith("px"),default:"160px"},{key:"fit-content",label:"Fit Content",match:c=>c=="fit-content",default:"fit-content"},{key:"full",label:"Full",match:c=>c=="100%",default:"100%"}],h={pick:a,css:i,default:null},m=n,{componentId:k,fieldKey:r}=te(m),f=w(()=>t.getComponentById(k.value)),S=w(()=>d.map(c=>({value:c.key,label:c.label,icon:"width"}))),b=w(()=>{const c=f.value.content[r.value];for(const p in d)if(c&&d[p].match(c))return d[p].key;return null}),_=w(()=>{const c=f.value.content[r.value];return c||""}),E=w(()=>{const c=f.value.content[r.value];if(c){if(c.endsWith("px"))return c.substring(0,c.length-2)}else return null;return null}),O=G((()=>{if(!_.value)return"default";for(const c in d)if(d[c].match(_.value))return"pick";return"css"})()),A=()=>{var p;const c=(p=h[O.value])==null?void 0:p.value;c&&(c.focus(),typeof c.selectionStart=="number"&&(c.selectionStart=c.selectionEnd=c.value.length))},F=async c=>{O.value!=c&&(O.value=c,await ce(),A(),c==="default"&&o(f.value.id,r.value,void 0))},R=c=>{for(const p in d)if(d[p].key==c){const y=d[p].default;f.value.content[r.value]=y,o(f.value.id,r.value,y)}c=="fixed"&&ce(()=>{u.value.focus()})},$=c=>{o(f.value.id,r.value,c.target.value)},M=c=>{o(f.value.id,r.value,`${c}px`)};return ye(()=>{l.value.addEventListener("focus",A)}),xe(()=>{l.value.removeEventListener("focus",A)}),(c,p)=>(v(),x("div",{ref_key:"rootEl",ref:l,class:"BuilderFieldsWidth",tabindex:"-1","data-automation-key":m.fieldKey},[V(ge,{tabs:g(Be),"model-value":O.value,"onUpdate:modelValue":F},null,8,["tabs","model-value"]),O.value=="pick"||O.value=="css"?(v(),x("div",Co,[O.value=="pick"?(v(),x("div",wo,[V(g(e),{ref_key:"pickerEl",ref:a,"model-value":b.value,options:S.value,"onUpdate:modelValue":R},null,8,["model-value","options"]),b.value=="fixed"?(v(),x("div",xo,[V(re,{ref_key:"fixedEl",ref:u,type:"number","model-value":E.value,invalid:n.error!==void 0,"onUpdate:modelValue":M},null,8,["model-value","invalid"]),p[0]||(p[0]=I("div",null,"px",-1))])):C("",!0)])):C("",!0),O.value=="css"?(v(),T(ie,{key:1,ref_key:"freehandInputEl",ref:i,value:f.value.content[g(r)],onInput:$},null,8,["value"])):C("",!0)])):C("",!0)],8,Eo))}}),$o=U(Bo,[["__scopeId","data-v-a96da90c"]]),Mo={class:"WdsFieldWrapper colorTransformer"},Ao={class:"temporaryMissingBar"},To={key:0,class:"WdsFieldWrapper__title"},Fo={key:0,class:"WdsFieldWrapper__title__label"},Oo={key:0,class:"WdsFieldWrapper__title__label__unit"},Vo={class:"WdsFieldWrapper__slot"},Ro={key:1,class:"WdsFieldWrapper__error"},Po={key:2,class:"WdsFieldWrapper__hint"},Lo=q({__name:"WdsFieldWrapper",props:{label:{type:String,required:!1,default:void 0},unit:{type:String,required:!1,default:void 0},hint:{type:String,required:!1,default:void 0},error:{type:String,required:!1,default:void 0},isExpansible:{type:Boolean,required:!1,default:!1},helpButton:{type:[String,Boolean],required:!1,default:void 0}},emits:{helpClick:()=>!0,expand:()=>!0,shrink:()=>!0},setup(n,{emit:e}){const t=e,s=G(!1);function o(){t("expand"),s.value=!0}const l={desc:"OK",fn:()=>{s.value=!1,t("shrink")}};return(a,i)=>(v(),x("div",Mo,[s.value?(v(),x(Z,{key:0},[V(Oe,{actions:[l],description:n.hint,title:n.label},{default:j(()=>[Te(a.$slots,"default",{},void 0,!0)]),_:3},8,["actions","description","title"]),I("div",Ao,[i[1]||(i[1]=le(" Field ")),I("strong",null,Y(n.label),1),i[2]||(i[2]=le(" is open in a new window. "))])],64)):(v(),x(Z,{key:1},[!s.value&&(n.label||n.helpButton)?(v(),x("div",To,[n.label?(v(),x("label",Fo,[le(Y(n.label),1),n.unit?(v(),x("span",Oo," : "+Y(n.unit),1)):C("",!0)])):C("",!0),n.isExpansible?(v(),T(J,{key:1,class:"WdsFieldWrapper__title__help",variant:"neutral",size:"smallIcon","data-writer-tooltip":"Expand",onClick:o},{default:j(()=>i[3]||(i[3]=[I("i",{class:"material-symbols-outlined"},"open_in_new",-1)])),_:1})):C("",!0),n.helpButton?(v(),T(J,{key:2,class:"WdsFieldWrapper__title__help",variant:"neutral",size:"smallIcon","data-writer-tooltip":typeof n.helpButton=="string"?n.helpButton:void 0,onClick:i[0]||(i[0]=u=>a.$emit("helpClick"))},{default:j(()=>i[4]||(i[4]=[I("i",{class:"material-symbols-outlined"},"help",-1)])),_:1},8,["data-writer-tooltip"])):C("",!0)])):C("",!0),I("div",Vo,[Te(a.$slots,"default",{},void 0,!0)]),n.error?(v(),x("p",Ro,Y(n.error),1)):C("",!0),n.hint?(v(),x("p",Po,Y(n.hint),1)):C("",!0)],64))]))}}),he=U(Lo,[["__scopeId","data-v-6ccdf720"]]),Do=["data-automation-key"],Wo={class:"tools"},jo=["onClick"],No={class:"toolName"},qo={class:"addToolForm"},Uo=q({__name:"BuilderFieldsTools",props:{componentId:{},fieldKey:{}},setup(n){const e=se({loader:()=>ae(()=>import("./BuilderGraphSelect-C4qufJ0z.js"),__vite__mapDeps([5,1,2,6,7,8,9,10,11,12]),import.meta.url),loadingComponent:be}),t=se(()=>ae(()=>import("./BuilderEmbeddedCodeEditor-Dh2OrZiD.js").then($=>$.a),__vite__mapDeps([13,1,2,14]),import.meta.url)),s=L(D.core),o=L(D.builderManager),{setContentValue:l}=ee(s,o),i={isShown:!1,type:"function",name:"new_tool",code:`
{
	"description": "Gets info for an employee, given an employee id",
    "parameters": {
      "id": {"type": "string", "description": "Id of the employee"}
    }
}
`.trim(),graphIds:""},u=G(i),d=w(()=>{switch(u.value.type){case"function":return!u.value.code;case"graph":return!u.value.graphIds;default:return!0}}),h=w({get:()=>u.value.graphIds.split(","),set($){u.value={...u.value,graphIds:$.join(",")}}}),m=n,{componentId:k,fieldKey:r}=te(m),f=w(()=>s.getComponentById(k.value)),S=w(()=>{let $={};try{$=JSON.parse(f.value.content[r.value])}catch{$={}}return $});function b(){u.value={...i,isShown:!0}}function _(){const{type:$,code:M,graphIds:c}=u.value;if($=="function")return{...JSON.parse(M),type:$};if($=="graph"){const p=c.split(",").map(y=>y.trim());return{type:$,graph_ids:p}}throw"Unexpected tool type."}function E($){let M=[];const{originalName:c,name:p}=$;return p||M.push("The name cannot be empty."),Object.keys(S.value).includes(p)&&!(c||c==p)&&M.push("An existing tool with the specified name already exists."),M}function B(){const $=E(u.value);if($.length>0){$.forEach(alert);return}let M;try{M=_()}catch{alert("Incorrect tool definition");return}const c=JSON.stringify({...S.value,...u.value.originalName?{[u.value.originalName]:void 0}:{},[u.value.name]:M});l(f.value.id,r.value,c),u.value.isShown=!1}function O($,M){var p;const{type:c}=M;if(c=="function")return{isShown:!0,type:"function",originalName:$,name:$,graphIds:"",code:JSON.stringify(M,void 0,2)};if(c=="graph")return{isShown:!0,type:"graph",originalName:$,name:$,graphIds:(p=M.graph_ids)==null?void 0:p.join(","),code:""};throw"Unexpected tool type;"}function A($){var c;const M=(c=S.value)==null?void 0:c[$];M&&(u.value=O($,M))}function F($){const M=JSON.stringify({...S.value,[$]:void 0});l(f.value.id,r.value,M)}const R=w(()=>[{desc:"cancel",fn:()=>u.value.isShown=!1},{desc:"Save",disabled:d.value,fn:B}]);return($,M)=>(v(),x("div",{class:"BuilderFieldsTools colorTransformer","data-automation-key":m.fieldKey},[I("div",Wo,[(v(!0),x(Z,null,ve(S.value,(c,p)=>(v(),x("div",{key:p,class:"tool",onClick:y=>A(p)},[I("div",No,Y(p),1),V(J,{variant:"primary",size:"small",class:"delete",onClick:_t(y=>F(p),["stop"])},{default:j(()=>M[4]||(M[4]=[I("i",{class:"material-symbols-outlined"},"delete",-1)])),_:2},1032,["onClick"])],8,jo))),128))]),V(J,{size:"small",onClick:b},{default:j(()=>M[5]||(M[5]=[I("i",{class:"material-symbols-outlined"},"add",-1),le(" Add tool")])),_:1}),u.value.isShown?(v(),T(Oe,{key:0,actions:R.value,title:"Add tool","allow-overflow":""},{default:j(()=>[I("div",qo,[V(he,{label:"Tool type"},{default:j(()=>[V(kt,{modelValue:u.value.type,"onUpdate:modelValue":M[0]||(M[0]=c=>u.value.type=c)},{default:j(()=>M[6]||(M[6]=[I("option",{value:"function"},"Function",-1),I("option",{value:"graph"},"Knowledge graph",-1)])),_:1},8,["modelValue"])]),_:1}),V(he,{label:"Tool name"},{default:j(()=>[V(re,{modelValue:u.value.name,"onUpdate:modelValue":M[1]||(M[1]=c=>u.value.name=c)},null,8,["modelValue"])]),_:1}),u.value.type=="function"?(v(),T(he,{key:0,"frame-slot":!0,label:"Function tool definition"},{default:j(()=>[V(g(t),{modelValue:u.value.code,"onUpdate:modelValue":M[2]||(M[2]=c=>u.value.code=c),class:"addToolForm__codeEditor",variant:"minimal",language:"json"},null,8,["modelValue"])]),_:1})):C("",!0),u.value.type=="graph"?(v(),T(he,{key:1,label:"Graph id(s)",hint:"Specify the id of the knowledge graph you want to use. If multiple, separate the ids using commas."},{default:j(()=>[V(g(e),{modelValue:h.value,"onUpdate:modelValue":M[3]||(M[3]=c=>h.value=c),"enable-multi-selection":""},null,8,["modelValue"])]),_:1})):C("",!0)])]),_:1},8,["actions"])):C("",!0)],8,Do))}}),Ko=U(Uo,[["__scopeId","data-v-1584a53c"]]),zo=q({__name:"BuilderFieldsCode",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0},isExpanded:{type:Boolean,required:!0}},setup(n){const e=se({loader:()=>ae(()=>import("./BuilderEmbeddedCodeEditor-Dh2OrZiD.js").then(h=>h.a),__vite__mapDeps([13,1,2,14]),import.meta.url),loadingComponent:be}),t=L(D.core),s=L(D.builderManager),{setContentValue:o}=ee(t,s),l=n,{componentId:a,fieldKey:i}=te(l),u=w(()=>t.getComponentById(a.value)),d=G(u.value.content[i.value]);return we(d,h=>{o(u.value.id,i.value,h)}),(h,m)=>(v(),T(g(e),{modelValue:d.value,"onUpdate:modelValue":m[0]||(m[0]=k=>d.value=k),language:"python",variant:n.isExpanded?"full":"minimal",class:"BuilderFieldsCode"},null,8,["modelValue","variant"]))}}),Yo=U(zo,[["__scopeId","data-v-65363ed2"]]),Ho=["data-automation-key"],Go=q({__name:"BuilderFieldsWorkflowKey",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0}},setup(n){const e=se(()=>ae(()=>import("./BuilderSelect-BRuuUHwH.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),t=L(D.core),s=L(D.builderManager),{setContentValue:o}=ee(t,s),l=n,{componentId:a,fieldKey:i}=te(l),u=w(()=>t.getComponentById(a.value)),d=w({get:()=>{var r;return((r=u.value)==null?void 0:r.content[l.fieldKey])??""},set:r=>o(u.value.id,i.value,r)}),h=w(()=>{const r=new Set;for(const b of t.getComponents("workflows_root"))b.content.key&&r.add(b.content.key);const f=[...r].sort((b,_)=>b.localeCompare(_)).map(b=>({value:b,label:b,icon:"linked_services"})),S=[{value:"",label:"(No workflow)",icon:"block"},...f];if(!S.some(b=>b.value===d.value)){const b=d.value;S.push({value:b,label:b})}return S}),m=w(()=>{const r=t.getComponents("workflows_root").find(f=>f.content.key===d.value);return r==null?void 0:r.id});function k(){m.value&&(s.setSelection(m.value,null,"click"),t.setActivePageId(m.value))}return(r,f)=>(v(),x("div",{class:"BuilderFieldsWorkflowKey","data-automation-key":l.fieldKey},[V(g(e),{modelValue:d.value,"onUpdate:modelValue":f[0]||(f[0]=S=>d.value=S),options:h.value},null,8,["modelValue","options"]),m.value?(v(),T(J,{key:0,variant:"neutral",size:"smallIcon","data-writer-tooltip":"Jump to the workflow",onClick:k},{default:j(()=>f[1]||(f[1]=[I("i",{class:"material-symbols-outlined"},"jump_to_element",-1)])),_:1})):C("",!0)],8,Ho))}}),Jo=U(Go,[["__scopeId","data-v-8cf315f2"]]),Xo=["data-automation-key"],Qo=q({__name:"BuilderFieldsHandler",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0}},setup(n){const e=se(()=>ae(()=>import("./BuilderSelect-BRuuUHwH.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),t=L(D.core),s=L(D.builderManager),{setContentValue:o}=ee(t,s),l=n,{componentId:a,fieldKey:i}=te(l),u=w(()=>t.getComponentById(a.value)),d=w({get:()=>{var m;return((m=u.value)==null?void 0:m.content[l.fieldKey])??""},set:m=>o(u.value.id,i.value,m)}),h=w(()=>{const m=t.userFunctions.value.map(r=>r.name).sort((r,f)=>r.localeCompare(f)).map(r=>({value:r,label:r,icon:"function"})),k=[{value:"",label:"(No handler)",icon:"block"},...m];if(!k.some(r=>r.value===d.value)){const r=d.value;k.push({value:r,label:r})}return k});return(m,k)=>(v(),x("div",{class:"BuilderFieldsHandler","data-automation-key":l.fieldKey},[V(g(e),{modelValue:d.value,"onUpdate:modelValue":k[0]||(k[0]=r=>d.value=r),options:h.value},null,8,["modelValue","options"])],8,Xo))}}),Zo=["data-automation-key"],el=["href","data-writer-tooltip"],tl=q({__name:"BuilderFieldsWriterResourceId",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0},resourceType:{type:String,required:!0}},setup(n){const e=se(()=>ae(()=>import("./BuilderApplicationSelect-ChJ5cS9q.js"),__vite__mapDeps([15,1,2,6,7,8,9,10,11,16]),import.meta.url)),t=se(()=>ae(()=>import("./BuilderGraphSelect-C4qufJ0z.js"),__vite__mapDeps([5,1,2,6,7,8,9,10,11,12]),import.meta.url)),s=L(D.core),o=L(D.builderManager),{setContentValue:l}=ee(s,o),a=n,{componentId:i,fieldKey:u}=te(a),d=w(()=>s.getComponentById(i.value)),h=z("selectorEl"),m=w(()=>a.resourceType==="graph"?t:e),k=w(()=>{switch(a.resourceType){case"graph":return"Edit knowledge graph";case"application":return"Edit agent";default:return}}),r=w(()=>{var b,_;if(!f.value)return;const S=(_=(b=h.value)==null?void 0:b.selectedData)==null?void 0:_.organization_id;if(S)switch(a.resourceType){case"graph":{const E=new URLSearchParams({graphId:f.value});return`https://app.writer.com/aistudio/organization/${S}/knowledge-graph?${E}`}case"application":return`https://app.writer.com/aistudio/organization/${S}/app/${f.value}`;default:return}}),f=w({get:()=>d.value.content[a.fieldKey]??"",set(S){l(d.value.id,u.value,String(S))}});return(S,b)=>(v(),x("div",{class:"BuilderFieldsWriterResourceId","data-automation-key":a.fieldKey},[(v(),T(bt(m.value),{ref_key:"selectorEl",ref:h,modelValue:f.value,"onUpdate:modelValue":b[0]||(b[0]=_=>f.value=_)},null,8,["modelValue"])),r.value?(v(),x("a",{key:0,class:"BuilderFieldsWriterResourceId__link",href:r.value,target:"_blank","data-writer-tooltip":k.value},b[1]||(b[1]=[I("i",{class:"material-symbols-outlined"}," open_in_new ",-1)]),8,el)):C("",!0)],8,Zo))}}),tt=U(tl,[["__scopeId","data-v-1a3ddfd9"]]),nl=["data-automation-key"],ol=q({__name:"BuilderFieldsComponentId",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=se(()=>ae(()=>import("./BuilderSelect-BRuuUHwH.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),t=L(D.core),s=L(D.builderManager),{setContentValue:o}=ee(t,s),l=n,{componentId:a,fieldKey:i}=te(l),u=w(()=>t.getComponentById(a.value));function*d(){yield t.getComponentById("root"),yield*t.getComponentsNested("root")}const h=w(()=>{const S=[];for(const b of d()){const _=t.getComponentDefinition(b==null?void 0:b.type);if(!(_!=null&&_.events)||Object.keys(_.events).length===0)continue;const{name:E,previewText:B,possibleImageUrls:O}=Bt(t,b),A=O.value,F=b.id;S.push({value:F,label:B.value??E.value,detail:B.value?E.value:void 0,icon:A})}return S}),m=w({get:()=>u.value.content[l.fieldKey]??"",set(S){o(u.value.id,i.value,String(S))}}),k=w(()=>{let S=m.value;for(;S;){const b=t.getComponentById(S);if(b.type==="page")return b.id;S=b.parentId}}),r=w(()=>t.getComponentById(m.value));function f(){!m.value||!r.value||(k.value&&(s.mode.value="ui",t.setActivePageId(k.value)),s.setSelection(m.value,null,"click"))}return(S,b)=>(v(),x("div",{class:"BuilderFieldsComponentId","data-automation-key":l.fieldKey},[V(g(e),{modelValue:m.value,"onUpdate:modelValue":b[0]||(b[0]=_=>m.value=_),options:h.value,"enable-search":""},null,8,["modelValue","options"]),m.value?(v(),T(J,{key:0,variant:"neutral",size:"smallIcon","data-writer-tooltip":"Jump to the element",disabled:!r.value,onClick:f},{default:j(()=>b[1]||(b[1]=[I("i",{class:"material-symbols-outlined"},"jump_to_element",-1)])),_:1},8,["disabled"])):C("",!0)],8,nl))}}),ll=U(ol,[["__scopeId","data-v-87b3c601"]]),sl=["data-automation-key"],al=q({__name:"BuilderFieldsComponentEventType",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=se(()=>ae(()=>import("./BuilderSelect-BRuuUHwH.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),t=L(D.core),s=L(D.builderManager),{setContentValue:o}=ee(t,s),l=n,{componentId:a,fieldKey:i}=te(l),u=w(()=>t.getComponentById(a.value)),d=w(()=>{var k;return t.getComponentDefinition((k=u.value)==null?void 0:k.type)}),h=w(()=>{var b,_;const k=(_=Object.entries(((b=d.value)==null?void 0:b.fields)??{}).find(([,E])=>E.type===H.ComponentId))==null?void 0:_.at(0);if(k===void 0)return[];const r=u.value.content[String(k)],f=t.getComponentById(r),S=t.getComponentDefinition(f==null?void 0:f.type);return S!=null&&S.events?Object.keys(S.events).map(E=>({value:E,label:E})):[]}),m=w({get:()=>u.value.content[l.fieldKey]??"",set(k){o(u.value.id,i.value,String(k))}});return(k,r)=>(v(),x("div",{class:"BuilderFieldsComponentEventType","data-automation-key":l.fieldKey},[h.value.length?(v(),T(g(e),{key:0,modelValue:m.value,"onUpdate:modelValue":r[0]||(r[0]=f=>m.value=f),options:h.value,"hide-icons":""},null,8,["modelValue","options"])):(v(),T(re,{key:1,modelValue:m.value,"onUpdate:modelValue":r[1]||(r[1]=f=>m.value=f)},null,8,["modelValue"]))],8,sl))}});function il(n,e){const{getEvaluatedFields:t}=ot(n),s=w(()=>{var i;const l=(i=e.value.at(-1))==null?void 0:i.componentId;if(l===void 0)return{};const a=n.getComponentById(l);return a?n.getComponentDefinition(a.type).fields??{}:{}}),o=w(()=>t(e.value));return w(()=>Object.entries(s.value).reduce((l,[a,i])=>{const u=o.value[a].value;return l[a]=rl(i,u),l},{}))}function rl(n,e){let t=n.validator;if(t===void 0&&typeof n.options=="object"&&n.options!==null&&Object.keys(n.options).length>0&&(t=It(Object.keys(n.options))),t===void 0)return;const s=St(t);if(!(s(e)||s.errors===void 0))return dl(s.errors)}function ul(n){var t;if(n.keyword==="format"&&Object.values(Et).includes(n.params.format))return Ct[n.params.format].errorMessage;let e="";return n.instancePath&&(e+=`${n.instancePath} `),e+=n.message,Array.isArray((t=n.params)==null?void 0:t.allowedValues)&&(e+=`: ${n.params.allowedValues.join(", ")}`),e}function dl(n){return n.map(ul).join(`
`)}const cl={key:0,class:"BuilderSettingsProperties"},pl={key:0,class:"BuilderSettingsProperties__category__title"},vl=q({__name:"BuilderSettingsProperties",setup(n){const e=L(D.core),t=L(D.builderManager),s=G(new Set),o=w(()=>{var f,S;return xt((S=(f=t.firstSelectedItem)==null?void 0:f.value)==null?void 0:S.instancePath)}),l=w(()=>e.getComponentById(t.firstSelectedId.value)),a=w(()=>{const{type:f}=l.value;return e.getComponentDefinition(f)}),i=w(()=>{var f;return(f=a.value)==null?void 0:f.fields});function u(f){return f.type===H.Code||f.type===H.Object||f.control===Le.Textarea}const d=il(e,o),h=w(()=>[de.General,de.Style,de.Tools].filter(f=>{var S;return(S=m.value[f])==null?void 0:S.length})),m=w(()=>{const f=Object.entries(i.value);return{[de.General]:f.filter(([b,_])=>!_.category||_.category==de.General),[de.Style]:f.filter(([b,_])=>_.category==de.Style),[de.Tools]:f.filter(([b,_])=>_.category==de.Tools)}});function k(f){s.value.add(f)}function r(f){s.value.delete(f)}return(f,S)=>g(t).isSingleSelectionActive&&i.value?(v(),x("div",cl,[(v(!0),x(Z,null,ve(h.value,b=>(v(),x("div",{key:b,class:"BuilderSettingsProperties__category"},[m.value[b].length>0?(v(),x("h4",pl,Y(b),1)):C("",!0),(v(!0),x(Z,null,ve(m.value[b],([_,E])=>(v(),x("div",{key:_,class:"BuilderSettingsProperties__category__field"},[V(he,{label:b==="Tools"?void 0:E.name??_,hint:E.desc,unit:E.type,error:g(d)[_],"is-expansible":u(E),onExpand:B=>k(_),onShrink:B=>r(_)},{default:j(()=>[E.type==g(H).Color?(v(),T(qn,{key:0,"field-key":_,"component-id":l.value.id,error:g(d)[_]},null,8,["field-key","component-id","error"])):C("",!0),E.type==g(H).Shadow?(v(),T(bo,{key:1,"field-key":_,"component-id":l.value.id,error:g(d)[_]},null,8,["field-key","component-id","error"])):C("",!0),E.type==g(H).KeyValue?(v(),T(Gn,{key:2,"field-key":_,"component-id":l.value.id,"instance-path":o.value,error:g(d)[_]},null,8,["field-key","component-id","instance-path","error"])):C("",!0),E.type==g(H).Text||E.type==g(H).Boolean?(v(),T(Pe,{key:3,"field-key":_,"component-id":l.value.id,error:g(d)[_]},null,8,["field-key","component-id","error"])):C("",!0),E.type==g(H).WorkflowKey?(v(),T(Jo,{key:4,"field-key":_,"component-id":l.value.id},null,8,["field-key","component-id"])):C("",!0),E.type==g(H).Handler?(v(),T(Qo,{key:5,"field-key":_,"component-id":l.value.id},null,8,["field-key","component-id"])):C("",!0),E.type==g(H).Number?(v(),T(Pe,{key:6,"field-key":_,"component-id":l.value.id,error:g(d)[_]},null,8,["field-key","component-id","error"])):C("",!0),E.type==g(H).IdKey?(v(),T(Pe,{key:7,"field-key":_,"component-id":l.value.id,error:g(d)[_]},null,8,["field-key","component-id","error"])):C("",!0),E.type==g(H).Object?(v(),T(vt,{key:8,"field-key":_,"component-id":l.value.id,error:g(d)[_]},null,8,["field-key","component-id","error"])):C("",!0),E.type==g(H).Width?(v(),T($o,{key:9,"field-key":_,"component-id":l.value.id,error:g(d)[_]},null,8,["field-key","component-id","error"])):C("",!0),E.type==g(H).HAlign?(v(),T(et,{key:10,direction:"horizontal","field-key":_,"component-id":l.value.id,error:g(d)[_]},null,8,["field-key","component-id","error"])):C("",!0),E.type==g(H).VAlign?(v(),T(et,{key:11,direction:"vertical","field-key":_,"component-id":l.value.id,error:g(d)[_]},null,8,["field-key","component-id","error"])):C("",!0),E.type==g(H).Padding?(v(),T(to,{key:12,"field-key":_,"component-id":l.value.id,error:g(d)[_]},null,8,["field-key","component-id","error"])):C("",!0),E.type==g(H).Tools?(v(),T(Ko,{key:13,"field-key":_,"component-id":l.value.id},null,8,["field-key","component-id"])):C("",!0),E.type==g(H).Code?(v(),T(Yo,{key:14,"field-key":_,"component-id":l.value.id,"is-expanded":s.value.has(_)},null,8,["field-key","component-id","is-expanded"])):C("",!0),E.type==g(H).WriterGraphId?(v(),T(tt,{key:15,"field-key":_,"component-id":l.value.id,error:g(d)[_],"resource-type":"graph"},null,8,["field-key","component-id","error"])):C("",!0),E.type==g(H).WriterAppId?(v(),T(tt,{key:16,"field-key":_,"component-id":l.value.id,error:g(d)[_],"resource-type":"application"},null,8,["field-key","component-id","error"])):C("",!0),E.type==g(H).ComponentId?(v(),T(ll,{key:17,"field-key":_,"component-id":l.value.id,error:g(d)[_]},null,8,["field-key","component-id","error"])):C("",!0),E.type==g(H).ComponentEventType?(v(),T(al,{key:18,"field-key":_,"component-id":l.value.id,error:g(d)[_]},null,8,["field-key","component-id","error"])):C("",!0)]),_:2},1032,["label","hint","unit","error","is-expansible","onExpand","onShrink"])]))),128))]))),128))])):C("",!0)}}),fl=U(vl,[["__scopeId","data-v-d700e943"]]),ml={class:"BuilderSectionTitle"},hl={class:"material-symbols-outlined"},yl=q({__name:"BuilderSectionTitle",props:{icon:{type:String,required:!0},label:{type:String,required:!0}},setup(n){return(e,t)=>(v(),x("div",ml,[I("i",hl,Y(n.icon),1),I("h3",null,Y(n.label),1)]))}}),ft=U(yl,[["__scopeId","data-v-731e03f5"]]),gl={key:0,class:"BuilderSettingsBinding"},_l={class:"main"},kl='Links this component to a state element, in a two-way fashion. Reference the state element directly, i.e. use "my_var" instead of "@{my_var}".',bl=q({__name:"BuilderSettingsBinding",setup(n){const e=L(D.core),t=L(D.builderManager),{setBinding:s}=ee(e,t),o=w(()=>e.getComponentById(t.firstSelectedId.value));return(l,a)=>g(t).isSingleSelectionActive?(v(),x("div",gl,[V(ft,{icon:"link",label:"Binding"}),I("div",_l,[V(he,{label:"State element",hint:kl},{default:j(()=>{var i;return[V(ie,{type:"state",value:(i=o.value.binding)==null?void 0:i.stateRef,placeholder:"my_var",onInput:a[0]||(a[0]=u=>g(s)(o.value.id,u.target.value))},null,8,["value"])]}),_:1})])])):C("",!0)}}),Il=U(bl,[["__scopeId","data-v-51a930b8"]]),Sl={key:0,class:"BuilderSettingsVisibility"},El={class:"main"},Cl={class:"flexRow"},wl=["checked"],xl='Reference a state or context element that will evaluate to true or false. Reference the element directly, i.e. use "my_var" instead of "@{my_var}".',Bl=q({__name:"BuilderSettingsVisibility",setup(n){const e=[{label:"Yes",value:"yes"},{label:"No",value:"no"},{label:"Custom",value:"custom"}],t=w({get(){const i=a.value.visible;return(i==null?void 0:i.expression)==="custom"?"custom":i===void 0||i.expression===!0?"yes":"no"},set(i){var u,d;i==="custom"?l(a.value.id,"custom",(u=a.value.visible)==null?void 0:u.binding,(d=a.value.visible)==null?void 0:d.reversed):l(a.value.id,i==="yes")}}),s=L(D.core),o=L(D.builderManager),{setVisibleValue:l}=ee(s,o),a=w(()=>s.getComponentById(o.firstSelectedId.value));return(i,u)=>g(o).isSingleSelectionActive?(v(),x("div",Sl,[V(ft,{icon:"visibility",label:"Visibility"}),I("div",El,[V(ge,{modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=d=>t.value=d),tabs:e},null,8,["modelValue"]),typeof a.value.visible<"u"&&a.value.visible.expression==="custom"?(v(),T(he,{key:0,hint:xl},{default:j(()=>[V(ie,{value:a.value.visible.binding,type:"state",placeholder:"my_visibility_state_value",onInput:u[1]||(u[1]=d=>g(l)(a.value.id,"custom",d.target.value,a.value.visible.reversed))},null,8,["value"]),I("div",Cl,[I("input",{type:"checkbox",checked:a.value.visible.reversed,onInput:u[2]||(u[2]=d=>g(l)(a.value.id,"custom",a.value.visible.binding,d.target.checked))},null,40,wl),u[3]||(u[3]=I("span",null,"Reverse",-1))])]),_:1})):C("",!0)])])):C("",!0)}}),$l=U(Bl,[["__scopeId","data-v-23772341"]]),Ml=["data-writer-tooltip"],Al=q({__name:"BuilderCopyText",setup(n){const e=G("Copy to clipboard");function t(s){const o=s.target.textContent;navigator.clipboard.writeText(o),e.value="Copied!",setTimeout(()=>{e.value="Copy to clipboard"},1e3)}return(s,o)=>(v(),x("span",{class:"BuilderCopyText","data-writer-tooltip":e.value,onClick:t},[Te(s.$slots,"default",{},void 0,!0)],8,Ml))}}),Tl=U(Al,[["__scopeId","data-v-46ba30f4"]]),Fl={key:0,class:"BuilderSettingsAPICode"},Ol={class:"modalContents"},Vl={class:"codeContainer"},Rl={class:"codeContainer"},Pl={key:1},Ll=q({__name:"BuilderSettingsAPICode",setup(n){const e=L(D.core),t=L(D.builderManager),s=w(()=>e.getComponentById(t.firstSelectedId.value)),o=w(()=>{var k;return((k=s.value)==null?void 0:k.type)==="workflows_workflow"}),l=w(()=>{var k;if(o.value)return(k=s.value.content)==null?void 0:k.key}),a=G(!1),i=G(""),u=G(""),d=G(!1);function h(){m(),a.value=!0}async function m(){const k=await e.hashMessage(`create_job_${l.value}`);if(d.value=!!k,!d.value)return;const r=window.location.origin+window.location.pathname;i.value=`
curl --location --request POST '${r}api/job/workflow/${l.value}' \\
--header 'Content-Type: application/json' \\
--header 'Authorization: Bearer ${k}' \\
--data '{
    "my_var": 1
}'`.trim(),u.value=`
curl --location '${r}api/job/JOB_ID' \\
--header 'Authorization: Bearer JOB_TOKEN'`.trim()}return(k,r)=>o.value?(v(),x("div",Fl,[a.value?(v(),T(Oe,{key:0,title:"API Code","display-close-button":"",hint:d.value?"Note: For API calls to work, the --enable-jobs-api flag must be active.":void 0,onClose:r[2]||(r[2]=f=>a.value=!1)},{default:j(()=>[I("div",Ol,[d.value?(v(),x(Z,{key:0},[r[3]||(r[3]=I("p",null," The following call will create the job and provide you with a job ID and a job token. ",-1)),I("div",Vl,[V(He,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=f=>i.value=f),class:"editor",variant:"minimal",language:"shell"},null,8,["modelValue"])]),r[4]||(r[4]=I("p",null," Using the job ID and token obtained in the previous call, check the status of the job. You can use the code below, after replacing JOB_ID and JOB_TOKEN for the right values. ",-1)),I("div",Rl,[V(He,{modelValue:u.value,"onUpdate:modelValue":r[1]||(r[1]=f=>u.value=f),class:"editor",variant:"minimal",language:"shell"},null,8,["modelValue"])])],64)):(v(),x("p",Pl," API code cannot be generated. Please make sure the environment variable WRITER_SECRET_KEY has been set up. "))])]),_:1},8,["hint"])):C("",!0),l.value?(v(),T(J,{key:1,variant:"tertiary",size:"small",onClick:h},{default:j(()=>r[5]||(r[5]=[I("i",{class:"material-symbols-outlined"}," code ",-1),le(" Call via API")])),_:1})):(v(),T(J,{key:2,disabled:!0,variant:"tertiary",size:"small","data-writer-tooltip":`You need to specify a workflow key before this workflow can be
				used in the UI or called via API.`},{default:j(()=>r[6]||(r[6]=[I("i",{class:"material-symbols-outlined"}," code ",-1),le(" Call via API")])),_:1}))])):C("",!0)}}),Dl=U(Ll,[["__scopeId","data-v-df40f363"]]),Wl={class:"BuilderSettingsMain"},jl={key:0,class:"warning cmc-warning"},Nl=["inert"],ql={class:"sections debug"},Ul=q({__name:"BuilderSettingsMain",setup(n){const e=se({loader:()=>ae(()=>import("./BuilderSettingsHandlers-YvjbtStZ.js"),__vite__mapDeps([17,1,2,7,8,9,10,11,18,19,20]),import.meta.url),loadingComponent:be}),t=L(D.core),s=L(D.builderManager),o=w(()=>t.getComponentById(s.firstSelectedId.value)),l=w(()=>o.value.isCodeManaged),a=w(()=>s.isSingleSelectionActive.value?!i.value.toolkit||i.value.toolkit=="core":!1),i=w(()=>{const{type:d}=o.value;return t.getComponentDefinition(d)});we(o,d=>{d||s.setSelection(null)});const u=w(()=>{var d;return Object.values(((d=i.value)==null?void 0:d.events)??{}).some(h=>h.bindable)});return(d,h)=>(v(),x("div",Wl,[l.value?(v(),x("div",jl,h[0]||(h[0]=[I("i",{class:"material-symbols-outlined"},"warning",-1),I("span",null," This component is instantiated in code. All settings in this panel are read-only and cannot be edited. ",-1)]))):C("",!0),I("div",{class:"sections",inert:l.value},[V(fl),a.value?(v(),x(Z,{key:0},[u.value?(v(),T(Il,{key:0})):C("",!0),V(g(e)),V($l)],64)):C("",!0),V(Dl,null,{default:j(()=>h[1]||(h[1]=[le("Execute via API")])),_:1})],8,Nl),I("div",ql,[I("div",null,[h[2]||(h[2]=le(" Component id: ")),V(Tl,null,{default:j(()=>[le(Y(g(s).firstSelectedId.value),1)]),_:1})])])]))}}),Kl=U(Ul,[["__scopeId","data-v-521c8e50"]]),zl={class:"BuilderSettingsMiniDocs markdown"},Yl=q({__name:"BuilderSettingsMiniDocs",props:{rawMiniDocs:{}},setup(n){const e=n,t=$t.parse(e.rawMiniDocs);return(s,o)=>{const l=nt("dompurify-html");return ke((v(),x("div",zl,[le(Y(g(t)),1)])),[[l,g(t)]])}}}),Hl=U(Yl,[["__scopeId","data-v-1129160a"]]),Gl={key:0,class:"collapser"},Jl={key:1,class:"titleBar"},Xl=["data-writer-tooltip"],Ql=q({__name:"BuilderSettings",setup(n){wt(m=>({"201ad808":g(t).getMode()=="workflows"?"82px":"20px"}));const e=L(D.core),t=L(D.builderManager),s=G(!1),o=w(()=>e.getComponentById(t.firstSelectedId.value)),l=w(()=>t.selectionStatus.value===Ae.Multiple?!0:t.isSettingsBarCollapsed.value),a=w(()=>t.selection.value.length);function i(){t.isSettingsBarCollapsed.value=!t.isSettingsBarCollapsed.value}const u=w(()=>{const{type:m}=o.value;return e.getComponentDefinition(m)}),d=w(()=>{var m,k;return(k=(m=u.value)==null?void 0:m.docs)==null?void 0:k.trim()});we(o,m=>{m||t.setSelection(null)});const h=()=>{s.value=!s.value};return(m,k)=>g(t).selectionStatus.value!==g(Ae).None?(v(),x("div",{key:0,class:Ve(["BuilderSettings",{"BuilderSettings--collapsed":l.value,"BuilderSettings--miniDocActive":s.value}])},[g(t).isSingleSelectionActive.value?(v(),x("div",Gl,[l.value?(v(),T(J,{key:0,class:"collapserButton",size:"smallIcon",variant:"neutral","data-writer-tooltip-placement":"left","data-writer-tooltip":"Expand settings","data-automation-action":"expand-settings",onClick:i},{default:j(()=>k[0]||(k[0]=[I("i",{class:"material-symbols-outlined"},"settings",-1)])),_:1})):(v(),T(J,{key:1,class:"collapserButton",size:"smallIcon",variant:"neutral","data-writer-tooltip-placement":"left","data-writer-tooltip":"Collapse settings","data-automation-action":"collapse-settings",onClick:i},{default:j(()=>k[1]||(k[1]=[I("i",{class:"material-symbols-outlined"},"double_arrow",-1)])),_:1}))])):C("",!0),g(t).isSingleSelectionActive?(v(),x("div",Jl,[I("div",null,Y(u.value.name),1),d.value?(v(),T(J,{key:0,inert:l.value,class:"collapserButton",size:"small",variant:"neutral","data-writer-tooltip-placement":"top","data-writer-tooltip":"Toggle mini docs",onClick:h},{default:j(()=>k[2]||(k[2]=[I("i",{class:"material-symbols-outlined"},"info",-1)])),_:1},8,["inert"])):C("",!0)])):C("",!0),g(t).selectionStatus.value===g(Ae).Multiple?(v(),x("div",{key:2,class:"BuilderSettings__selectionCount","data-writer-tooltip-placement":"left","data-writer-tooltip":`${a.value} components selected`},[I("p",null,Y(a.value),1)],8,Xl)):C("",!0),s.value&&d.value&&!l.value?(v(),T(Hl,{key:3,class:"miniDocs","raw-mini-docs":d.value},null,8,["raw-mini-docs"])):C("",!0),V(Ot,{class:"actions"}),V(Kl,{inert:l.value,class:"main"},null,8,["inert"])],2)):C("",!0)}}),as=U(Ql,[["__scopeId","data-v-374e2aaa"]]);export{as as default};
