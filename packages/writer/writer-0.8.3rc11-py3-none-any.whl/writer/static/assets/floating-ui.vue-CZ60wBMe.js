import{c as o,r as i,U as $,w as g,aQ as j,aR as B,aS as r,aT as F,aU as I,M as Q,aV as T}from"./index-DRQkzaGL.js";function k(e){return e!=null&&typeof e=="object"&&"$el"in e}function M(e){if(k(e)){const a=e.$el;return F(a)&&I(a)==="#comment"?null:a}return e}function c(e){return typeof e=="function"?e():Q(e)}function b(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function S(e,a){const t=b(e);return Math.round(a*t)/t}function z(e,a,t){t===void 0&&(t={});const V=t.whileElementsMounted,f=o(()=>{var n;return(n=c(t.open))!=null?n:!0}),D=o(()=>c(t.middleware)),p=o(()=>{var n;return(n=c(t.placement))!=null?n:"bottom"}),w=o(()=>{var n;return(n=c(t.strategy))!=null?n:"absolute"}),C=o(()=>{var n;return(n=c(t.transform))!=null?n:!0}),s=o(()=>M(e.value)),l=o(()=>M(a.value)),y=i(0),h=i(0),v=i(w.value),P=i(p.value),E=$({}),x=i(!1),_=o(()=>{const n={position:v.value,left:"0",top:"0"};if(!l.value)return n;const u=S(l.value,y.value),R=S(l.value,h.value);return C.value?{...n,transform:"translate("+u+"px, "+R+"px)",...b(l.value)>=1.5&&{willChange:"transform"}}:{position:v.value,left:u+"px",top:R+"px"}});let d;function m(){if(s.value==null||l.value==null)return;const n=f.value;T(s.value,l.value,{middleware:D.value,placement:p.value,strategy:w.value}).then(u=>{y.value=u.x,h.value=u.y,v.value=u.strategy,P.value=u.placement,E.value=u.middlewareData,x.value=n!==!1})}function O(){typeof d=="function"&&(d(),d=void 0)}function N(){if(O(),V===void 0){m();return}if(s.value!=null&&l.value!=null){d=V(s.value,l.value,m);return}}function U(){f.value||(x.value=!1)}return g([D,p,w,f],m,{flush:"sync"}),g([s,l],N,{flush:"sync"}),g(f,U,{flush:"sync"}),j()&&B(O),{x:r(y),y:r(h),strategy:r(v),placement:r(P),middlewareData:r(E),isPositioned:r(x),floatingStyles:_,update:m}}export{z as u};
