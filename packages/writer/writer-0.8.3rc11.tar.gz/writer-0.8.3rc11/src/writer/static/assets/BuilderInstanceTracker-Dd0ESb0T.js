import{d as C,ay as w,r as y,j as H,l as $,H as O,R as q,o as A,e as P,E as W,G as X,_ as b}from"./index-DRQkzaGL.js";const N=200,j=36,L=C({__name:"BuilderInstanceTracker",props:{instancePath:{},matchSize:{type:Boolean},verticalOffsetPixels:{},isOffBoundsAllowed:{type:Boolean},preventSettingsBarOverlap:{type:Boolean}},setup(g){const v=g,{instancePath:B,matchSize:l,verticalOffsetPixels:r,isOffBoundsAllowed:_,preventSettingsBarOverlap:S}=w(v),c=y(null),i=y(0),d=H("rootEl"),k=e=>{const n=document.querySelector(".ComponentRenderer"),{top:R,left:T}=e.getBoundingClientRect(),{clientHeight:E}=document.body,{clientWidth:I}=n,{left:f}=n.getBoundingClientRect(),s=document.querySelector(".BuilderSettings"),{left:p}=(s==null?void 0:s.getBoundingClientRect())||{left:1/0};let{clientHeight:m,clientWidth:a}=l!=null&&l.value?e:d.value,M=r!=null&&r.value?r.value:0,t=T,o=R+M;if(_.value||(t=Math.max(f,t),t=Math.min(f+I-a,t),o=Math.max(j,o),o=Math.min(E-m,o)),S.value){let h=0;t+a>p&&(h=Math.max(t-(p-a),0)),t-=h}c.value={top:`${o}px`,left:`${t}px`,width:`${a}px`,height:`${m}px`}},u=()=>{let e=document.querySelector(`.ComponentRenderer [data-writer-instance-path="${B.value}"]`);if(x(),!e)return;const n=getComputedStyle(e);n&&(n.display=="contents"&&(e=e.querySelector("[data-writer-id]")),e&&k(e))},x=()=>{i.value=setTimeout(u,N)};return $(async()=>{await O(),u()}),q(()=>{clearTimeout(i.value)}),(e,n)=>(A(),P("div",{ref_key:"rootEl",ref:d,class:"BuilderInstanceTracker",style:X(c.value)},[W(e.$slots,"default",{},void 0,!0)],4))}}),z=b(L,[["__scopeId","data-v-ebe1f179"]]);export{z as default};
