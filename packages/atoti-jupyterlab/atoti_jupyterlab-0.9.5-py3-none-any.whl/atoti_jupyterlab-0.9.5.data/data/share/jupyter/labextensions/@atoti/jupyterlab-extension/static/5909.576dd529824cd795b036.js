(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[5909,8870,6489],{35128:(e,o,t)=>{"use strict";t.d(o,{N:()=>a});var n=t(31529),r=t(93345),l=t(62795),i=t(7643);const s={isLoading:!0};function a(e,o){const t=(0,i.mF)(e);(0,l.useAsyncAbortable)((async e=>{if(!t?.drillthroughColumns[o])return t?.loadDrillthroughColumns(o,{signal:e})}),[t,o]);const{drillthroughColumns:a,isLoading:u,error:d}=(0,r.useSyncExternalStore)((e=>t?.subscribeToDrillthroughColumns(o,e)??n.noop),(()=>t?.drillthroughColumns[o]??s)),c=(0,r.useMemo)((()=>a?.filter((({visible:e})=>e))),[a]);return e?[c,{isLoading:u,error:d}]:void 0}},77929:(e,o,t)=>{"use strict";t.d(o,{I:()=>i});var n=t(31529),r=t(93345),l=t(7643);function i({serverKey:e,queryId:o}){const t=(0,l.mF)(e);return(0,r.useSyncExternalStore)(t&&o?e=>t.subscribeToQuery(o,e):()=>n.noop,(()=>t&&o?t.getQuery(o):void 0))}},14152:(e,o,t)=>{"use strict";t.d(o,{j:()=>C,w:()=>y});var n=t(74389),r=t(90923),l=t(90147),i=t(31529),s=t(93345),a=t(95889),u=t(22228),d=t(67902),c=t(13716),m=t(57395),f=t(90783),h=t(99571),p=t(45059),g=t(33990);const b=e=>{const{formatMessage:o}=(0,a.useIntl)(),t=(0,m.DP)(),{style:r,...l}=e.conditionalStyle,i=(0,h.u)(l);let s="";switch(i.length){case 1:const e=l[i[0]];s=`${o({id:"aui.if"})} ${g.KT[i[0]]} ${e}`;break;case 2:s=`${o({id:"aui.if"})} ${void 0!==l.gt?g.KT.gt:g.KT.gte} ${l.gt??l.gte} ${o({id:"aui.and"})} ${void 0!==l.lt?g.KT.lt:g.KT.lte} ${l.lt??l.lte}`;break;default:s=o({id:"aui.default"})}const u="background"===e.colorType&&r.backgroundColor?r.backgroundColor:t.backgroundColor;return(0,n.Y)(p.o,{caption:s,sampleStyle:{...r,color:"text"===e.colorType?r.backgroundColor:t.textColor,backgroundColor:e.colorOpacity&&r.backgroundColor?(0,f.j)(r.backgroundColor,e.colorOpacity):u},sampleLabel:"123"})},y=.3,w=(0,s.lazy)((()=>t.e(9801).then(t.bind(t,49801)))),C=({colorOpacity:e=y,colorType:o="background",disabledTooltipMessage:t,isDisabled:m,isLoading:f,onConditionalStylesChanged:h,conditionalStyles:{default:p,conditional:g}={}})=>{const{formatMessage:C}=(0,a.useIntl)(),[v,x]=(0,s.useState)(),R=(0,s.useMemo)((()=>[{style:p||{}},...g||[]]),[g,p]),S=(0,s.useMemo)((()=>{const t="conditionalStyle",l=f?[{caption:(0,n.Y)(r.Skeleton,{active:!0,css:{".ant-skeleton-paragraph":{margin:"5px 0px"}},paragraph:{rows:1,width:"100%"},title:!1})}]:R.map(((r,l)=>{const s=(0,i.omit)(r,"style"),a=0===Object.keys(s).length;return{icons:m?null:(0,n.Y)(u.A,{onClick:()=>{x({sectionName:t,tileIndex:l})}}),caption:(0,n.Y)(b,{colorOpacity:e,conditionalStyle:r,colorType:o}),isDisabled:m,isRemovable:!m,dragItem:!a&&!m&&{type:"CONDITIONAL_MEASURE_STYLE_IN_WIZARD",fromPosition:{sectionName:t,tileIndex:l}}}}));return{[t]:{caption:C({id:"aui.conditionalStyle.title"}),tiles:l,isAddButtonVisible:!m}}}),[R,C,m,f,e,o]),I=v&&"tileIndex"in v?R[v.tileIndex]:void 0;return(0,n.Y)(d.Tooltip,{trigger:m?["hover"]:[],placement:"right",title:t,children:(0,n.Y)(c.s,{css:{paddingTop:4},canDrop:({toPosition:{tileIndex:e}})=>0!==e,dragItemTypes:["CONDITIONAL_MEASURE_STYLE_IN_WIZARD"],sections:S,onTileRemoved:({tileIndex:e})=>{h(0===e?{default:void 0}:{conditional:(0,l.produce)(g,(o=>{const t=e-1;o?.splice(t,1)}))})},popoverProps:{position:v,title:C({id:"aui.conditionalStyle."+(void 0!==I?"edit":"add")}),content:(0,n.Y)(s.Suspense,{fallback:(0,n.Y)("div",{style:{display:"flex",height:330,width:327,justifyContent:"center",alignItems:"center"},children:(0,n.Y)(r.Spin,{})}),children:(0,n.Y)(w,{colorOpacity:e,onCancel:()=>x(void 0),onSubmitDefaultStyle:e=>{h({default:e}),x(void 0)},onSubmit:e=>{h(v&&"tileIndex"in v?{conditional:(0,l.produce)(g,(o=>{o[v.tileIndex-1]=e}))}:{conditional:[...g||[],e]}),x(void 0)},colorType:o,conditionalStyle:I})})},onAddButtonClicked:()=>x({sectionName:"conditionalStyle"}),onTileMoved:({dragItem:e,toPosition:{tileIndex:o}})=>{const t=e.fromPosition.tileIndex-1,n=o-1;h({default:p,conditional:(0,l.produce)(g,(e=>{const[o]=e.splice(t,1);e.splice(n,0,o)}))})}})})}},45059:(e,o,t)=>{"use strict";t.d(o,{o:()=>l});var n=t(74389),r=t(57395);const l=e=>{const o=(0,r.DP)(),t={border:`solid 1px ${o.grayScale[4]}`,borderRadius:3,paddingLeft:5,paddingRight:5,marginRight:5,width:32,lineHeight:"14px",height:16,color:o.textColor,...e.sampleStyle};return(0,n.FD)("div",{style:{display:"flex",alignItems:"center"},children:[(0,n.Y)("div",{style:t,children:e.sampleLabel}),(0,n.Y)("div",{children:e.caption})]})}},33990:(e,o,t)=>{"use strict";t.d(o,{KT:()=>r,Z_:()=>a,dg:()=>s,nd:()=>l});var n=t(31529);const r={eq:"=",neq:"â‰ ",lt:"<",gt:">",lte:"<=",gte:">="},l={eq:"=",neq:"<>",lt:"<",gt:">",lte:"<=",gte:">="},i=(0,n.invert)(l),s=e=>e in i,a=e=>e in l},23607:(e,o,t)=>{"use strict";t.d(o,{H:()=>l});var n=t(90147),r=t(71967);function l(e,o){return(0,n.produce)(e,(t=>{const n=o.key||(0,r.z)(e.pagesOrder);t.pagesOrder.splice(o.index??t.pagesOrder.length,0,n),t.pages[n]=o.page}))}},71967:(e,o,t)=>{"use strict";t.d(o,{z:()=>l});var n=t(31529);const r=e=>parseInt(e.substring(2));function l(e){const o=(0,n.maxBy)(e,r);return`p-${o?r(o)+1:0}`}},66130:(e,o,t)=>{"use strict";t.d(o,{W:()=>r});var n=t(24117);function r(e,{pageKey:o,leafKey:t},r){return(0,n.y)(e,["pages",o,"content",t],r)}},66896:(e,o,t)=>{"use strict";function n(e){return"dimension"===e.type}t.d(o,{t:()=>n})},24475:(e,o,t)=>{"use strict";function n(e){return"hierarchy"===e.type}t.d(o,{y:()=>n})},46230:(e,o,t)=>{"use strict";function n(e){return"level"===e.type}t.d(o,{r:()=>n})},12526:(e,o,t)=>{"use strict";function n({dimension:e,hierarchy:o,level:t}){if(t&&o)return{dimensionName:e.name,hierarchyName:o.name,levelName:t.name};if(o){const t=o.slicing?0:1;return n({dimension:e,hierarchy:o,level:Object.values(o.levels)[t]})}const r=e.defaultHierarchy;return n({dimension:e,hierarchy:e.hierarchies[r]})}t.d(o,{a:()=>n})},14557:(e,o,t)=>{"use strict";t.d(o,{z:()=>x});var n=t(74389),r=t(90923),l=t(95889),i=t(57418),s=t(70070),a=t(93345),u=t.n(a);const d=s.A.default??s.A,c=i.A.default??i.A,m=u().forwardRef(((e,o)=>(0,n.Y)(d,{...e,ref:o,icon:c})));var f=t(76194);const h=s.A.default??s.A,p=f.A.default??f.A,g=u().forwardRef(((e,o)=>(0,n.Y)(h,{...e,ref:o,icon:p})));var b=t(50493);const y=s.A.default??s.A,w=b.A.default??b.A,C=u().forwardRef(((e,o)=>(0,n.Y)(y,{...e,ref:o,icon:w})));var v=t(67902);const x=e=>{const{formatMessage:o}=(0,l.useIntl)(),t=e.fieldStyle?.justifyContent;return(0,n.FD)("div",{css:{display:"grid"},children:[(0,n.Y)(v.Text,{small:!0,strong:!0,css:{paddingTop:5,paddingBottom:5},children:o({id:"aui.dataVisualization.attribute.align"})}),(0,n.FD)(r.Radio.Group,{value:t,onChange:o=>{e.onFieldStyleChanged({justifyContent:o.target.value})},children:[(0,n.Y)(r.Radio.Button,{value:"left",children:(0,n.Y)(m,{})}),(0,n.Y)(r.Radio.Button,{value:"center",children:(0,n.Y)(g,{})}),(0,n.Y)(r.Radio.Button,{value:"right",children:(0,n.Y)(C,{})})]})]})}},11485:(e,o,t)=>{"use strict";t.d(o,{M:()=>H});var n=t(74389),r=t(40570),l=t(90923),i=t(93345),s=t(95889),a=t(19288),u=t(71685),d=t(30498),c=t(77929),m=t(66130),f=t(80039),h=t(47524),p=t(19185),g=t(56466),b=t(5738),y=t(77197),w=t(82443),C=t(16766),v=t(94288),x=t(67902),R=t(67877);class S extends Error{constructor(){super("Attempted to switch from a SELECT to a DRILLTHROUGH query. This is not supported.")}}const I="drillthrough-table";function O(e,{type:o,payload:{mdxString:t,dashboardState:n,pageKey:r,leafKey:l,widgetState:i,widgetPlugin:s,dataModels:a,lastUsedCube:u,hasDrillthroughTableWidgetPlugin:d}}){if("updateMdxString"===o)try{const e=(0,y.parse)(t),o=!i.query.mdx,c=i.query.mdx&&(0,y.isMdxSelect)(i.query.mdx),f=(0,y.isMdxDrillthrough)(e);if(c&&f)throw new S;const h=o&&f&&d;let{widgetStateDerivedFromMdx:p,dashboardStateDerivedFromMdx:g}=(0,R.deriveStateFromMdx)({mdx:e,dashboardState:n,pageKey:r,leafKey:l,dataModels:a,widgetState:i,widgetPlugin:s,lastUsedCube:u,shouldRemoveFiltersFromQuery:!1});return h&&(p={query:p.query,widgetKey:I,serverKey:p.serverKey,filters:p.filters,areFiltersDrivenByMdx:!0},g&&r&&l&&(g=(0,m.W)(g,{pageKey:r,leafKey:l},(()=>p)))),{mdxString:t,widgetStateDerivedFromMdx:p,dashboardStateDerivedFromMdx:g}}catch(e){return{mdxString:t,error:(0,v.$)(e)}}}const H=(0,C.n)((e=>{const{widgetState:o,queryId:t,onWidgetChange:m}=e,C=(0,u.A)(),{dashboardState:v,leafKey:H,pageKey:z,onDashboardChange:M}=(0,a.M)(e)?e:{},F=(0,R.useSwitchedWidgetState)(o,t),[W]=(0,w.useWidgetPlugins)([F.widgetKey]),Y=(0,w.useWidgetPluginKeys)(),D=(0,i.useMemo)((()=>Y.includes(I)),[Y]),N=(0,d.W)(),{formatMessage:T}=(0,s.useIntl)(),P=F.serverKey,E=(0,c.I)({serverKey:P,queryId:t}),[k,A]=(0,i.useReducer)(O,{mdxString:E?.mdx}),{cube:K,dataModel:V}=(0,i.useMemo)((()=>{const e=k.widgetStateDerivedFromMdx??F,o=e.query.mdx?(0,y.getCubeName)(e.query.mdx):void 0;return(0,R.getTargetCube)({serverKey:e.serverKey,dataModels:N,cubeName:o,lastUsedCube:C})}),[k.widgetStateDerivedFromMdx,F,N,C]),L=E?.context?.["mdx.casesensitive"]??K.contextValues["mdx.casesensitive"]?.value,$=void 0===L||"true"===L,B=(0,i.useCallback)((e=>{A({type:"updateMdxString",payload:{mdxString:e,dashboardState:v,pageKey:z,leafKey:H,widgetState:F,widgetPlugin:W,dataModels:N,lastUsedCube:C,hasDrillthroughTableWidgetPlugin:D}})}),[v,z,H,F,W,N,C,D]),j=E?.mdx??"";(0,i.useEffect)((()=>{B(j)}),[j,B]);const _=(0,i.useCallback)((()=>{k.error||(M&&k.dashboardStateDerivedFromMdx?M(k.dashboardStateDerivedFromMdx):k.widgetStateDerivedFromMdx&&m(k.widgetStateDerivedFromMdx))}),[k.widgetStateDerivedFromMdx,k.dashboardStateDerivedFromMdx,m,M,k.error]),q=(0,i.useCallback)((()=>{B(j)}),[j,B]),U=(0,i.useMemo)((()=>k.mdxString!==j),[k.mdxString,j]),[Q,G]=(0,i.useMemo)((()=>{if(!U)return[!1,T({id:"aui.mdxEditor.hover.noChanges"})];if(k.error){let e;if(k.error instanceof R.InvalidMdxTypeError)e=T({id:"aui.mdxEditor.hover.invalidMdxType"});else if(k.error instanceof f.N){const{cubeName:o,availableCubeNames:t}=k.error;e=`${T({id:"aui.error.cubeNotFound"})}: "${o}". ${T({id:"aui.mdxEditor.hover.availableCubesAre"})}: ${JSON.stringify(t)}`}else if(k.error instanceof h.O){const{dimensionName:o,cubeName:t}=k.error;e=`${T({id:"aui.mdxEditor.hover.dimensionNotFound"})} ${T({id:"aui.mdxEditor.hover.inTheDataModelOfCube"})} "${t}": "${o}".`}else if(k.error instanceof p.h){const{hierarchyCoordinates:o,cubeName:t}=k.error;e=`${T({id:"aui.mdxEditor.hover.hierarchyNotFound"})} ${T({id:"aui.mdxEditor.hover.inTheDataModelOfCube"})} "${t}": "${(0,y.quote)(o.dimensionName,o.hierarchyName)}".`}else if(k.error instanceof g.W){const{levelCoordinates:o,cubeName:t}=k.error;e=`${T({id:"aui.mdxEditor.hover.levelNotFound"})} ${T({id:"aui.mdxEditor.hover.inTheDataModelOfCube"})} "${t}": "${(0,y.quote)(o.dimensionName,o.hierarchyName,o.levelName)}".`}else k.error instanceof R.MdxInconsistentWithDashboardOrPageFiltersError?e=T({id:"aui.mdxEditor.hover.filtersChanged"},{bold:x.bold}):k.error instanceof S?e=T({id:"aui.mdxEditor.hover.cannotSwitchToDrillthrough"}):(e=T({id:"aui.mdxEditor.hover.invalidMdxQuery"}),console.error(k.error));return[!1,e]}return[!0,void 0]}),[U,k.error,T]);return(0,n.FD)("div",{css:r.css`
        height: 100%;
        display: flex;
        margin-right: 4px;
        flex-direction: column;
      `,children:[(0,n.Y)("div",{style:{height:"calc(100% - 28px)"},children:(0,n.Y)(b.K,{type:"mdx",value:k.mdxString,onChange:B,dataModel:V,cube:K,isCaseSensitive:$})}),(0,n.FD)("div",{css:r.css`
          text-align: right;
          margin-right: 14px;
          height: ${28}px;
        `,children:[(0,n.Y)(l.Button,{disabled:!U,onClick:q,children:T({id:"aui.mdxEditor.reset"})}),"Â ",(0,n.Y)(x.Tooltip,{title:G,children:(0,n.Y)(l.Button,{type:"primary",disabled:!Q,onClick:_,children:T({id:"aui.mdxEditor.submit"})})})]})]})}))},16e3:(e,o,t)=>{"use strict";t.d(o,{U:()=>r});var n=t(74389);const r=({content:e})=>(0,n.Y)("div",{css:{display:"table"},children:e.map((({left:e,right:o},t)=>(0,n.FD)("div",{css:{display:"table-row"},children:[(0,n.Y)("div",{css:{display:"table-cell",textAlign:"right",paddingRight:8,color:"#c0c0c0"},children:e}),(0,n.Y)("div",{css:{display:"table-cell",textAlign:"left",fontWeight:600,overflowWrap:"anywhere"},children:o})]},t)))})},37627:(e,o,t)=>{"use strict";t.d(o,{l:()=>m});var n=t(74389),r=t(90923),l=t(24870),i=t.n(l),s=t(95889),a=t(67902);const u=i()("2022-02-18"),d=["YYYY-MM-DD","YYYY/MM/DD","M/D","M/D/YY","MM/DD/YY","MM/DD/YYYY","DD-MMMM-YY","DD-MMMM-YYYY","dddd, MMM DD, YYYY","MMM DD, YYYY"].map((e=>({value:e,label:u.format(e)}))),c=d[0].value,m=({selectedField:e,fieldStyle:o,onFieldStyleChanged:t})=>{const{formatMessage:l}=(0,s.useIntl)(),i=("level"===(u=e).type||"drillthroughHeader"===u.type)&&u.isTime;var u;const m=!i,f=e.value,h=i?o?.dateFormat??c:c;return(0,n.FD)("div",{style:{display:"flex",flexDirection:"column",marginBlock:12},children:[(0,n.Y)(a.Text,{small:!0,strong:!0,children:l({id:"aui.dataVisualization.dateFormat"})}),(0,n.Y)(a.Tooltip,{placement:"right",trigger:m?["hover"]:[],title:f&&l({id:"aui.formatting.dateFormattingOnlyApplyToTimeFields"},{fieldName:f}),children:(0,n.Y)(r.Select,{"aria-label":"Date format select",disabled:m,style:{marginTop:6},value:h,options:d,onChange:e=>t({dateFormat:e})})})]})}},89495:(e,o,t)=>{"use strict";t.d(o,{F:()=>i});var n=t(74389),r=t(95889),l=t(14152);const i=({fieldStyle:e,onFieldStyleChanged:o,selectedField:t,...i})=>{const{formatMessage:s}=(0,r.useIntl)(),a=s({id:"aui.formatting.conditionalStylesOnlyApplyToNumericFields"},{fieldName:t.value}),u=!t.isNumeric;return(0,n.Y)(l.j,{conditionalStyles:e,disabledTooltipMessage:a,isDisabled:u,onConditionalStylesChanged:o,...i})}},62090:(e,o,t)=>{"use strict";t.d(o,{G:()=>b});var n=t(74389),r=t(90923),l=t(90147),i=t(31529),s=t(93345),a=t(95889),u=t(63740),d=t(82443),c=t(57395),m=t(67902),f=t(67877),h=t(29143),p=t(27879),g=t(46436);const b=e=>{const{formatMessage:o}=(0,a.useIntl)(),{fieldOptions:t}=e,[b]=(0,d.useWidgetPlugins)([e.widgetState.widgetKey]),y=(0,f.useWidgetName)(e.widgetState),w=(0,c.DP)(),{cube:C}=(0,f.useCube)(e.widgetState),v=!b?.attributes||Object.values(b?.attributes??{}).some((({role:e})=>"numeric"===(0,f.getAttributeType)(e))),[x,R]=(0,s.useState)(t[0]??{}),S=e.widgetState.style??{},I=S.measures?.[x.value];if((0,s.useMemo)((()=>(0,g.K)(y,S.measures)),[y,S.measures]),!v)return null;const O={selectedField:x,fieldStyle:I,onFieldStyleChanged:o=>{e.onWidgetChange((0,l.produce)(e.widgetState,(e=>{e.style||(e.style={}),e.style.measures||(e.style.measures={}),(0,i.set)(e,["style","measures",x.value],{...S.measures?.[x.value],...o}),function(e){const o=e.style?.measures;void 0!==o&&(Object.entries(o).forEach((([o,t])=>{void 0!==t&&((0,p.W)(t).forEach((([e,o])=>{(null==o||(0,i.isObject)(o)&&(0,i.isEmpty)(o))&&delete t[e]})),(0,i.isEmpty)(t)&&delete e.style.measures[o])})),(0,i.isEmpty)(o)&&delete e.style.measures),void 0!==e.style&&(0,i.isEmpty)(e.style)&&delete e.style}(e)})))},cube:C};return(0,n.FD)("div",{style:{borderBottom:`1px solid ${w.grayScale[4]}`,marginBottom:5,paddingTop:4},children:[(0,n.Y)(m.Text,{small:!0,strong:!0,children:o({id:"aui.dataVisualization.fields"})}),(0,n.Y)(r.Select,{"aria-label":"Field select",style:{width:"100%",marginTop:6},value:x,options:t,onChange:(e,o)=>{R((0,i.isArray)(o)?o[0]:o)},dropdownRender:e=>t.length>0?e:(0,n.FD)("div",{css:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",padding:20},children:[(0,n.Y)(u.A,{}),(0,n.Y)("div",{children:o({id:"aui.formatting.noFieldInMapping"},{bold:m.bold})})]}),showSearch:!0}),e.fieldStyleEditors.map(((e,o)=>(0,n.Y)(e,{...O},o))),(0,n.Y)(h.F,{isDisabled:(0,i.isEmpty)(S.measures),onResetStyle:()=>{e.onWidgetChange((0,l.produce)(e.widgetState,(e=>{delete e.style?.measures,(0,i.isEmpty)(e.style)&&delete e.style})))},caption:o({id:"aui.formatting.resetFieldsStyle"})})]})}},33544:(e,o,t)=>{"use strict";t.d(o,{i:()=>c});var n=t(74389),r=t(90923),l=t(93345),i=t(95889),s=t(78835),a=t(63459),u=t(67902);const d=["number","percentage","thousands","millions","billions"],c=({selectedField:e,fieldStyle:o,onFieldStyleChanged:t,cube:c})=>{const{formatMessage:m}=(0,i.useIntl)(),f=o?.numberOfDecimals??((e,o)=>{if("measure"!==e.type||!e.isNumeric)return 2;const t=(0,s.D)(e.value,o);return void 0===t||"double"===t.type?2:0})(e,c),h=e.value,p=!e.isNumeric,g=o?.numberFormat??"number";return(0,n.Y)(l.Fragment,{children:(0,n.FD)("div",{style:{display:"flex",width:"100%",marginTop:6,marginBottom:6},children:[(0,n.Y)(u.Tooltip,{placement:"right",trigger:p?["hover"]:[],title:m({id:"aui.formatting.numberFormattingOnlyApplyToNumericFields"},{fieldName:h}),children:(0,n.Y)(r.Select,{style:{flexGrow:1,marginRight:3},value:g,onChange:e=>{t({numberFormat:e})},disabled:p,"aria-label":"Number format select",children:d.map((e=>(0,n.Y)(r.Select.Option,{value:e,children:m({id:`aui.formatting.numberFormat.${e}`})},e)))})}),(0,n.Y)(r.Button,{disabled:p||0===f,icon:(0,n.Y)(a.IconRemoveDecimal,{}),onClick:()=>{t({numberOfDecimals:Math.max(0,f-1)})},"aria-label":"Remove decimal button",style:{marginRight:3}}),(0,n.Y)(r.Button,{icon:(0,n.Y)(a.IconAddDecimal,{}),onClick:()=>{t({numberOfDecimals:Math.max(0,f+1)})},"aria-label":"Add decimal button",disabled:p})]})})}},29143:(e,o,t)=>{"use strict";t.d(o,{F:()=>a});var n=t(74389),r=t(90923),l=t(95889),i=t(57395),s=t(67902);const a=({caption:e,isDisabled:o,onResetStyle:t})=>{const{formatMessage:a}=(0,l.useIntl)(),u=(0,i.DP)();return(0,n.Y)(s.Tooltip,{placement:"right",trigger:o?["hover"]:[],title:a({id:"aui.style.noStyleConfigured"}),children:(0,n.Y)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,n.Y)(r.Button,{style:{padding:0},type:"link",onClick:t,disabled:o,children:(0,n.Y)("span",{css:o?{}:{textDecoration:"underline",color:u.textColor,transition:"color 0.3s ease",":hover":{color:u.primaryColor}},children:e})})})})}},26342:(e,o,t)=>{"use strict";t.d(o,{u:()=>s});var n=t(74389),r=t(90147),l=t(31529),i=t(67902);const s=({checkedByDefault:e,disabled:o,label:t,propertyName:s,tooltipText:a,onWidgetChange:u,widgetState:d})=>{const c=(0,l.get)(d.style,s)??e;return(0,n.Y)(i.Switch,{label:t,checked:c,tooltipText:a,disabled:o,onChange:()=>{const e=(0,r.produce)(d,(e=>{(0,l.set)(e,`style.${s}`,!c)}));u(e)}})}},46436:(e,o,t)=>{"use strict";t.d(o,{K:()=>i});var n=t(31529),r=t(42743);const l=["eq","neq","lt","lte","gt","gte"];function i(e,o){o&&Object.values(o).forEach((o=>{(function(e){return"conditional"in e})(o)&&o.conditional&&o.conditional.forEach((o=>{!function(e,o){const t=(0,n.omit)(o,"style"),i=Object.keys(t);if(i.length>2||0===i.length)throw new r.f(e,"invalidNumberOfKeys",o);if(2===i.length&&(i.includes("eq")||i.includes("neq")))throw new r.f(e,"invalidPairOfKeys",o);i.forEach((n=>{if(!l.includes(n))throw new r.f(e,"invalidComparisonOperator",o);if(void 0===t[n])throw new r.f(e,"undefinedComparisonOperand",o)}))}(e,o)}))}))}},42743:(e,o,t)=>{"use strict";t.d(o,{f:()=>n});class n extends Error{invalidStyle;widgetName;constructor(e,o,t){let n;switch(o){case"invalidNumberOfKeys":n="A measure conditional style can only contain 1 or 2 comparison operators.";break;case"invalidPairOfKeys":n="A pair of comparison operators can only be lt(e)/gt(e).";break;case"invalidComparisonOperator":n="A measure conditional style can only use the following comparison operators: eq, neq, lt, lte, gt, gte.";break;case"undefinedComparisonOperand":n="A comparison operand cannot be undefined."}super(`The widget contains an invalid measure conditional style. ${n}`),this.invalidStyle=t,this.widgetName=e}}},7614:(e,o,t)=>{"use strict";function n({numericFieldStyle:e,valueFormattedByAtotiServer:o,value:t,locale:n}){const{numberOfDecimals:r,numberFormat:l}=e??{};if(void 0===r&&void 0===l)return o;let i,s=t;switch(l){case"percentage":s=100*t,i="%";break;case"thousands":s=t/1e3,i="K";break;case"millions":s=t/1e6,i="M";break;case"billions":s=t/1e9,i="B"}const a=s.toLocaleString(n,void 0!==r?{minimumFractionDigits:r,maximumFractionDigits:r}:void 0);return i?`${a} ${i}`:a}t.d(o,{m:()=>n})},57314:(e,o,t)=>{"use strict";t.d(o,{m:()=>f});var n=t(74389),r=t(40570),l=t(90923),i=t(93345),s=t(95889),a=t(70065),u=t(49110),d=t(34006),c=t(57395),m=t(67877);function f(e){const o=o=>{const{dashboardState:t,pageKey:f,widgetState:h}=o,{formatMessage:p}=(0,s.useIntl)(),{cube:g,serverKey:b}=(0,m.useCube)(o.widgetState),y=(0,c.DP)(),[w,C]=(0,a.i)("filters.hideMissingHierarchiesAlert"),[v,x]=(0,i.useState)(!1),R=(0,m.useFilters)({dashboardState:t,pageKey:f,widgetState:h}),S=void 0===h.query?.mdx?[]:[...R.user,...R.dashboard,...R.page,...R.widget].reduce(((e,{filter:o,applicableCubes:t})=>((0,u.T)(g,b,{applicableCubes:t})||e.push(`[${o.dimensionName}].[${o.hierarchyName}]`),e)),[]),I=S.length>0&&!v&&!w;return(0,n.FD)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[I&&(0,n.Y)(r.ClassNames,{children:({css:e})=>(0,n.Y)(l.Alert,{rootClassName:e({alignItems:"start",paddingInline:16,".ant-alert-icon, .ant-alert-close-icon":{marginTop:"5px"}}),onClose:e=>{x(!0),e.stopPropagation()},type:"warning",banner:!0,closable:!0,showIcon:!0,icon:(0,n.Y)(d.A,{}),message:(0,n.FD)(n.FK,{children:[p({id:"aui.filters.missingHierarchies"},{numberOfMissingHiearchies:S.length,hierarchyNames:S.join(", "),cubeName:g.name}),(0,n.Y)("div",{onClick:e=>{C(!0),e.stopPropagation()},style:{color:y.primaryColor,textDecoration:"underline",cursor:"pointer",width:"fit-content"},children:p({id:"aui.dismissAlert"})})]})})}),(0,n.Y)("div",{css:{overflow:"hidden",height:"100%"},children:(0,n.Y)(e,{...o})})]})};return o.displayName=`withMissingFilterHierarchiesAlert(${e.displayName})`,o}},5738:(e,o,t)=>{"use strict";t.d(o,{K:()=>d});var n=t(74389),r=t(40570),l=t(93345),i=t(57962),s=t(34728);const a={sql:(0,l.lazy)((()=>Promise.all([t.e(3849),t.e(833),t.e(6888)]).then(t.bind(t,94807)))),mdx:(0,l.lazy)((()=>Promise.all([t.e(3849),t.e(833),t.e(5387)]).then(t.bind(t,50964)))),json:(0,l.lazy)((()=>Promise.all([t.e(3849),t.e(833),t.e(7262)]).then(t.bind(t,43245)))),markdown:(0,l.lazy)((()=>Promise.all([t.e(3849),t.e(833),t.e(1482)]).then(t.bind(t,38721)))),base:(0,l.lazy)((()=>Promise.all([t.e(3849),t.e(833),t.e(5274)]).then(t.bind(t,70833))))},u={tabSize:2},d=(0,l.forwardRef)(((e,o)=>{const{type:t,options:d=u,...c}=e,m=(0,l.useMemo)((()=>a[t||"base"]),[t]);return(0,n.Y)(l.Suspense,{fallback:(0,n.Y)(i.W,{}),children:(0,n.Y)(r.ClassNames,{children:({css:e})=>(0,n.Y)(m,{ref:o,options:d,classNames:{line_error:e(s.e.line_error),line_warning:e(s.e.line_warning)},...c})})})}))},57962:(e,o,t)=>{"use strict";t.d(o,{W:()=>i});var n=t(74389),r=t(40570),l=t(90923);const i=()=>(0,n.Y)("div",{css:r.css`
      display: flex;
      width: 100%;
      height: 100%;
      justify-content: center;
      align-items: center;
    `,children:(0,n.Y)(l.Spin,{})})},34728:(e,o,t)=>{"use strict";t.d(o,{d:()=>r,e:()=>l});const n=e=>`background-image:\nlinear-gradient(45deg, transparent 65%, ${e} 80%, transparent 90%),\nlinear-gradient(135deg, transparent 5%, ${e} 15%, transparent 25%),\nlinear-gradient(135deg, transparent 45%, ${e} 55%, transparent 65%),\nlinear-gradient(45deg, transparent 25%, ${e} 35%, transparent 50%);\nbackground-repeat:repeat-x;\nbackground-size: 8px 2px;\nbackground-position:0 95%;`,r={error:"red",warning:"#faad14"},l={line_error:n(r.error),line_warning:n(r.warning)}},30573:(e,o,t)=>{"use strict";t.d(o,{A:()=>d});var n=t(74389),r=t(3981),l=t(70070),i=t(93345),s=t.n(i);const a=l.A.default??l.A,u=r.A.default??r.A,d=s().forwardRef(((e,o)=>(0,n.Y)(a,{...e,ref:o,icon:u})))},21481:(e,o,t)=>{"use strict";t.d(o,{NB:()=>i,n6:()=>s});var n=t(93345),r=t(35975);const l=(0,n.createContext)({}),i=l.Provider;function s(e){const o=(0,n.useContext)(l);return(0,n.useMemo)((()=>e.map((e=>void 0===e?void 0:(0,r.s)("cell-style",e,o)))),[o,e])}},32452:(e,o,t)=>{"use strict";t.d(o,{W0:()=>s,Y6:()=>i});var n=t(93345),r=t(35975);const l=(0,n.createContext)({}),i=l.Provider;function s(e){const o=(0,n.useContext)(l);return(0,n.useMemo)((()=>e.map((e=>void 0===e?void 0:(0,r.s)("cell",e,o)))),[o,e])}},79515:(e,o,t)=>{"use strict";t.d(o,{$:()=>A});var n=t(74389);var r=t(90147),l=t(31529),i=t(93345),s=t(95889),a=t(2214),u=t(70065),d=t(35128),c=t(77197),m=t(32452),f=t(21481),h=t(82443),p=t(88368),g=t(86462),b=t(53283),y=t(2217),w=t(67902),C=t(67877),v=t(31192),x=t(63459),R=t(91465);const S=(0,i.forwardRef)(((e,o)=>{const t=e.sort?.orderMode,r=e.sort?.drillthroughColumnUniqueName,l=(0,i.useRef)(null),s=(0,w.useHasOverflow)(l),a=e.value===r&&t,u=a&&"ASC"===t?x.IconNumericAscendingOrder:a&&"DESC"===t?x.IconNumericDescendingOrder:void 0;return(0,n.Y)(w.Tooltip,{placement:"right",trigger:s?["hover"]:[],title:e.caption,children:(0,n.FD)("div",{ref:o,style:{display:"flex",alignItems:"center",...e.style},children:[(0,n.Y)("span",{ref:l,style:{textOverflow:"ellipsis",overflow:"hidden",maxWidth:`calc(100% - ${a?"18px":"0px"})`,...!e.wrapText&&{whiteSpace:"nowrap"}},children:e.caption}),u?(0,n.Y)(u,{onClick:e.onSortChanged,style:{cursor:"pointer",marginLeft:"auto",height:"100%"}}):(0,n.Y)("div",{style:{height:"100%",marginLeft:6}})]})})}));S.displayName="DefaultDrillthroughHeaderCell";const I=(0,R.R)(S),O=(0,i.forwardRef)(((e,o)=>{const{caption:t,columnIndex:r,headerValues:l,isRowFrozen:s,widgetState:a}=e,d=s,c=l?.[r]?.name,m=c&&a.style?.measures?.[c]?.justifyContent,f=(0,i.useMemo)((()=>m?{...e.style,justifyContent:m}:e.style),[e.style,m]),[h]=(0,u.i)("table.tooltips");if(d)return(0,n.Y)(I,{ref:o,...e});{const r=(a.style?.areTooltipsVisible??h)&&c&&t?[{left:c,right:t}]:void 0;return(0,n.Y)(v.Y,{ref:o,...e,style:f,tooltipContent:r})}}));O.displayName="DefaultDrillthroughCell";const H=(0,i.memo)(O);var z=t(40570),M=t(57395);const F=({style:e})=>{const o=(0,M.DP)();return(0,n.Y)("div",{style:e,children:(0,n.Y)("div",{css:{display:"flex",overflow:"hidden"},children:(0,l.range)(4).map((e=>(0,n.FD)("div",{children:[(0,n.Y)("div",{css:z.css`
                height: 28px;
                overflow: hidden;
                position: relative;
                width: 120px;
                border-right: 1px solid ${o.cellBorderColor};
              `,children:(0,n.Y)("div",{css:z.css`
                  padding: 4px 4px 3px;
                `})}),(0,n.Y)("div",{css:z.css`
                height: 196px;
                position: relative;
                border-top: 1px solid ${o.cellBorderColor};
                border-right: 1px solid ${o.cellBorderColor};
              `,children:(0,l.range)(7).map((e=>(0,n.Y)("div",{css:z.css`
                    font-size: 12px;
                    height: 28px;
                    left: 0px;
                    padding: 4px 4px 3px;
                    position: absolute;
                    top: ${28*e}px;
                    width: 120px;
                    overflow: hidden;
                    background-color: ${e%2==1?o.alternateCellBackgroundColor:"transparent"};
                    border-right: 1px solid ${o.cellBorderColor};
                  `},e)))})]},e)))})})};var W=t(65510),Y=t(16390);function D(e,o){const{headers:t,rows:n}=o,r=new Map,l={},i=t.length,{numberOfRows:s,numberOfColumns:a}=(0,Y.Q)(n);e.forEach((({columnHeader:e,body:o})=>{if(o)for(let e=o.rows.from;e<=Math.min(o.rows.to,s-1);e++)for(let l=o.columns.from;l<=Math.min(o.columns.to,a-1);l++){let o=r.get(t[l]);o||(o={},r.set(t[l],o)),o[e]=n[e][l]}e&&t.slice(e.columns.from,Math.min(e.columns.to,i-1)+1).forEach(((o,t)=>{l[e.columns.from+t]=o}))}));const u=[];for(const e of r.entries()){const[o,t]=e;u.push({header:o,cells:Object.keys(t).map((e=>parseInt(e))).sort().map((e=>t[e]))})}return{headers:Object.keys(l).map((e=>parseInt(e))).sort().map((e=>l[e])),columns:u}}var N=t(24870),T=t.n(N),P=t(7614),E=t(9107);const k=e=>e,A=(0,C.withLoadingOverlay)((0,C.withoutIrrelevantRenders)((e=>{const{queryResult:o,widgetState:t,style:v,onChange:x,onSelectionChange:R}=e,{widgetKey:S,columnWidths:I,sort:O}=t,z=t.style?.measures,[M]=(0,u.i)("table.headers.wrap"),[Y]=(0,u.i)("table.defaultSize"),[N]=(0,u.i)("table.rowNumbers"),A=t.style?.wrapHeaders??M,K=t.style?.areRowNumbersVisible??N;(0,w.useCallOnLoadedAfterFirstProperRender)(e);const{locale:V}=(0,s.useIntl)(),{cube:L,serverKey:$}=(0,C.useCube)(t),[B]=(0,d.N)($,L.name),{mdx:j}=(0,E.t)(t),[_]=(0,h.useWidgetPlugins)([S]),[q]=(0,f.n6)([_.cellStyle]),[U]=(0,m.W0)([_?.cell]),Q=(0,i.useCallback)((q?.withCellStyle??k)(U??H),[q]);Q.displayName="DrillthroughCell";const G=o.data,{cells:X,headers:Z}=(0,i.useMemo)((()=>G&&j&&B?(0,W.Q)(j,G?.result,B):{cells:void 0,headers:void 0}),[j,G,B]),J=Z&&Z.length>0?1:0,ee=(0,i.useMemo)((()=>(Z||[]).map((({caption:e})=>({value:e,caption:e})))),[Z]),oe=(0,i.useMemo)((()=>{if(X&&O){const e=ee.findIndex((e=>e?.caption===O.drillthroughColumnUniqueName));if(e>-1)return(0,l.orderBy)(X,[o=>o[e].value],["ASC"===O.orderMode?"asc":"desc"])}}),[X,O,ee])??X,te=(0,i.useMemo)((()=>{const e=z&&oe?(({bodyCells:e,columnsStyle:o,headerCells:t,locale:n})=>{const l=t.map(((e,o)=>({styledColumnIndex:o,value:e?.value}))).filter((({value:e})=>o[String(e)]));return(0,r.produce)(e,(e=>{e?.forEach((e=>{Object.values(l).forEach((({styledColumnIndex:t,value:r})=>{if(!r)return;const l=e[t],i=o[r],s=i.dateFormat?T()(l.value,{locale:n}).format(i.dateFormat):(0,P.m)({locale:n,numericFieldStyle:i,value:Number(l.value),valueFormattedByAtotiServer:l.caption});e[t]={caption:s,value:l.value}}))}))}))})({bodyCells:oe,columnsStyle:z,headerCells:ee,locale:V}):oe;return[ee,...e??[]]}),[ee,z,oe,V]),ne=(0,i.useMemo)((()=>I&&Z?Object.entries(I).reduce(((e,[o,t])=>{const n=Z.findIndex((e=>e?.caption===o));return-1!==n?{...e,[n]:t}:e}),{}):void 0),[Z,I]);if(!o.isLoading&&o.error){if((0,a.isErrorInQueryResultOfType)(o.error,"QueryTimeoutException"))throw new a.QueryTimeoutError(o.error);throw new a.QueryError(o.error)}const re=(0,i.useCallback)((()=>{x({...t,sort:{...O,orderMode:"ASC"===O.orderMode?"DESC":"ASC"}})}),[t,O,x]),le=(0,i.useMemo)((()=>({headerValues:Z||[],onSortChanged:re,sort:O,widgetState:t})),[re,Z,O,t]),ie=(0,i.useRef)([]),se=(0,i.useRef)(void 0);(0,i.useEffect)((()=>{if(Z&&oe&&R){const e=se.current,o=D(ie.current,{headers:Z,rows:oe.map((e=>e.map((e=>e.value))))});(0,l.isEqual)(o,e)||(se.current=o,R(o))}}),[Z,R,oe]);const ae=(0,i.useMemo)((()=>Z?e=>{x({...t,columnWidths:{...I,...Object.entries(e).reduce(((e,[o,t])=>({...e,[Z[parseInt(o)].caption]:t})),{})}})}:void 0),[I,Z,x,t]),ue=(0,i.useMemo)((()=>Z&&oe?e=>{if(R){ie.current=e;const o=D(e,{headers:Z,rows:oe.map((e=>e.map((e=>e.value))))});se.current=o,R(o)}}:void 0),[oe,Z,R]),de=(0,i.useMemo)((()=>Z?(e,o)=>{void 0!==j&&x((0,r.produce)(t,(t=>{const n=(0,c.getDrillthroughColumns)(j);(function(e,o,t){const n=o<0?e.length+o:o;if(n>=0&&n<e.length){const n=t<0?e.length+t:t,[r]=e.splice(o,1);e.splice(n,0,r)}})(n,e,o),t.query.mdx=(0,c.setDrillthroughColumns)(j,{drillthroughColumnUniqueNames:n}),delete t.shouldUseDefaultColumns})))}:void 0),[Z,j,x,t]),ce=(0,i.useRef)(null);return(0,i.useEffect)((()=>{async function e(e){if(!oe||document.activeElement!==ce.current)return;e.preventDefault();const o=(0,p.O)(ie.current,{numberOfColumnsInBody:Z?.length??0,numberOfFrozenColumns:0,numberOfFrozenRows:J,numberOfRowsInBody:oe.length});if(o.length>0){const t=o[0],n=(0,g.M)(t.columnHeader,(e=>`${ee[e]?.value}`)),r=(0,g.M)(t.body,((e,o)=>`${oe[o][e].value}`)),l=(0,b.R)({header:n,body:r});e.clipboardData?.setData("text/plain",l["text/plain"]),e.clipboardData?.setData("text/html",l["text/html"])}}return document.addEventListener("copy",e),()=>{document.removeEventListener("copy",e)}}),[oe,ee,Z?.length,J]),J>0?(0,n.Y)(y.XI,{cells:te,additionalCellProps:le,style:v,numberOfFrozenRows:J,Cell:Q,columnWidths:ne,onColumnsResized:ae,onSelectionChanged:ue,size:t.style?.size??Y,wrapHeaders:A,areRowNumbersVisible:K,canReorderColumns:!0,onColumnsReordered:de,containerRef:ce,shouldRenderExtraRows:!0}):(0,n.Y)(F,{style:e.style})})))},65510:(e,o,t)=>{"use strict";t.d(o,{Q:()=>l});var n=t(31529),r=t(77197);const l=(e,o,t)=>{const l=((e,o,t)=>{const n={};return(e.columns??[]).forEach(((e,l)=>{const i=(0,r.isMdxFunction)(e)?e.arguments[0]:e;if(!(0,r.isMdxCompoundIdentifier)(i)||void 0===o.find((e=>e.name===i.identifiers[0].value)))return;const s=i.identifiers[0].value;if(!t.some((({name:e})=>e===s)))return;n[s]||(n[s]={valueIndex:-1});const a=(0,r.isMdxFunction)(e)&&e.name.toLowerCase();"membervalue"!==a&&a?"caption"===a&&(n[s].captionIndex=l):n[s].valueIndex=l})),n})(e,o.headers,t);if((0,n.isEqual)(l,{}))return{cells:void 0,headers:void 0};const i=[];return Object.values(l).forEach((({captionIndex:e,valueIndex:t})=>{const n=o.headers[t];if(n){const t=void 0!==e?o.headers[e].caption:n.caption;i.push({...n,caption:t})}})),{cells:o.rows.map((e=>Object.values(l).map((({captionIndex:o,valueIndex:t})=>{const n=e[t];return{caption:void 0!==o?`${e[o]}`:"object"==typeof n?JSON.stringify(n):`${n}`,value:"number"==typeof n?n:JSON.stringify(n)}})))),headers:i}}},72087:(e,o,t)=>{"use strict";t.d(o,{h:()=>l});var n=t(31529);const r={int:"numeric",double:"numeric",long:"numeric",String:"regular",Object:"regular",LocalDate:"date",LocalDateTime:"date"};function l(e){return(0,n.mapValues)((0,n.groupBy)(e,(({type:e})=>r[e]??"regular")),(e=>(0,n.sortBy)(e,(e=>e.name.toLowerCase()))))}},89842:(e,o,t)=>{"use strict";t.d(o,{_:()=>se});var n=t(74389),r=t(11485),l=t(63459),i=t(67877),s=t(90147),a=t(93345),u=t(95889),d=t(19288),c=t(35128),m=t(89393),f=t(12526),h=t(7464),p=t(42575),g=t(86758),b=t(66896),y=t(24475),w=t(46230),C=t(21728),v=t(47517),x=t(72247),R=t(77197),S=t(16766),I=t(67902),O=t(69265);const H=(e,o,t)=>{!e.children&&"drillthroughColumn"===e.type&&o.includes(e.uniqueName)?t.push(e.path):void 0!==e.children&&"drillthroughColumn"!==e.type&&(e.children.forEach((e=>{H(e,o,t)})),e.children.every((e=>t.includes(e.path)))&&t.push(e.path))};var z=t(1579),M=t(58551),F=t(49856),W=t(72087);const Y=["numeric","regular","date"],D=()=>!0,N=e=>{const{formatMessage:o}=(0,u.useIntl)(),{selectedColumnUniqueNames:t,onSelectedColumnUniqueNamesChange:r,drillthroughColumns:l}=e,i=function(e){const{formatMessage:o}=(0,u.useIntl)(),t=(0,W.h)(e),n=(0,a.useMemo)((()=>Y.map(((e,n)=>({type:e,caption:o({id:`aui.drillthrough.columnCategory.${e}`}),isFolder:!0,path:[0,n],children:t[e]?.map(((e,o)=>({caption:e.caption,type:"drillthroughColumn",uniqueName:e.name,isFolder:!1,path:[0,n,o]})))})))),[t,o]);return[{caption:o({id:"aui.selectAll"}),children:n,isFolder:!0,path:[0],type:"root"}]}(l),s=(0,a.useMemo)((()=>((e,o)=>{const t=[];return e.forEach((e=>{H(e,o,t)})),t})(i,t)),[i,t]),d=(0,a.useCallback)((e=>{const o=((e,o)=>{const t=(0,z.f)(e,o),n=[];return(0,M.z)(e,(e=>{"drillthroughColumn"===e.type&&(0,F.Q)(e.path,t)&&n.push(e.uniqueName)})),n})(i,e);r(o)}),[i,r]);return(0,n.Y)(O.P,{style:{minHeight:0},value:i,isSearchVisible:!0,isSelectable:!0,searchPlaceholder:o({id:"aui.drillthrough.columnSearchPlaceholder"}),onSelectedPathsChange:d,hasCheckbox:D,selectedPaths:s})};var T=t(31529),P=t(9107);const E=["widget"],k=(0,S.n)((e=>{const{cube:o,serverKey:t}=(0,i.useCube)(e.widgetState),{onWidgetChange:r,widgetState:l}=e,S=(0,d.M)(e)?e.dashboardState:void 0,O=(0,d.M)(e)?e.pageKey:void 0,[H,{error:z}]=(0,c.N)(t,o.name),M=(0,i.useFilters)({widgetState:l}),F=(0,i.useQueryContexts)({widgetState:l,dashboardState:S,pageKey:O}),W=(0,i.useMdxInViews)({widgetState:l}),{mdx:Y,isLoading:D}=(0,P.t)(l),k=(0,a.useMemo)((()=>Y?(0,R.getDrillthroughColumns)(Y):[]),[Y]),A=(0,a.useCallback)((e=>{const n=Y??(0,R.getDefaultMdxDrillthrough)(o.name),i=function({currentColumnNames:e,newColumnNames:o}){return[...(0,T.intersection)(e,o),...(0,T.difference)(o,e)]}({currentColumnNames:k,newColumnNames:e}),a=(0,s.produce)(l,(e=>{e.query.mdx=(0,R.setDrillthroughColumns)(n,{drillthroughColumnUniqueNames:i}),e.serverKey=t,delete e.shouldUseDefaultColumns}));r(a)}),[o.name,k,Y,l,r,t]),[K,V]=(0,a.useState)(),L=(0,a.useCallback)((e=>{const o=(0,s.produce)(l,(o=>{o.filters=e.widget.map((({filter:e})=>e)),(0,i.driveFiltersFromState)(o)}));r(o)}),[r,l]),$=({dragItem:e})=>(0,v.a)(e)||(0,h.x)(e)||(0,p.G)(e)||(0,g.f)(e),B=({dragItem:e,toPosition:n})=>{const{dimensionName:r,hierarchyName:l,levelName:i}=e.field,s=(0,m.Z)({dimensionName:r,hierarchyName:l,levelName:i,cube:o});V({serverKey:t,cubeName:o.name,hierarchyCoordinates:{dimensionName:r,hierarchyName:l},position:n,levelIndex:s,type:"create-filter"})};(0,C.z4)(((e,o)=>{if((0,b.t)(e)||(0,y.y)(e)||(0,w.r)(e)){const{dimensionName:t,hierarchyName:n,levelName:r}=(0,f.a)(e),l={fieldType:e.type,type:"DATA_TREE_FIELD",field:{dimensionName:t,hierarchyName:n,levelName:r}};$({dragItem:l})&&(B({dragItem:l,toPosition:{sectionName:"widget",tileIndex:M.widget.length}}),o.preventDefault())}}));const{formatMessage:j}=(0,u.useIntl)(),_=(0,a.useMemo)((()=>({widget:j({id:"aui.filters.section.widgetFilters"})})),[j]);return z?(0,n.Y)(I.CenteredTitle,{level:2,children:z.message}):D?(0,n.Y)(I.CenteredTitle,{level:2,children:j({id:"aui.dataVisualization.loadingDrillthroughColumns"})}):H?(0,n.FD)("div",{style:{height:"100%",display:"flex",flexDirection:"column",flexGrow:1,minHeight:0},children:[(0,n.Y)("div",{style:{flexGrow:1,minHeight:0},children:(0,n.Y)(N,{drillthroughColumns:H,onSelectedColumnUniqueNamesChange:A,selectedColumnUniqueNames:k})}),(0,n.Y)("div",{style:{flexShrink:0,justifySelf:"flex-end"},children:(0,n.Y)(x.l,{canDrop:$,dragItemTypes:["DATA_TREE_FIELD","FIELD_IN_WIZARD","FILTER_IN_WIZARD"],serverKey:t,cubeName:o.name,filters:M,queryContextBySection:F,onFiltersChange:L,sectionCaptions:_,popoverConfiguration:K,onPopoverConfigurationChanged:V,mdxInViews:W,visibleSectionNames:E,onTileMoved:B})})]}):(0,n.Y)(I.CenteredTitle,{level:2,children:j({id:"aui.dataVisualization.missingDrillthroughColumns"})})}),{awaitAllDataModels:!0});var A=t(79515),K=t(40570),V=t(24870),L=t.n(V),$=t(26404),B=t(33544),j=t(14557),_=t(37627),q=t(89495),U=t(62090),Q=t(69679),G=t(19760),X=t(74559),Z=t(25564),J=t(57395),ee=t(65510);const oe=[B.i,j.z,_.l,q.F],te=(0,S.n)((e=>{const{queryId:o,widgetState:t}=e,{query:{mdx:r}}=t,{cube:l,serverKey:s}=(0,i.useCube)(t),{data:d}=(0,$.J)({serverKey:s,queryId:o}),{locale:m}=(0,u.useIntl)(),f=(0,J.DP)(),[h]=(0,c.N)(s,l.name),p=(0,a.useMemo)((()=>{if(!d||!r||!h)return[];const{cells:e,headers:o}=(0,ee.Q)(r,d.result,h);return(o??[]).map((({name:o,caption:t},n)=>{const r=(e??[]).every((e=>!isNaN(e[n].value)));return{value:o,label:t,type:"drillthroughHeader",isNumeric:r,isTime:!r&&(e??[]).every((e=>L()(e[n].value,{locale:m}).isValid()))}}))}),[d,h,r,m]);return(0,n.FD)(a.Fragment,{children:[(0,n.FD)("div",{css:K.css`
          border-bottom: 1px solid ${f.grayScale[4]};
          padding-bottom: 4px;
        `,children:[(0,n.Y)(Q.j,{...e}),(0,n.Y)(G.S,{...e}),(0,n.Y)(X.X,{...e}),(0,n.Y)(Z.Y,{...e})]}),(0,n.Y)(U.G,{...e,fieldOptions:p,fieldStyleEditors:oe})]})}));var ne=t(57314);const re=()=>{},le="drillthrough-table",ie={query:{updateMode:"once"},widgetKey:le},se={key:le,category:"misc",Component:function(e){const o=(0,a.memo)((o=>{const{serverKey:t,cube:r}=(0,i.useCube)(o.widgetState),{widgetState:l,queryId:u,isDeferred:d}=o,{dashboardState:c,pageKey:m}=(0,i.isWidgetInDashboard)(o)?o:{},{mdx:f,isLoading:h}=(0,P.t)(l),p=(0,a.useMemo)((()=>(0,s.produce)(l,(e=>{e.query.mdx=f}))),[l,f]),g=(0,i.useWidgetQueryResult)({serverKey:t,queryId:u,widgetState:p,dashboardState:c,pageKey:m,cube:r,isDeferred:d}),b=(0,a.useMemo)((()=>({...g,isLoading:g.isLoading||h})),[g,h]);return(0,n.Y)(e,{...o,queryResult:b,onQueryRangesChanged:re})}));return o.displayName=`withDrillthroughQueryResult(${e.displayName})`,(0,ne.m)(o)}((0,i.withWidgetQueryErrorBoundary)(A.$)),contentEditor:k,filtersEditor:e=>(0,n.Y)(i.FiltersEditor,{...e,queryType:"drillthrough"}),queryEditor:r.M,styleEditor:te,Icon:l.IconBusinessDrillthrough,initialState:ie,translations:{"en-US":{key:"Drillthrough",defaultName:"New drillthrough"},"fr-FR":{key:"Drillthrough",defaultName:"Nouveau drillthrough"}}}},9107:(e,o,t)=>{"use strict";t.d(o,{t:()=>d});var n=t(31529),r=t(93345),l=t(35128),i=t(70065),s=t(77197),a=t(67877),u=t(72087);function d(e){const{serverKey:o,cube:t}=(0,a.useCube)(e),d=t.name,[c,{isLoading:m}]=(0,l.N)(o,d),[f,,{isLoading:h}]=(0,i.i)("drillthrough.defaultSelectedColumns"),p=m||h,g=(0,r.useMemo)((()=>{const e=(0,u.h)(c??[]),o=(0,n.flatten)(["numeric","regular","date"].map((o=>e[o]??[])));return(0,n.map)(o,"name")}),[c]),b=f[d],y=(0,r.useMemo)((()=>b&&b.length>0?(0,n.intersection)(b,g):g),[g,b]);return(0,r.useMemo)((()=>{if(!e.shouldUseDefaultColumns)return{mdx:e.query.mdx,isLoading:p};if(p)return{isLoading:!0};const o=e.query.mdx??(0,s.getDefaultMdxDrillthrough)(d);return{mdx:(0,s.setDrillthroughColumns)(o,{drillthroughColumnUniqueNames:y}),isLoading:!1}}),[e.query.mdx,d,e.shouldUseDefaultColumns,p,y])}},31192:(e,o,t)=>{"use strict";t.d(o,{Y:()=>u});var n=t(74389),r=t(93345),l=t(16e3),i=t(67902),s=t(91465);const a=(0,r.forwardRef)((({caption:e,className:o,style:t,tooltipContent:r},s)=>{const a=(0,n.Y)("div",{className:o,style:t,ref:s,"data-testid":"aui-cell",children:e});return r?(0,n.Y)(i.Tooltip,{title:(0,n.Y)(l.U,{content:r}),mouseEnterDelay:.3,placement:"right",overlayStyle:{maxWidth:350},children:a}):a}));a.displayName="DefaultTableCell";const u=(0,r.memo)((0,s.R)(a))},25564:(e,o,t)=>{"use strict";t.d(o,{Y:()=>s});var n=t(74389),r=t(95889),l=t(70065),i=t(26342);const s=e=>{const[o]=(0,l.i)("table.rowNumbers"),{formatMessage:t}=(0,r.useIntl)();return(0,n.Y)(i.u,{propertyName:"areRowNumbersVisible",checkedByDefault:o,label:t({id:"aui.dataVisualization.rowNumbers"}),...e})}},2217:(e,o,t)=>{"use strict";t.d(o,{XI:()=>ao,GR:()=>io,aK:()=>lo});var n=t(74389),r=t(31529),l=t(93345),i=t.n(l),s=t(70065),a=t(57395),u=t(90680),d=t(42751),c=t(67902),m=t(31192);const f=(0,l.createContext)(void 0),h=f.Provider;function p({isRowFrozen:e,isColumnFrozen:o}){return(0,l.memo)((0,l.forwardRef)(((t,r)=>{const i=(0,l.useContext)(f)||m.Y;return(0,n.Y)(i,{ref:r,...t,isRowFrozen:e,isColumnFrozen:o})})))}const g=p({isRowFrozen:!1,isColumnFrozen:!1});g.displayName="BodyCell";var b=t(56155);function y({x:e,y:o},t){return void 0!==t&&e>=t.left&&e<=t.right&&o>=t.top&&o<=t.bottom}function w(e,o,t){return(e-o)/(t-o)}const C=({left:e,width:o})=>{const{hoverColor:t}=(0,a.DP)(),r=(0,l.useMemo)((()=>`2px solid ${t}`),[t]);return(0,n.Y)("div",{"data-testid":"column-drag-highlight",style:{position:"absolute",top:0,left:e,width:o,height:"100%",border:r,borderBottom:"none"}})};var v=t(90783);const x=({left:e,width:o})=>{const{hoverColor:t}=(0,a.DP)(),{backgroundColor:r,border:i}=(0,l.useMemo)((()=>({backgroundColor:(0,v.j)(t,.07),border:`2px solid ${(0,v.j)(t,.27)}`})),[t]);return(0,n.Y)("div",{"data-testid":"column-drag-preview",style:{position:"absolute",top:0,left:e,width:o,height:"100%",backgroundColor:r,border:i,borderBottom:"none"}})},R=({tableId:e,columnWidth:o,left:t,columnIndex:r,onDrop:l})=>{const[{isOver:i,item:s},u]=(0,b.useDrop)((()=>({accept:io,collect:e=>({isOver:e.isOver(),item:e.getItem()}),canDrop:o=>o.tableId===e,drop:e=>{l?.(e.columnIndex,r)}})),[r,l,e]),{hoverColor:d}=(0,a.DP)();let c={};return s&&i&&(c=r<s.columnIndex?{borderLeft:`2px solid ${d}`}:{borderRight:`2px solid ${d}`}),(0,n.Y)("div",{ref:u,"data-testid":"column-drop-area",style:{position:"absolute",left:t,width:o,height:"100%",pointerEvents:"auto",...c}})},S=(0,l.createContext)(void 0),I=S.Provider;function O(){const e=(0,l.useContext)(S);if(!e)throw"Missing <TableIdProvider />";return e}const H=({dragBounds:e,scrollLeft:o,defaultColumnWidth:t,columnWidths:i,firstVisibleColumnIndex:s,lastVisibleColumnIndex:a,cumulatedWidthOfColumnsScrolledPast:u,onColumnReorder:d,onScroll:c})=>{const m=O(),{itemType:f,isDragging:h,item:p,mousePosition:g,initialMousePosition:v,initialSourceClientOffset:S}=(0,b.useDragLayer)((e=>({isDragging:e.isDragging(),itemType:e.getItemType(),mousePosition:e.getClientOffset(),initialMousePosition:e.getInitialClientOffset(),initialSourceClientOffset:e.getInitialSourceClientOffset(),item:e.getItem()}))),I=(0,l.useCallback)((({firstVisibleColumnIndex:e,lastVisibleColumnIndex:o,scrollLeft:r,cumulatedWidthOfColumnsScrolledPast:l})=>{if(!p)return[];let s=l;const a=[];for(let l=e;l<=o;l++){const e=i[l]??t;l!==p.columnIndex&&a.push((0,n.Y)(R,{tableId:m,columnWidth:e,left:s-r,columnIndex:l,onDrop:d})),s+=e}return a}),[i,t,p,d,m]),H=(0,l.useRef)(o);if(h||(H.current=o),f!==io||!h||!p)return null;if(p.tableId!==m)return null;if(!g||!v||!S)return null;const z=e.right-e.left,M=S.x-e.left,F=g.x-v.x,W=M+H.current-o,Y=(0,r.clamp)(M+F,0,z-p.columnWidth),D=y(g,e);if(g.x<e.left+40){const o=1-w(g.x,e.left,e.left+40);c?.("left",(0,r.clamp)(o,0,1))}if(g.x>e.right-40){const o=w(g.x,e.right-40,e.right);c?.("right",(0,r.clamp)(o,0,1))}const N=I({firstVisibleColumnIndex:s,lastVisibleColumnIndex:a,cumulatedWidthOfColumnsScrolledPast:u,scrollLeft:o});return(0,n.FD)(n.FK,{children:[...N,(0,n.Y)(C,{left:W,width:p.columnWidth}),D&&(0,n.Y)(x,{left:Y,width:p.columnWidth})]})};var z=t(5140);const M=p({isRowFrozen:!0,isColumnFrozen:!1});M.displayName="TopCell";const F=(0,l.createContext)([[],()=>!1]),W=(0,l.createContext)([!1,r.noop]),Y=F.Provider,D=W.Provider;function N(){return(0,l.useContext)(F)}function T(){return(0,l.useContext)(W)}const P=(0,l.memo)((0,l.forwardRef)(((e,o)=>{const[t]=N(),[r]=T(),i=O(),{columnIndex:s,width:a}=e,[,u,d]=(0,b.useDrag)((()=>({type:io,item:{tableId:i,columnIndex:s,columnWidth:a},canDrag:!r})),[s,r,i,a]),c=(0,l.useMemo)((()=>function({selection:e,columnIndex:o}){if(1!==e.length)return!1;const t=e[0];return void 0===t.body&&void 0===t.rowHeader&&void 0===t.staticHeader&&void 0!==t.columnHeader&&t.columnHeader.columns.from===t.columnHeader.columns.to&&t.columnHeader.columns.from===o}({selection:t,columnIndex:s})),[s,t]),m=(0,l.useMemo)((()=>({...c&&{cursor:"grab"},...e.style})),[e.style,c]);d((0,z.getEmptyImage)());const f=(0,l.useCallback)((e=>{o&&("function"==typeof o?o(e):o.current=e),u(e)}),[u,o]);return(0,n.Y)(M,{ref:f,...e,style:m})})));P.displayName="DraggableTopCell";const E=e=>{const o=(0,a.DP)(),[t,r]=(0,l.useState)(!1),[i,s]=(0,l.useState)(e.position),u=(0,l.useRef)(i);return(0,l.useEffect)((()=>{s(e.position)}),[e.position]),(0,l.useEffect)((()=>{u.current=i}),[i]),(0,n.Y)("div",{className:"handle",onMouseDown:o=>{o.stopPropagation(),document.body.style.userSelect="none";const t=o.clientX;r(!0);const n=o=>{s(function(o){const n=o-t;return Math.max(i+n,e.minPosition)}(o.clientX))},l=()=>{document.body.style.userSelect="auto",document.body.removeEventListener("mousemove",n),document.body.removeEventListener("mouseup",l),r(!1),e.onResizeEnded(u.current)};document.body.addEventListener("mousemove",n),document.body.addEventListener("mouseup",l)},onDoubleClick:e.onDoubleClicked,css:{position:"absolute",cursor:"col-resize",height:"100%",width:4,background:t?o.primaryColor:"transparent",top:0,left:i-3,zIndex:1,":hover":{background:o.primaryColor}}})};function k({columnIndex:e,columnWidths:o,defaultColumnWidth:t,hiddenColumns:n}){return n&&n.has(e)?0:o?.[e]??t}const A=e=>{const{range:o,style:t}=e,r=(0,a.DP)();if(!o)return null;const{left:i,width:s,top:u,height:d}=(({columnWidths:e={},defaultColumnWidth:o,defaultRowHeight:t,hiddenColumns:n,range:r,rowHeights:l,numberOfRowsInGrid:i,numberOfColumnsInGrid:s})=>{const{columns:a,rows:u}=r,d=Math.min(u.to,i-1)+1;let c=0,m=0;for(let t=0;t<Math.min(a.to,s-1)+1;t++){const r=k({columnIndex:t,columnWidths:e,defaultColumnWidth:o,hiddenColumns:n});t<a.from?c+=r:m+=r}let f=0,h=0;if(l)for(let e=0;e<d;e++){const o=l[e]??t;e<u.from?f+=o:h+=o}else f=u.from*t,h=(d-u.from)*t;return{left:c,width:m,top:f,height:h}})({...e,range:o});return(0,n.Y)(l.Fragment,{children:(0,n.Y)("div",{className:e.className,css:{background:r.selectionOverlayColor,position:"absolute",top:`${u}px`,left:`${i}px`,height:`${d}px`,width:`${s}px`,pointerEvents:"none",...t}})})};var K=t(95889),V=t(74860),L=t(70070);const $=L.A.default??L.A,B=V.A.default??V.A,j=i().forwardRef(((e,o)=>(0,n.Y)($,{...e,ref:o,icon:B})));var _=t(90975);const q=({left:e,onClick:o,numberOfHiddenColumns:t})=>{const r=(0,a.DP)(),{formatMessage:l}=(0,K.useIntl)();return(0,n.Y)("div",{css:{cursor:"pointer",position:"absolute",top:0,left:e-15,height:14,width:26,zIndex:1,":hover":{border:`1px solid ${r.primaryColor}`,borderRadius:5,backgroundColor:r.white},display:"flex",justifyContent:"center",alignItems:"center"},onClick:o,onMouseDown:e=>{e.stopPropagation()},children:(0,n.Y)(c.Tooltip,{title:l({id:"aui.hiddenColumnsTooltip"},{numberOfHiddenColumns:t}),placement:"top",trigger:"hover",children:(0,n.FD)("span",{css:{width:24,height:12,display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,n.Y)(j,{}),(0,n.Y)(_.A,{})]})})})};var U=t(74309);function Q({range:e,builderFunction:o}){const t=(0,l.useRef)({range:e,value:{}}),n=(0,c.useHasChanged)(o),i=!(0,r.isEqual)(t.current.range,e);return n&&(t.current.value={}),i&&function(){for(let o=t.current.range.from;o<=t.current.range.to;o++)(o<e.from||o>e.to)&&delete t.current.value[o]}(),(n||i)&&function(){for(let n=e.from;n<=e.to;n++)t.current.value[n]||(t.current.value[n]=o(n))}(),t.current.range=e,t.current.value}const G={},X=()=>[],Z=()=>{},J=e=>{const{Cell:o,cells:t,cellRefs:i,rangesOfActionedRows:s,areColumnsResizable:a,areHiddenColumnGroupCaretsVisible:u,numberOfRows:d,numberOfColumns:m,defaultColumnWidth:f,defaultRowHeight:h,columnWidths:p=G,rowHeights:g,hiddenColumns:b,selection:y,style:w,isTotal:C,onColumnsShown:v,onColumnsWidthChanged:x,onColumnResizeHandleDoubleClicked:R,rowsRef:S,isVirtualized:I,contentWidth:O}=e,H=0===m||0===d,z=!I&&e.wrapText,M=e.getRowStyle??Z,F=I?void 0:e.mergedCells??void 0,W=e.isVirtualized?e.firstVisibleRowIndex:0,Y=e.isVirtualized?e.lastVisibleRowIndex:d-1,D=e.isVirtualized?e.firstVisibleColumnIndex:0,N=e.isVirtualized?e.lastVisibleColumnIndex:m-1,T=I?e.cumulatedWidthOfColumnsScrolledPast:0,P=(0,l.useCallback)(((e,o)=>{if(i)return void 0===i[e]&&(i[e]=[]),t=>{i[e][o]=t}}),[i]),k=function({range:e,builderFunction:o}){const t=(0,l.useRef)({range:e,value:{}}),n=(0,c.useHasChanged)(o),i=!(0,r.isEqual)(t.current.range,e);return n&&(t.current.value={}),i&&function(){for(let o=t.current.range.rows.from;o<=t.current.range.rows.to;o++)if(o<e.rows.from||o>e.rows.to)delete t.current.value[o];else for(let n=t.current.range.columns.from;n<=t.current.range.columns.to;n++)(n<e.columns.from||n>e.columns.to)&&delete t.current.value[o][n]}(),(n||i)&&function(){for(let n=e.rows.from;n<=e.rows.to;n++)for(let r=e.columns.from;r<=e.columns.to;r++)t.current.value[n]||(t.current.value[n]={}),t.current.value[n][r]||(t.current.value[n][r]=o(n,r))}(),t.current.range=e,t.current.value}({range:{rows:{from:W,to:Y},columns:{from:D,to:N}},builderFunction:P}),K=(0,l.useCallback)((({left:r,width:l,isSticky:i,rowIndex:s,columnIndex:a,rowProps:u,rowStyle:d,columnProps:c,parentTotalRowIndex:m})=>{const f={...t[s][a],className:"aui-table-cell",rowIndex:s,columnIndex:a,height:h,isVirtualized:I,left:r,parentTotalRowIndex:m,style:d,top:s*h,width:l,wrapText:z,isSticky:i};return(0,n.Y)(o,{ref:k[s][a],...f,...u[a],...c[s],...e.additionalCellProps},`cell-${s}-${a}`)}),[o,k,t,h,I,e.additionalCellProps,z]),V=(0,l.useCallback)(((e,o)=>{const t=o?.to??e;let n=0;for(let o=e;o<=t;o++)b?.has(o)||(n+=p[o]??f);return n}),[p,f,b]),L=(0,l.useCallback)((e=>({...M(e),userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"})),[M]),$=Q({range:{from:W,to:Y},builderFunction:L}),B=Q({range:{from:D,to:N},builderFunction:e.getColumnProps??X}),j=Q({range:{from:W,to:Y},builderFunction:e.getRowProps??X}),_=(0,l.useMemo)((()=>a?function({cumulatedWidthOfColumnsScrolledPast:e,firstVisibleColumnIndex:o,lastVisibleColumnIndex:t,defaultColumnWidth:n,hiddenColumns:r,columnWidths:l}){const i=[];let s=e;for(let e=o;e<=t;e++)r?.has(e)||(s+=l[e]??n,i.push({position:s,columnIndex:e}));return i}({cumulatedWidthOfColumnsScrolledPast:T,firstVisibleColumnIndex:D,lastVisibleColumnIndex:N,defaultColumnWidth:f,hiddenColumns:b,columnWidths:p}):[]),[a,p,T,f,D,b,N]),J=(0,l.useMemo)((()=>u?function({cumulatedWidthOfColumnsScrolledPast:e,firstVisibleColumnIndex:o,lastVisibleColumnIndex:t,defaultColumnWidth:n,hiddenColumns:r,columnWidths:l}){const i=[];let s=e;for(let e=o;e<=t;e++)if(r?.has(e)){const o=i.at(-1);o?.to===e-1?o.to=e:i.push({from:e,to:e,left:s})}else s+=l[e]??n;return i}({columnWidths:p,cumulatedWidthOfColumnsScrolledPast:T,defaultColumnWidth:f,firstVisibleColumnIndex:D,hiddenColumns:b,lastVisibleColumnIndex:N}):[]),[u,p,T,f,D,b,N]),ee=(0,l.useMemo)((()=>F?function(e){const o={};return e.forEach((({columns:e,rows:t})=>{o[t.from]||(o[t.from]={});for(let n=e.from;n<=e.to;n++)o[t.from][n]=e})),o}(F):{}),[F]),{cellElements:oe,rowElements:te}=(0,l.useMemo)((()=>{const e=[],o=[];let t=0;for(let n=W;n<=Math.min(d-1,Y);n++){I||o.push([]);let r,l=T;C?.(n)&&(t=n);for(let i=D;i<=Math.min(m-1,N);i++){if(b?.has(i))continue;const s=ee[n]?.[i];if(void 0!==s&&s===r)continue;const a=p[i]??f,u=V(i,s);(I?e:o[n]).push(K({rowIndex:n,columnIndex:i,left:l,width:u,isSticky:u!==a,rowProps:j[n],columnProps:B[i],parentTotalRowIndex:t,rowStyle:$[n]})),l+=u,r=s}}return{rowElements:o,cellElements:e}}),[ee,p,B,T,f,D,W,K,V,b,C,I,N,Y,m,d,j,$]),ne=(0,l.useMemo)((()=>s?.map((e=>({rows:e,columns:{from:0,to:1/0}})))),[s]);return(0,n.FD)("div",{style:{cursor:"cell",position:"relative",width:O,...!0===I&&{height:e.contentHeight},...!H&&w},children:[I?oe:te.map(((e,o)=>(0,n.Y)("div",{css:{display:"flex",flexDirection:"row",...!z&&{height:h}},ref:e=>{S?.(e,o)},children:e},`row-${o}`))),ne?.map(((o,t)=>(0,n.Y)(A,{className:"ActionedRowOverlay",range:o,defaultRowHeight:h,defaultColumnWidth:f,columnWidths:p,hiddenColumns:b,rowHeights:g,numberOfRowsInGrid:d,numberOfColumnsInGrid:m,style:e.actionedRowOverlayStyle},t))),(y||[]).map(((e,o)=>(0,n.Y)(A,{className:"SelectionOverlay",range:e,defaultRowHeight:h,defaultColumnWidth:f,columnWidths:p,hiddenColumns:b,rowHeights:g,numberOfRowsInGrid:d,numberOfColumnsInGrid:m},o))),J.map((({left:e,from:o,to:t},l)=>(0,n.Y)(q,{left:e,numberOfHiddenColumns:t-o+1,onClick:()=>((e,o)=>{v?.((0,r.range)(e,o+1))})(o,t)},l))),_.map((({position:e,columnIndex:o},t)=>{const r=0===t?0:_[t-1].position,l=e-r;return(0,n.Y)(E,{position:e,minPosition:r+U.X,onDoubleClicked:()=>R?.(o),onResizeEnded:t=>{x?.({...p,[o]:t-e+l})}},o)}))]})},ee=p({isRowFrozen:!1,isColumnFrozen:!0});ee.displayName="LeftCell";const oe=(0,l.memo)((e=>{const o="small"===e.size?1:4,t=5-e.borderSize-1,r=e.height-(o+3);return(0,n.Y)("div",{style:{display:"flex",alignItems:"center",justifyContent:"end",fontSize:12,boxSizing:"content-box",lineHeight:`${r}px`,width:e.width,position:"absolute",left:e.left,top:e.top,borderRight:`1px solid ${e.borderColor}`,backgroundColor:e.backgroundColor,userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"},children:(0,n.Y)("div",{style:{padding:`${o}px ${t}px 3px 0px`,borderRight:`${e.borderSize-1}px solid ${e.borderColor}`},children:e.caption})})}));function te(){const e=(0,a.DP)();return(0,l.useMemo)((()=>({background:(0,v.j)(e.black,.085),borderTop:`1px solid ${e.grayScale[8]}`,borderBottom:`1px solid ${e.grayScale[8]}`})),[e])}function ne(e){const{staticHeader:o,columnHeader:t,rowHeader:n,body:r}=e;return[o,t,n,r].every((e=>{if(!e)return!1;const{rows:o,columns:t}=e;return[o,t].every((({from:e,to:o})=>0===e&&o===1/0))}))}function re(e){return e.some(ne)}function le(e,o){const{rows:t,columns:n}=e;return 0===n.from&&n.to===1/0&&t.from<=o&&t.to>=o}function ie(e,{rowIndex:o}){return!!re(e)||e.some((e=>e.body&&le(e.body,o)))&&e.some((e=>e.rowHeader&&le(e.rowHeader,o)))}oe.displayName="RowNumberCell";const se=({rangesOfActionedRows:e,numberOfRows:o,defaultRowHeight:t,contentWidth:i,contentHeight:s,firstVisibleRowIndex:u,lastVisibleRowIndex:d})=>{const c=(0,a.DP)(),[m]=N(),f=re(m),h=(0,l.useMemo)((()=>(0,r.range)(1,o+1).map((e=>[{caption:`${e}`,value:e}]))),[o]),p=(0,l.useCallback)((e=>{const o=ie(m,{rowIndex:e}),t=function(e,{rowIndex:o}){return!!ie(e,{rowIndex:o})||e.some((e=>{const t=e.rowHeader;if(void 0!==t&&t.rows.from<=o&&t.rows.to>=o)return!0;const n=e.body;return void 0!==n&&n.rows.from<=o&&n.rows.to>=o}))}(m,{rowIndex:e}),n=t&&!f;return[{borderSize:n?2:1,borderColor:n?c.hoverColor:c.cellBorderColor,backgroundColor:o?c.selectionOverlayColor:t?c.activeMenuItemBackgroundColor:"transparent"}]}),[f,m,c.activeMenuItemBackgroundColor,c.cellBorderColor,c.hoverColor,c.selectionOverlayColor]),g=te(),b=(0,l.useMemo)((()=>({...g,borderLeft:`2px solid ${c.grayScale[8]}`})),[g,c.grayScale]);return(0,n.Y)(J,{rangesOfActionedRows:e,actionedRowOverlayStyle:b,Cell:oe,cells:h,isVirtualized:!0,contentWidth:i,numberOfColumns:1,numberOfRows:o,getRowProps:p,defaultColumnWidth:i,defaultRowHeight:t,contentHeight:s,firstVisibleRowIndex:u,lastVisibleRowIndex:d,firstVisibleColumnIndex:0,lastVisibleColumnIndex:0,cumulatedWidthOfColumnsScrolledPast:0})};var ae=t(63459);const ue=({style:e,height:o,width:t})=>{const r=(0,a.DP)(),[l]=N(),i=re(l);return(0,n.Y)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"flex-end",...e},children:(0,n.Y)("div",{style:{width:t,height:o,padding:"3px",display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"flex-end",color:i?r.hoverColor:r.cellBorderColor},children:(0,n.Y)(ae.IconCornerArrow,{})})})};let de=t(71177);de=de.default??de;const{ScrollSync:ce,ScrollSyncPane:me}=de;function fe(e,{rowIndex:o,columnIndex:t}){return(0,l.useCallback)((n=>{void 0===e[o]&&(e[o]=[]),e[o][t]=n}),[o,t,e])}const he=e=>{const{TopCell:o,TopLeftCell:t,LeftCell:r,BodyCell:i,numberOfFrozenColumns:s,numberOfFrozenRows:a,numberOfScrollableColumns:u,numberOfScrollableRows:d,columnWidths:c,defaultColumnWidth:m,defaultRowHeight:f,getRowProps:h,cellRefs:p}=e,[g]=N(),b=(0,l.useCallback)((e=>h(e+a)),[h,a]),y=(0,l.useCallback)((e=>{const{columnIndex:r,rowIndex:l}=e;if(r<=s-1){const o=fe(p.staticHeader,{rowIndex:l,columnIndex:r});return(0,n.Y)(t,{ref:o,...e})}{const t=fe(p.columnHeader,{rowIndex:l,columnIndex:r});return(0,n.Y)(o,{ref:t,...e,columnIndex:r-s})}}),[o,t,p.columnHeader,p.staticHeader,s]),w=(0,l.useCallback)((e=>{const{columnIndex:o,rowIndex:t}=e;if(o<=s-1){const l=fe(p.rowHeader,{rowIndex:t,columnIndex:o});return(0,n.Y)(r,{ref:l,...e})}{const r=fe(p.body,{rowIndex:t,columnIndex:o});return(0,n.Y)(i,{ref:r,...e,columnIndex:o-s})}}),[i,r,p.body,p.rowHeader,s]);return y.displayName="TopCellWhenNotEnoughWidth",w.displayName="BodyCellWhenNotEnoughWidth",(0,n.FD)(n.FK,{children:[(0,n.Y)(me,{group:"horizontal",children:(0,n.Y)("div",{ref:e.columnHeaderRef,className:"aui-invisible-scrollbars",style:{gridArea:"columnHeader",overflowX:"auto"},children:(0,n.Y)(J,{additionalCellProps:e.additionalCellProps,areColumnsResizable:!0,areHiddenColumnGroupCaretsVisible:!0,cells:e.columnHeaderCells,Cell:y,columnWidths:c,contentWidth:e.contentWidth,defaultColumnWidth:m,defaultRowHeight:f,wrapText:e.wrapHeaders,style:e.horizontalSeperator,hiddenColumns:e.hiddenColumns,isVirtualized:!1,getRowProps:h,getColumnProps:e.getColumnProps,numberOfRows:a,numberOfColumns:s+u,onColumnsShown:e.onColumnsShown,selection:g.map((e=>e.columnHeader)),mergedCells:e.mergedCells,onColumnsWidthChanged:e.onColumnsWidthChanged,onColumnResizeHandleDoubleClicked:e.onColumnResizeHandleDoubleClicked})})}),(0,n.Y)(me,{group:lo,children:(0,n.Y)("div",{ref:e.bodyRef,className:"aui-invisible-scrollbars",onScroll:e.handleScrolled,style:{gridArea:"body",overflow:"auto"},children:(0,n.Y)(J,{additionalCellProps:e.additionalCellProps,isVirtualized:!0,cumulatedWidthOfColumnsScrolledPast:e.cumulatedWidthOfColumnsScrolledPast,contentWidth:e.contentWidth,contentHeight:e.contentHeight,firstVisibleRowIndex:e.firstVisibleRowIndex,lastVisibleRowIndex:e.lastVisibleRowIndex,firstVisibleColumnIndex:e.firstVisibleColumnIndex,lastVisibleColumnIndex:e.lastVisibleColumnIndex,cells:e.bodyCells,Cell:w,columnWidths:c,defaultColumnWidth:m,defaultRowHeight:f,hiddenColumns:e.hiddenColumns,getRowStyle:e.getRowStyle,getRowProps:b,getColumnProps:e.getColumnProps,numberOfRows:d,numberOfColumns:s+u,selection:g.map((e=>e.body)),onColumnsShown:o=>e.onColumnsShown?.(o.map((e=>s+e))),isTotal:e.isTotal})})})]})};var pe=t(90923),ge=t(62795),be=t(90336),ye=t(30573),we=t(99571),Ce=t(16390);function ve({rows:e,columns:o}){return(e.to+1-e.from)*(o.to+1-o.from)}const{Option:xe}=pe.Select,Re=new Intl.NumberFormat,Se=({cells:e,hiddenFrozenColumns:o,hiddenScrollableColumns:i,isSelectionLoaded:s})=>{const{formatMessage:a}=(0,K.useIntl)(),[u]=N(),d=s??!0,m=(f=u,(0,r.sumBy)((0,r.flatMap)(f.map((({body:e,columnHeader:o,rowHeader:t,staticHeader:n})=>[e,o,t,n].filter((e=>void 0!==e))))),ve)>1e5);var f;const{result:h,loading:p}=(0,ge.useAsyncAbortable)((async n=>{if(d&&!n.aborted)return m?new Promise(((r,l)=>{const s=new Worker(new URL(t.p+t.u(5048),t.b));n.addEventListener("abort",(()=>{s.terminate(),l()})),s.onmessage=({data:e})=>{s.terminate(),r(e)},s.postMessage({cells:e,selection:u,hiddenFrozenColumns:o,hiddenScrollableColumns:i})})):function({selection:e,cells:{bodyCells:o,staticHeaderCells:t,columnHeaderCells:n,rowHeaderCells:r},hiddenFrozenColumns:l,hiddenScrollableColumns:i}){const s={},a=new Set;return e.forEach((e=>{[[e.body,o,i],[e.columnHeader,n,i],[e.staticHeader,t,l],[e.rowHeader,r,l]].forEach((([e,o,t])=>{const{numberOfRows:n,numberOfColumns:r}=void 0!==o&&o.length>0?(0,Ce.Q)(o):{numberOfRows:0,numberOfColumns:0};if(e&&o)for(let l=e.rows.from;l<=Math.min(e.rows.to,n-1);l++)for(let n=e.columns.from;n<=Math.min(e.columns.to,r-1);n++){const e=`${l}:${n}`;if(!a.has(e)&&!t.has(n)){a.add(e);const t=o[l]?.[n];if(t){const e=Number(t.value);isNaN(e)||(s.sum=(s.sum??0)+e,s.min=Math.min(s.min??e,e),s.max=Math.max(s.max??e,e),s.countNumbers=(s.countNumbers??0)+1),s.count=(s.count??0)+1}}}}))})),{...s,...s.sum&&s.countNumbers?{avg:s.sum/s.countNumbers}:{}}}({cells:e,selection:u,hiddenFrozenColumns:o,hiddenScrollableColumns:i})}),[m,e,u,o,i,d],{setLoading:e=>({...e,loading:!0})}),[g,b]=(0,l.useState)("sum"),y=(0,l.useMemo)((()=>h?(0,we.u)(h):[]),[h]);return h&&0!==y.length||!d?(0,n.Y)(pe.Select,{bordered:!1,value:g,onChange:e=>b(e),popupMatchSelectWidth:175,loading:m&&p,suffixIcon:d&&(0,n.Y)(be.A,{style:{pointerEvents:"none"}}),children:["sum","min","max","avg","count","countNumbers"].map((e=>{const o=a({id:"aui.dataVisualization.statistics.lazyLoadingWarning"}),t=a({id:`aui.dataVisualization.statistics.${e}`});return(0,n.Y)(xe,{value:e,children:(0,n.Y)("div",{css:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:d?(0,n.FD)("div",{css:{display:"flex",alignItems:"center",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:[(0,n.FD)("span",{children:[t,"Â "]}),(0,n.Y)("span",{children:h?.[e]?Re.format(h[e]):""})]}):(0,n.Y)(c.Tooltip,{title:o,children:(0,n.FD)("div",{css:{display:"flex",alignItems:"center",cursor:"pointer"},children:[(0,n.Y)(ye.A,{style:{color:"#FAAD14",fontSize:"12px",marginRight:"4px",position:"relative",top:"1px"}}),(0,n.Y)("div",{css:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:t})]})})})},e)}))}):null},Ie=p({isRowFrozen:!0,isColumnFrozen:!0});function Oe({columnWidths:e={},containerWidth:o,defaultColumnWidth:t,hiddenColumns:n,numberOfColumns:r,scrollLeft:l}){function i(o){return k({columnIndex:o,columnWidths:e,defaultColumnWidth:t,hiddenColumns:n})}const[s,a,u]=function(){if(0===l||0===r)return[0,i(0),0];let e=0;for(let o=0;o<r;o++){const t=e+i(o);if(t>l)return[o,t-l,e];e=t}return[r-1,0,e]}();return{firstVisibleColumnIndex:s,lastVisibleColumnIndex:function(e,t){if(e===r-1||t>o)return e;let n=t;for(let t=e+1;t<r;t++)if(n+=i(t),n>o)return t;return r-1}(s,a),cumulatedWidthOfColumnsScrolledPast:u}}function He({containerHeight:e,defaultRowHeight:o,numberOfRows:t,scrollTop:n,shouldReturnExtraRows:r}){const l=Math.floor(n/o),i=l+Math.ceil(e/o),s=r?Math.ceil(250/o):0;return{firstVisibleRowIndex:Math.max(l-s,0),lastVisibleRowIndex:Math.min(i+s,t-1)}}Ie.displayName="TopLeftCell";var ze=t(90147);function Me(e,{ctrlKey:o,shiftKey:t,metaKey:n,isBrowserOnMacOS:r,cellPosition:l}){if(!l||l.isOutOfBounds||!["rowNumbers","rowHeader","body"].includes(l.gridKey))return e;const{rowIndex:i}=l;if(t){const o=e.at(-1);return o?[...e.slice(0,-1),{from:Math.min(o.from,i),to:Math.max(o.to,i)}]:[{from:i,to:i}]}if(r?n:o){const o=e.findIndex((({from:e,to:o})=>e<=i&&o>=i));if(-1!==o){const{from:t,to:n}=e[o];return(0,ze.produce)(e,(e=>{e.splice(o,1);const r=[];i>t&&r.push({from:t,to:i-1}),i<n&&r.push({from:i+1,to:n}),e.push(...r)}))}const t=e.findIndex((({from:e,to:o})=>i===e-1||i===o+1));if(-1!==t){const{from:o,to:n}=e[t];return(0,ze.produce)(e,(e=>{e[t]=i===o-1?{from:i,to:n}:{from:o,to:i}}))}return[...e,{from:i,to:i}]}return 1===e.length&&e[0].from===i&&e[0].to===i?[]:[{from:i,to:i}]}function Fe({grids:e,rowNumbersColumnWidth:o,defaultColumnWidth:t,defaultRowHeight:n,frozenColumnWidths:i,scrollableColumnWidths:s,hiddenFrozenColumns:a,hiddenScrollableColumns:u,columnHeaderRows:d,numberOfScrollableRows:c,numberOfScrollableColumns:m}){return(0,l.useCallback)((l=>function(e,{grids:o,rowNumbersColumnWidth:t,defaultColumnWidth:n,defaultRowHeight:l,frozenColumnWidths:i,scrollableColumnWidths:s,hiddenFrozenColumns:a,hiddenScrollableColumns:u,columnHeaderRows:d,numberOfScrollableRows:c,numberOfScrollableColumns:m}){if(!o.body.current)return null;const{x:f,y:h}=e,p=[o.selectAllCell,o.staticHeader,o.columnHeader],g=[o.columnHeader,o.body],b=(0,r.mapValues)(o,(e=>{const o=e.current;if(null===o)return;const t=p.includes(e),n=g.includes(e),r=o.getBoundingClientRect();return{left:r.left,right:n?1/0:r.right,top:t?0:r.top,bottom:t?r.bottom:1/0}})),w=b.selectAllCell??b.staticHeader??b.columnHeader,C=b.rowNumbers??b.rowHeader??b.body;w&&C&&(w.left=0,C.left=0);const v={selectAllCell:y({x:f,y:h},b.selectAllCell),rowNumbers:y({x:f,y:h},b.rowNumbers),staticHeader:y({x:f,y:h},b.staticHeader),rowHeader:y({x:f,y:h},b.rowHeader),columnHeader:y({x:f,y:h},b.columnHeader),body:y({x:f,y:h},b.body)},x=(0,we.u)(o).find((e=>!0===v[e]));if(void 0===x||!o[x]||!o[x].current)return null;const R=["staticHeader","rowHeader"].includes(x),S=["staticHeader","columnHeader"].includes(x),I=["rowNumbers","selectAllCell"].includes(x),{rowIndex:O,columnIndex:H}=(({gridElement:e,defaultRowHeight:o,defaultColumnWidth:t,columnWidths:n,hiddenColumns:r,rowHeights:l,x:i,y:s})=>{const a=e.getBoundingClientRect(),u=e.scrollTop+Math.max(0,Math.min(a.height,s-a.top));let d=0;if(l){let e=0;for(;d<l.length&&(e+=l[d]??o,e<u);)d+=1}else d=Math.floor(u/o);const c=function({distanceFromLeft:e,hiddenColumns:o,columnWidths:t,defaultColumnWidth:n}){let r=-1,l=0;for(;l<=e;)r++,l+=k({columnIndex:r,columnWidths:t,defaultColumnWidth:n,hiddenColumns:o});return r}({distanceFromLeft:e.scrollLeft+Math.max(0,Math.min(a.width,i-a.left)),columnWidths:n,defaultColumnWidth:t,hiddenColumns:r});return{rowIndex:d,columnIndex:c}})({gridElement:o[x].current,defaultColumnWidth:I?t:n,columnWidths:I?{}:R?i:s,hiddenColumns:I?void 0:R?a:u,defaultRowHeight:l,rowHeights:S?d.map((e=>e?.clientHeight)):void 0,x:f,y:h}),z=["rowNumbers","rowHeader","body"].includes(x)&&c-1<O,M=["columnHeader","body"].includes(x)&&m-1<H;return{gridKey:x,rowIndex:z?c-1:O,columnIndex:M?m-1:H,isOutOfBounds:z||M}}(l,{grids:e,rowNumbersColumnWidth:o,defaultColumnWidth:t,defaultRowHeight:n,frozenColumnWidths:i,scrollableColumnWidths:s,hiddenFrozenColumns:a,hiddenScrollableColumns:u,columnHeaderRows:d,numberOfScrollableRows:c,numberOfScrollableColumns:m})),[e,o,t,n,i,s,a,u,d,c,m])}const We=e=>{const o=document.createElement("div");o.innerHTML=e,o.style.fontSize="12px",o.style.position="absolute",o.style.visibility="hidden",o.style.height="auto",o.style.whiteSpace="nowrap",document.body.appendChild(o);const t=o.clientWidth+1;return document.body.removeChild(o),t},Ye=["margin-left","margin-right","padding-left","padding-right"],De=e=>{let o=0;if("style"in e&&"none"===e.style.display)return 0;if(Ye.forEach((t=>{o+=parseFloat(window.getComputedStyle(e).getPropertyValue(t))})),"svg"===e.tagName)o+=e.getBoundingClientRect().width;else for(let t=0;t<e.children.length;t++)o+=De(e.children[t]);return o},Ne=e=>"style"in e&&"none"===e.style.display;function Te({from:e,to:o,anchor:t}){const n=t??{gridKey:"rowHeader",rowIndex:e,columnIndex:0},r=Math.min(e,o),l=Math.max(e,o);return{anchor:n,body:{columns:{from:0,to:1/0},rows:{from:r,to:l}},rowHeader:{columns:{from:0,to:1/0},rows:{from:r,to:l}}}}function Pe(){return[{...Te({from:0,to:1/0}),staticHeader:{columns:{from:0,to:1/0},rows:{from:0,to:1/0}},columnHeader:{columns:{from:0,to:1/0},rows:{from:0,to:1/0}},anchor:{columnIndex:0,rowIndex:0,gridKey:"body"}}]}function Ee(e){const{rowHeader:o,body:t}=e;return!(!o||!t)&&[o,t].every((e=>0===e.columns.from&&e.columns.to===1/0))&&(0,r.isEqual)(o.rows,t.rows)}const ke=["staticHeader","columnHeader","rowHeader","body"];function Ae({rowIndex:e,columnIndex:o},{numberOfFrozenColumns:t,numberOfFrozenRows:n}){return e<n&&o<t?{gridKey:"staticHeader",rowIndex:e,columnIndex:o}:e<n?{gridKey:"columnHeader",rowIndex:e,columnIndex:o-t}:o<t?{gridKey:"rowHeader",rowIndex:e-n,columnIndex:o}:{gridKey:"body",rowIndex:e-n,columnIndex:o-t}}function Ke({gridKey:e,columnIndex:o,rowIndex:t},{numberOfFrozenColumns:n,numberOfFrozenRows:r}){return{columnIndex:o+(["body","columnHeader"].includes(e)?n:0),rowIndex:t+(["body","rowHeader"].includes(e)?r:0)}}function Ve({anchor:e,to:o},{numberOfFrozenColumns:t,numberOfFrozenRows:n,numberOfScrollableColumns:l,numberOfScrollableRows:i}){const s=Math.min(e.rowIndex,o.rowIndex),a=Math.max(e.rowIndex,o.rowIndex),u=Math.min(e.columnIndex,o.columnIndex),d=Math.max(e.columnIndex,o.columnIndex),c={staticHeader:{rows:{from:0,to:n-1},columns:{from:0,to:t-1}},columnHeader:{rows:{from:0,to:n-1},columns:{from:t,to:l-1}},rowHeader:{rows:{from:n,to:i-1},columns:{from:0,to:t-1}},body:{rows:{from:n,to:i-1},columns:{from:t,to:l-1}}},m={anchor:Ae(e,{numberOfFrozenColumns:t,numberOfFrozenRows:n})};return ke.forEach((e=>{const o=c[e];if(a<o.rows.from||s>o.rows.from+o.rows.to||d<o.columns.from||u>o.columns.from+o.columns.to)return;(0,r.clamp)(u-o.columns.from,0,o.columns.to);const t={columns:{from:(0,r.clamp)(u-o.columns.from,0,o.columns.to),to:(0,r.clamp)(d-o.columns.from,0,o.columns.to)},rows:{from:(0,r.clamp)(s-o.rows.from,0,o.rows.to),to:(0,r.clamp)(a-o.rows.from,0,o.rows.to)}};m[e]=t})),m}function Le(e,{lastRange:o}){return e.length<=1?[o]:[...e.slice(0,-1),o]}function $e(e,{key:o,shiftKey:t,ctrlKey:n,metaKey:l,numberOfScrollableColumns:i,numberOfScrollableRows:s,numberOfFrozenColumns:a,numberOfFrozenRows:d,numberOfVisibleRows:c}){const m={numberOfScrollableColumns:i,numberOfFrozenColumns:a,numberOfFrozenRows:d,numberOfScrollableRows:s},f={ArrowLeft:{columnOffset:-1},ArrowRight:{columnOffset:1},ArrowUp:{rowOffset:-1},ArrowDown:{rowOffset:1},PageUp:{rowOffset:-c},PageDown:{rowOffset:c},Home:{rowOffset:-1/0},End:{rowOffset:1/0}},h=e.at(-1);if(h&&Ee(h))switch(o){case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":case"Home":case"End":{const n=t,{range:l,targetCellPosition:i}=function(e,{isExtending:o=!1,rowOffset:t=0,numberOfScrollableRows:n,numberOfFrozenRows:l,numberOfFrozenColumns:i}){const{anchor:s,body:a}=e;if(!Ee(e)||void 0===a)return{range:e};if(!o){const e=(0,r.clamp)(s.rowIndex+t,0,n-1);return{range:Te({from:e,to:e}),targetCellPosition:{columnIndex:i,rowIndex:e+l}}}const u=s.rowIndex===a.rows.from?"to":"from",d=(0,r.clamp)(a.rows[u]+t,0,n-1);return{range:Te({anchor:s,...a.rows,[u]:d}),targetCellPosition:{rowIndex:d+l,columnIndex:i}}}(h,{...f[o],isExtending:n,...m});return{selection:n?Le(e,{lastRange:l}):[l],targetCellPosition:i}}}switch(o){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":case"Home":case"End":return function(e,{isExtending:o=!1,rowOffset:t=0,columnOffset:n=0,numberOfScrollableColumns:l,numberOfScrollableRows:i,numberOfFrozenColumns:s,numberOfFrozenRows:a}){const u=function(e,o){if(!e)return{anchor:{columnIndex:0,rowIndex:0},to:{columnIndex:0,rowIndex:0}};const{anchor:t}=e,n=Ke(t,o),l=[];return ke.forEach((t=>{const n=e[t];n&&["from","to"].forEach((e=>{["from","to"].forEach((r=>{const i=Ke({gridKey:t,rowIndex:n.rows[e],columnIndex:n.columns[r]},o);l.push(i)}))}))})),{anchor:n,to:(0,r.maxBy)(l,(e=>{return o=e,t=n,Math.abs(t.columnIndex-o.columnIndex)+Math.abs(t.rowIndex-o.rowIndex);var o,t}))}}(e.at(-1),{numberOfFrozenColumns:s,numberOfFrozenRows:a}),d=a+i,c=s+l,{rowIndex:m,columnIndex:f}=o?u.to:u.anchor,h={rowIndex:(0,r.clamp)(m+t,0,d-1),columnIndex:(0,r.clamp)(f+n,0,c-1)},p=o?{anchor:u.anchor,to:h}:{anchor:h,to:h};return{selection:[Ve(p,{numberOfFrozenColumns:s,numberOfFrozenRows:a,numberOfScrollableColumns:l,numberOfScrollableRows:i})],targetCellPosition:p.to}}(e,{...f[o],isExtending:t,...m});case"a":if(u.P?l:n)return{selection:Pe()}}return{selection:e}}function Be({gridKey:e,rowIndex:o,columnIndex:t}){return{anchor:{gridKey:e,rowIndex:o,columnIndex:t},[e]:{rows:{from:o,to:o},columns:{from:t,to:t}}}}const je={staticHeader:{horizontal:"left",vertical:"top"},rowHeader:{horizontal:"left",vertical:"bottom"},columnHeader:{horizontal:"right",vertical:"top"},body:{horizontal:"right",vertical:"bottom"}},_e=e=>je?.[e],qe=(e,o)=>{const t=_e(e),n=_e(o.gridKey),r={rowIndex:o.rowIndex,columnIndex:o.columnIndex};return n.horizontal!==t.horizontal&&(r.columnIndex="left"===t.horizontal?1/0:-1/0),n.vertical!==t.vertical&&(r.rowIndex="top"===t.vertical?1/0:-1/0),r};function Ue({anchorFrom:e,anchorTo:o,grids:t,defaultColumnWidth:n,defaultRowHeight:r,frozenColumnWidths:l,scrollableColumnWidths:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a,numberOfFrozenColumns:u,numberOfFrozenRows:d,numberOfScrollableRows:c,numberOfScrollableColumns:m}){const f=ke.map((f=>{const h=t[f].current;if(!h)return;const p=["staticHeader","rowHeader"].includes(f),g=["staticHeader","columnHeader"].includes(f),b=(({anchorFrom:e,anchorTo:o,columnWidths:t,defaultColumnWidth:n,defaultRowHeight:r,hiddenColumns:l,grid:i,gridKey:s,numberOfColumns:a,numberOfRows:u})=>{const d=qe(s,e),c=qe(s,o),m={rows:{from:Math.min(d.rowIndex,c.rowIndex),to:Math.max(d.rowIndex,c.rowIndex)},columns:{from:Math.min(d.columnIndex,c.columnIndex),to:Math.max(d.columnIndex,c.columnIndex)}},{height:f,width:h}=i.getBoundingClientRect(),{firstVisibleRowIndex:p,lastVisibleRowIndex:g}=He({containerHeight:f,defaultRowHeight:r,numberOfRows:u,scrollTop:i.scrollTop,shouldReturnExtraRows:!1}),{firstVisibleColumnIndex:b,lastVisibleColumnIndex:y}=Oe({columnWidths:t,containerWidth:h,defaultColumnWidth:n,hiddenColumns:l,numberOfColumns:a,scrollLeft:i.scrollLeft}),w={rows:{from:p,to:g},columns:{from:b,to:y}},C=["rows","columns"];for(let e=0;e<C.length;e++){const o=C[e],t=m[o],{from:n,to:r}=t;if(!isFinite(n)&&!isFinite(r))return;isFinite(n)?isFinite(r)||(t.to=w[o].to):t.from=w[o].from}return m})({anchorFrom:e,anchorTo:o,gridKey:f,grid:h,defaultColumnWidth:n,defaultRowHeight:r,columnWidths:p?l:i,hiddenColumns:p?s:a,numberOfColumns:p?u:m,numberOfRows:g?d:c});return void 0!==b?[f,b]:void 0})).filter((e=>void 0!==e));return{anchor:e,...Object.fromEntries(f)}}function Qe(e,{gridKey:o,rowIndex:t,columnIndex:n}){return!!ie(e,{rowIndex:t})||e.some((e=>void 0!==e[o]&&e[o].columns.from<=n&&e[o].columns.to>=n&&e[o].rows.from<=t&&e[o].rows.to>=t))}function Ge({gridKey:e,rowIndex:o,columnIndex:t}){return"selectAllCell"===e?{gridKey:"staticHeader",rowIndex:0,columnIndex:0}:"rowNumbers"===e?{gridKey:"rowHeader",rowIndex:o,columnIndex:0}:{gridKey:e,columnIndex:t,rowIndex:o}}function Xe(e,o){return e.columnIndex<o?{...e,gridKey:"body"===e.gridKey?"rowHeader":"staticHeader"}:{...e,columnIndex:e.columnIndex-o}}function Ze(e,o){return{rows:e.rows,columns:{from:e.columns.from-o,to:e.columns.to-o}}}function Je(e,o){return e?e.columns.to<o?[e,void 0]:e.columns.from>=o?[void 0,Ze(e,o)]:function(e,o){return[{rows:e.rows,columns:{from:e.columns.from,to:o-1}},{rows:e.rows,columns:{from:0,to:e.columns.to-o}}]}(e,o):[void 0,void 0]}function eo(e,o){return!e||e.from>=o.from&&e.to<=o.to}const oo=()=>{},to={},no=new Set,ro=()=>!1,lo=["horizontal","vertical"],io="TABLE_COLUMN",so=e=>{const[o]=(0,s.i)("table.defaultSize"),t=(0,a.DP)(),{columnWidth:i,rowHeight:d}=U.L[e.size??o],m=e.shouldRenderExtraRows??!1,f=e.wrapHeaders??!1,h=e.hiddenColumns??no,p=Boolean(e.areFrozenColumnsIgnored),b=Boolean(e.areRowNumbersVisible),y=Boolean(e.canReorderColumns),w=e.columnWidths??to,C=e.isTotal??ro,v=e.onColumnsResized??oo,x=e.onKeyDown??oo,R=e.onKeyUp??oo,S=e.onScrolled??oo,I=e.onVisibleRangeChanged??oo,O=e.onFrozenColumnsIgnored??oo,z=e.onColumnsReordered??oo,F=e.onColumnsShown??oo,[W,Y]=(0,l.useState)(0),[D,E]=(0,l.useState)(0),[A,K]=N(),[V,L]=(0,l.useState)([]),$=(0,l.useRef)(),B=(0,l.useRef)(null),j=e.containerRef??B,_=(0,l.useRef)(null),q=(0,l.useRef)(null),Q=(0,l.useRef)(null),G=(0,l.useRef)(null),X=(0,l.useRef)(null),Z=(0,l.useRef)(null),{width:oe,height:le}=(0,c.useDebouncedComponentSize)(G),{numberOfRows:ae,numberOfColumns:de}=(0,Ce.Q)(e.cells),fe=e.numberOfFrozenColumns??0,pe=e.numberOfFrozenRows??0,ge=de-fe,be=ae-pe,ye=(0,l.useRef)({body:[],columnHeader:[],rowHeader:[],staticHeader:[]}),we=(0,l.useMemo)((()=>({borderRight:`1px solid ${t.cellBorderColor}`})),[t.cellBorderColor]),ve=te(),xe=(0,l.useMemo)((()=>{const e={borderBottom:`2px solid ${t.cellBorderColor}`},o={borderRight:`2px solid ${t.cellBorderColor}`};return{horizontal:e,vertical:o,horizontalAndVertical:{...e,...o}}}),[t.cellBorderColor]),Re=(0,l.useMemo)((()=>({staticHeader:_,rowHeader:q,columnHeader:Q,body:G,rowNumbers:X,selectAllCell:Z})),[_,q,Q,G,X,Z]),[Ye,ke]=(0,l.useMemo)((()=>{const e=new Set,o=new Set;return h.forEach((t=>{t<fe?e.add(t):o.add(t-fe)})),[e,o]}),[fe,h]),{rowNumbersColumnWidth:Ae,frozenColumnWidths:Ke,frozenColumnsTotalWidth:Ve,scrollableColumnsTotalWidth:je,scrollableColumnWidths:_e,scrollableRowsTotalHeight:qe}=function({numberOfFrozenColumns:e,numberOfScrollableRows:o,numberOfScrollableColumns:t,columnWidths:n,defaultRowHeight:r,defaultColumnWidth:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a}){const{frozenColumnWidths:u,scrollableColumnWidths:d}=(0,l.useMemo)((()=>{const o={},t={};for(const r in n){const l=Number.parseInt(r,10),i=n[l];l<e?o[r]=i:t[l-e]=i}return{frozenColumnWidths:o,scrollableColumnWidths:t}}),[n,e]),c=(0,l.useMemo)((()=>{let o=0;for(let t=0;t<e;t++)o+=k({columnIndex:t,columnWidths:u,defaultColumnWidth:i,hiddenColumns:s});return o}),[i,u,s,e]),m=(0,l.useMemo)((()=>{let e=0;for(let o=0;o<t;o++)e+=k({columnIndex:o,columnWidths:d,defaultColumnWidth:i,hiddenColumns:a});return e}),[i,a,t,d]),f=(0,l.useMemo)((()=>Math.max(We(o.toString())+10,19)),[o]),h=(0,l.useMemo)((()=>o*r),[r,o]);return{rowNumbersColumnWidth:f,frozenColumnWidths:u,scrollableColumnWidths:d,scrollableRowsTotalHeight:h,frozenColumnsTotalWidth:c,scrollableColumnsTotalWidth:m}}({numberOfFrozenColumns:fe,numberOfScrollableRows:be,numberOfScrollableColumns:ge,columnWidths:w,defaultRowHeight:d,defaultColumnWidth:i,hiddenFrozenColumns:Ye,hiddenScrollableColumns:ke}),Ze=(0,l.useMemo)((()=>{const e=Q.current?.getBoundingClientRect(),o=e?.left??0,t=e?.top??0;return{left:o,right:Math.min(o+oe,o+je),top:e?.top??0,bottom:t+le}}),[je,oe,le]),io=p?Ve+je:je;(0,l.useEffect)((()=>{if(0===oe&&0===le)return;const e=p?oe:Ve+oe;if(0===e)return;const o=Ve/e>.9;o!==p&&O(o)}),[O,p,oe,Ve,le]);const{staticHeader:so,rowHeader:ao,columnHeader:uo,body:co}=(0,l.useMemo)((()=>function(e,{numberOfFrozenRows:o,numberOfFrozenColumns:t,areFrozenColumnsIgnored:n}){const r=n?0:t,l={body:[],columnHeader:[],rowHeader:[],staticHeader:[]};return e.forEach(((e,t)=>{e.forEach(((e,n)=>{const i=function({rowIndex:e,columnIndex:o,numberOfFrozenRows:t,effectiveNumberOfFrozenColumns:n}){const r=e<t,l=o<n;return r&&l?"staticHeader":l?"rowHeader":r?"columnHeader":"body"}({rowIndex:t,columnIndex:n,numberOfFrozenRows:o,effectiveNumberOfFrozenColumns:r}),s=l[i];s.length===(t<o?t:t-o)&&s.push([]),s.at(-1).push(e)}))})),l}(e.cells,{areFrozenColumnsIgnored:p,numberOfFrozenRows:pe,numberOfFrozenColumns:fe})),[e.cells,p,pe,fe]),[mo,fo,ho]=function(){const e=(0,l.useRef)([]),o=(0,l.useRef)([]),t=(0,l.useRef)([]),n=(0,l.useRef)([]),r=(0,l.useCallback)((()=>{const[r,l]=[e.current,o.current].map((e=>e.filter((e=>null!==e))));function i(){for(let e=0;e<r.length;e++){const[o,t]=[r,l].map((o=>o[e])),[n,i]=[o,t].map((e=>e.clientHeight));n!==i&&(o.style.minHeight&&o.style.minHeight===`${n}px`||t.style.minHeight&&t.style.minHeight===`${i}px`)?(o.style.minHeight="",t.style.minHeight=""):n<i?o.style.minHeight=`${i}px`:i<n&&(t.style.minHeight=`${n}px`)}}const s=t.current,a=n.current;if(r.length===l.length&&r.length===s.length&&l.length===a.length||([...s,...a].forEach((e=>{e.disconnect()})),s.splice(0,s.length),a.splice(0,a.length)),0===s.length&&0===a.length&&r.length>0&&r.length===l.length)for(let e=0;e<r.length;e++){const o=new ResizeObserver(i);o.observe(r[e]),s.push(o);const t=new ResizeObserver(i);t.observe(l[e]),a.push(t)}}),[]);return[e,o,r]}(),[po,go,bo,yo]=function({container:e,defaultColumnWidth:o,defaultRowHeight:t,frozenColumnWidths:n,scrollableColumnWidths:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a,grids:u,numberOfScrollableColumns:d,numberOfFrozenColumns:c,numberOfFrozenRows:m,numberOfScrollableRows:f,numberOfVisibleRows:h,columnHeaderRows:p,rowNumbersColumnWidth:g,canReorderColumns:b}){const[y,w]=N(),[,C]=T(),v=(0,l.useRef)(y);(0,l.useEffect)((()=>{v.current=y}),[y]);const x=Fe({grids:u,rowNumbersColumnWidth:g,defaultColumnWidth:o,defaultRowHeight:t,frozenColumnWidths:n,scrollableColumnWidths:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a,columnHeaderRows:p,numberOfScrollableRows:f,numberOfScrollableColumns:d});return[(0,l.useCallback)((l=>{if(e.current?.focus(),0!==l.button||!((e,o)=>{const t=o.selectAllCell.current||o.staticHeader.current||o.columnHeader.current||o.body.current,n=o.body.current;if(!n||!t)return!1;const{top:r,left:l}=t.getBoundingClientRect(),{bottom:i,right:s}=n.getBoundingClientRect();return e.clientX>=l&&e.clientX<=s&&e.clientY>=r&&e.clientY<=i})(l,u))return;const h=v.current;let p=l.clientX,g=l.clientY;const y=x({x:p,y:g});let R=y,S=!1,I=!1,O=performance.now();const H=e=>{p=e.clientX,g=e.clientY};if(y){const{gridKey:z,rowIndex:M,columnIndex:F,isOutOfBounds:W}=y,Y=v.current.at(-1);if(W)return;if(C(!0),"selectAllCell"===z)w(Pe()),C(!1);else if(!l.shiftKey||l.ctrlKey||l.metaKey||!Y||ne(Y)){let e;if("rowNumbers"===z?e=Te({from:M,to:M}):(e=Be({gridKey:z,rowIndex:M,columnIndex:F}),"columnHeader"===z&&(I=!0)),(l.ctrlKey||l.metaKey)&&Y)w([...v.current,e]);else{const o=w([e]);S=b&&!o&&I}}else w(Le(v.current,"rowNumbers"===z?{lastRange:Te({from:Y.anchor.rowIndex,to:M,anchor:Y.anchor})}:{lastRange:Ue({anchorFrom:Y.anchor,anchorTo:{gridKey:z,rowIndex:M,columnIndex:F},grids:u,defaultColumnWidth:o,defaultRowHeight:t,frozenColumnWidths:n,scrollableColumnWidths:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a,numberOfScrollableColumns:d,numberOfFrozenColumns:c,numberOfFrozenRows:m,numberOfScrollableRows:f})}));if(S)return void C(!1);const D=()=>{const l=performance.now(),h=(l-O)/1e3;O=l,e.current?.focus(),((e,o,{x:t,y:n,deltaTime:r})=>{const l=e.getBoundingClientRect(),i=1e3*r;t<l.left?o.scrollLeft-=i:t>l.right&&(o.scrollLeft+=i),n<l.top?o.scrollTop-=i:n>l.bottom&&(o.scrollTop+=i)})(e.current,u.body.current,{x:p,y:g,deltaTime:h});const b=x({x:p,y:g});if(b&&!(0,r.isEqual)(b,R)){R=b;const{rowIndex:e,gridKey:r}=b,l=v.current.at(-1);if(l&&!ne(l))if(Ee(l)){const o=["rowNumbers","rowHeader","body"].includes(r)?e:0;w(Le(v.current,{lastRange:Te({from:l.anchor.rowIndex,to:o})}))}else{const e=Ge(b);w(Le(v.current,{lastRange:Ue({anchorFrom:l.anchor,anchorTo:e,grids:u,defaultColumnWidth:o,defaultRowHeight:t,frozenColumnWidths:n,scrollableColumnWidths:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a,numberOfScrollableColumns:d,numberOfFrozenColumns:c,numberOfFrozenRows:m,numberOfScrollableRows:f})}))}}},N=setInterval(D,1e3/60),T=()=>!(!l.ctrlKey&&!l.metaKey)&&("selectAllCell"===z&&re(h)||"rowNumbers"===z&&ie(h,{rowIndex:M})||"selectAllCell"!==z&&"rowNumbers"!==z&&Qe(h,{gridKey:z,columnIndex:F,rowIndex:M})),P=()=>{if("selectAllCell"===z)return void w([]);const e=x({x:p,y:g});if(!e)return;let l;if("rowNumbers"===z)l=Te({from:M,to:e.rowIndex});else{const r=Ge(e);l=Ue({anchorFrom:{rowIndex:M,columnIndex:F,gridKey:z},anchorTo:r,grids:u,defaultColumnWidth:o,defaultRowHeight:t,frozenColumnWidths:n,scrollableColumnWidths:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a,numberOfFrozenColumns:c,numberOfFrozenRows:m,numberOfScrollableRows:f,numberOfScrollableColumns:d})}w(function(e,o){return e.flatMap((e=>{const{anchor:t,...n}=e,l=(0,r.mapValues)(n,((e,t)=>e&&o[t]?function(e,o){return o.rows.to<e.rows.from||o.columns.to<e.columns.from||e.rows.to<o.rows.from||e.columns.to<o.columns.from?[e]:[(0,ze.produce)(e,(e=>{e.rows.to=o.rows.from-1})),(0,ze.produce)(o,(t=>{t.columns={from:e.columns.from,to:o.columns.from-1}})),(0,ze.produce)(o,(t=>{t.columns={from:o.columns.to+1,to:e.columns.to}})),(0,ze.produce)(e,(e=>{e.rows.from=o.rows.to+1}))].map((o=>({rows:{from:Math.max(o.rows.from,e.rows.from),to:Math.min(o.rows.to,e.rows.to)},columns:{from:Math.max(o.columns.from,e.columns.from),to:Math.min(o.columns.to,e.columns.to)}}))).filter((e=>e.columns.from<=e.columns.to&&e.rows.from<=e.rows.to&&e.columns.from!==1/0&&e.rows.from!==1/0))}(e,o[t]):[e]));if((0,r.every)(l,(e=>1===e?.length))){const{staticHeader:e,columnHeader:o,rowHeader:n,body:r}=l;return e||o||n||r?[{staticHeader:e?.[0],columnHeader:o?.[0],rowHeader:n?.[0],body:r?.[0],anchor:t}]:[]}const i=(0,r.flatMap)(l,((e,o)=>e?e.map((e=>({[o]:e,anchor:t}))):[]));return i}))}(h,l))},E=()=>{T()&&P(),C(!1),document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",E),clearInterval(N)};document.addEventListener("mousemove",H),document.addEventListener("mouseup",E)}}),[e,u,x,C,w,t,n,i,s,a,d,c,m,f,b,o]),(0,l.useCallback)((e=>{const o=e.pageX,t=e.pageY,n=x({x:o,y:t});if(!n||n.isOutOfBounds)return y;const{columnIndex:r,gridKey:l,rowIndex:i}=n;if("selectAllCell"===l){if(!re(v.current)){const e=Pe();return w(e),e}return y}if("rowNumbers"===l){if(!ie(v.current,{rowIndex:i})){const e=[Te({from:i,to:i})];return w(e),e}return y}if(!Qe(y,{gridKey:l,columnIndex:r,rowIndex:i})){const e=[Be({gridKey:l,rowIndex:i,columnIndex:r})];return w(e),e}return y}),[y,w,x]),(r,l)=>{const{selection:p,targetCellPosition:g}=$e(y,{...r,numberOfScrollableColumns:d,numberOfFrozenColumns:c,numberOfFrozenRows:m,numberOfScrollableRows:f,numberOfVisibleRows:h});if(p!==y){w(p),l(p),r.preventDefault();const d=u.body.current;if(!g||!d||!e.current)return;const m=e.current.scrollHeight,f=e.current.scrollWidth,{rowIndex:h,columnIndex:b}=g,y=Math.max(0,t*(h-2)),C=y+3*t;y<d.scrollTop?d.scrollTop=y:C>d.scrollTop+m&&(d.scrollTop=C-m);let v=0;for(let e=0;e<b;e++)v+=k({columnIndex:e,columnWidths:e<c?n:i,defaultColumnWidth:o,hiddenColumns:e<c?s:a});v<d.scrollLeft?d.scrollLeft=v:v>d.scrollLeft+f&&(d.scrollLeft=v-f)}},(e,o)=>{"Escape"===e.key&&(w([]),o([]))}]}({container:j,rowNumbersColumnWidth:Ae,defaultColumnWidth:i,defaultRowHeight:d,grids:Re,hiddenFrozenColumns:Ye,hiddenScrollableColumns:ke,numberOfFrozenRows:pe,numberOfScrollableRows:be,numberOfVisibleRows:j.current?Math.floor(j.current.scrollHeight/d-pe):0,...p?{frozenColumnWidths:{},numberOfScrollableColumns:fe+ge,numberOfFrozenColumns:0,scrollableColumnWidths:w}:{frozenColumnWidths:Ke,numberOfScrollableColumns:ge,numberOfFrozenColumns:fe,scrollableColumnWidths:_e},columnHeaderRows:fo.current,canReorderColumns:y}),wo=Fe({grids:Re,rowNumbersColumnWidth:Ae,defaultColumnWidth:i,defaultRowHeight:d,frozenColumnWidths:Ke,scrollableColumnWidths:_e,hiddenFrozenColumns:Ye,hiddenScrollableColumns:ke,columnHeaderRows:fo.current,numberOfScrollableRows:be,numberOfScrollableColumns:ge}),Co=(0,l.useRef)(A);(0,l.useEffect)((()=>{Co.current=A}),[A]);const{firstVisibleRowIndex:vo,lastVisibleRowIndex:xo}=(0,l.useMemo)((()=>He({containerHeight:le,numberOfRows:be,defaultRowHeight:d,scrollTop:W,shouldReturnExtraRows:m})),[le,d,be,W,m]),Ro=(0,l.useMemo)((()=>{if(e.mergedCells)return e.mergedCells.map((({rows:e,columns:o})=>({rows:e,columns:{from:o.from-fe,to:o.to-fe}})))}),[fe,e.mergedCells]),{firstVisibleColumnIndex:So,lastVisibleColumnIndex:Io,cumulatedWidthOfColumnsScrolledPast:Oo}=(0,l.useMemo)((()=>Oe({columnWidths:p?w:_e,containerWidth:oe,defaultColumnWidth:i,hiddenColumns:p?h:ke,numberOfColumns:p?fe+ge:ge,scrollLeft:D})),[p,oe,w,i,h,ke,fe,ge,D,_e]);(0,l.useEffect)((()=>{if(0===vo&&0===xo&&0===So&&0===Io)return;const e={rows:{from:vo,to:xo},columns:{from:So,to:Io}};(0,r.isEqual)(e,$.current)||(I(e),$.current=e)}),[So,vo,Io,xo,I]);const Ho=o=>{if(e.onSelectionChanged){const t=p?function({selection:e,numberOfFrozenColumns:o}){return e.map((e=>{const[t,n]=Je(e.body,o),[r,l]=Je(e.columnHeader,o);return{anchor:Xe(e.anchor,o),staticHeader:r,columnHeader:l,rowHeader:t,body:n}}))}({selection:o,numberOfFrozenColumns:fe}):o;e.onSelectionChanged(t)}},{handleColumnsShown:zo,offsetHandleColumnsShown:Mo}=function({onColumnsShown:e,numberOfFrozenColumns:o}){return{handleColumnsShown:e,offsetHandleColumnsShown:(0,l.useCallback)((t=>e(t.map((e=>o+e)))),[o,e])}}({onColumnsShown:F,numberOfFrozenColumns:fe}),{handleColumnResizeHandleDoubleClicked:Fo,offsetHandleColumnResizeHandleDoubleClicked:Wo}=function({cells:e,cellRefs:o,selectionRef:t,areFrozenColumnsIgnored:n,numberOfFrozenColumns:i,numberOfScrollableColumns:s,numberOfFrozenRows:a,numberOfScrollableRows:u,onColumnsResized:d}){const c=(0,l.useCallback)((l=>{const c=function(e,{numberOfFrozenColumns:o,numberOfScrollableColumns:t}){const n=e[0],l=[];if(n?.staticHeader){const{from:e,to:t}=n.staticHeader.columns,i=Math.min(t,o-1);l.push(...(0,r.range)(e,i+1))}if(n?.columnHeader){const{from:e,to:i}=n.columnHeader.columns,s=Math.min(i,t-1);l.push(...(0,r.range)(e+o,s+o+1))}return l}(t.current,{numberOfFrozenColumns:n?0:i,numberOfScrollableColumns:n?i+s:s}),m=c.includes(l)?c:[l],f={};m.forEach((t=>{const n=(({cells:e,columnIndex:o,cellRefs:{body:t,columnHeader:n,rowHeader:r,staticHeader:l},numberOfFrozenColumns:i,numberOfFrozenRows:s,numberOfScrollableRows:a})=>{const u=s+a,d=o<i,c=d?o:o-i,[[m,f],[h,p]]=[{from:0,to:s,grid:d?l:n},{from:s,to:u,grid:d?r:t}].map((({from:t,to:n,grid:r})=>{let l="",i=0;const{numberOfColumns:a}=(0,Ce.Q)(r);for(let u=t;u<n;u++){let t=null;if(r){const e=u<s?u:u-s,o=Math.min(c,a-1);if(t=r[e]?.[o],t){const e=De(t);e>i&&(i=e)}}if(!t||!t?.children?.[0]||!Ne(t)&&!Ne(t.children[0])){const t=e[u][o]?.caption??"";t.length>l.length&&(l=t)}}return[l,i]})),g=We(m)+f+6,b=We(h)+p;return Math.max(g,b)+10})({cells:e,cellRefs:o.current,columnIndex:t,numberOfFrozenColumns:i,numberOfFrozenRows:a,numberOfScrollableRows:u});f[t]=n})),d(f)}),[t,n,i,s,d,e,o,a,u]);return{handleColumnResizeHandleDoubleClicked:c,offsetHandleColumnResizeHandleDoubleClicked:(0,l.useCallback)((e=>c(e+i)),[c,i])}}({cells:e.cells,cellRefs:ye,selectionRef:Co,areFrozenColumnsIgnored:p,numberOfFrozenColumns:fe,numberOfScrollableColumns:ge,numberOfFrozenRows:pe,numberOfScrollableRows:be,onColumnsResized:v}),{handleColumnsWidthChanged:Yo,offsetHandleColumnsWidthChanged:Do}=function({numberOfFrozenColumns:e,numberOfScrollableColumns:o,columnWidths:t,onColumnsResized:n}){return{handleColumnsWidthChanged:(0,l.useCallback)((e=>{n({...t,...e})}),[t,n]),offsetHandleColumnsWidthChanged:(0,l.useCallback)((r=>{const l=(0,ze.produce)(t??{},(t=>{for(let n=0;n<e+o;n++)r[n]&&(t[e+n]=r[n])}));n({...t,...l})}),[t,e,o,n])}}({numberOfFrozenColumns:fe,numberOfScrollableColumns:ge,columnWidths:w,onColumnsResized:v}),No=(0,l.useCallback)((()=>{const e=G.current?.scrollTop??0,o=G.current?.scrollLeft??0;W!==e&&Y(e),D!==o&&E(o),!S||W===e&&D===o||S({scrollTop:e,scrollLeft:o})}),[S,D,W]),{getRowProps:To,getColumnProps:Po,getRowStyle:Eo}=e,ko=(0,l.useMemo)((()=>(0,r.memoize)(To??(()=>[]))),[To]),Ao=(0,l.useMemo)((()=>(0,r.memoize)(Po??(()=>[]))),[Po]),Ko=(0,l.useMemo)((()=>(0,r.memoize)(Eo??(()=>{}))),[Eo]),Vo=(0,l.useCallback)((e=>ko(e+pe)),[ko,pe]),Lo=(0,l.useCallback)((e=>Ao(e+fe)),[Ao,fe]),$o=(0,l.useCallback)((e=>Ko(e+pe)),[Ko,pe]),Bo=e.loadedRange,jo=(0,l.useMemo)((()=>function(e,o){return!o||e.every((({body:e,rowHeader:t,columnHeader:n})=>eo(e?.rows,o.rows)&&eo(e?.columns,o.columns)&&eo(t?.rows,o.rows)&&eo(n?.columns,o.columns)))}(A,Bo)),[A,Bo]);return No(),(0,n.FD)("div",{style:{...e.style,paddingBottom:2,paddingRight:2,height:"100%",display:"flex",flexDirection:"column",outline:"none"},css:{"@media print .aui-table-cell":{padding:"4px 0px 3px !important"}},children:[(0,n.Y)(ce,{children:(0,n.FD)("div",{css:{outline:"none",position:"relative",overflow:"hidden",flexGrow:1,display:"grid",gridTemplateAreas:'\n              "selectAllCell  staticHeader  columnHeader          ."\n              "rowNumbers       rowHeader     body                verticalScrollbar"\n              ".                .             horizontalScrollbar ."\n            ',gridTemplateRows:"min-content 1fr min-content",gridTemplateColumns:"min-content min-content 1fr min-content"},onKeyDown:e=>{bo(e,Ho),x(e)},onKeyUp:o=>{if(yo(o,Ho),e.onRowsActioned){const{ctrlKey:t,metaKey:n,shiftKey:r,key:l}=o,i=A.at(-1)?.anchor,s=function(e,{ctrlKey:o,metaKey:t,shiftKey:n,key:r,isBrowserOnMacOS:l,selectionAnchor:i}){return"Escape"===r?[]:"Enter"===r&&i?Me(e,{ctrlKey:o,metaKey:t,shiftKey:n,isBrowserOnMacOS:l,cellPosition:i}):e}(V,{ctrlKey:t,metaKey:n,shiftKey:r,key:l,isBrowserOnMacOS:u.P,selectionAnchor:i});s!==V&&(L(s),e.onRowsActioned(s))}R(o)},onMouseDown:e=>{po(e);const o=e=>{document.removeEventListener("mouseup",o),0===e.button&&Ho(Co.current)};document.addEventListener("mouseup",o)},onContextMenu:e=>{const o=go(e);o!==A&&Ho(o)},onDoubleClick:o=>{if(!e.onRowsActioned)return;const t=wo({x:o.clientX,y:o.clientY}),{ctrlKey:n,shiftKey:r,metaKey:l}=o,i=Me(V,{ctrlKey:n,shiftKey:r,metaKey:l,isBrowserOnMacOS:u.P,cellPosition:t});i!==V&&(L(i),e.onRowsActioned(i))},ref:j,tabIndex:0,children:[(0,n.Y)("div",{"data-testid":"reorder-columns-wrapper",style:{position:"relative",gridRowStart:"columnHeader-start",gridRowEnd:"body-end",gridColumn:"body",overflow:"hidden",zIndex:100,pointerEvents:"none"},children:y&&(0,n.Y)(H,{dragBounds:Ze,scrollLeft:Q.current?.scrollLeft??0,defaultColumnWidth:i,columnWidths:_e,firstVisibleColumnIndex:So,lastVisibleColumnIndex:Io,cumulatedWidthOfColumnsScrolledPast:Oo,onColumnReorder:(e,o)=>{z(e,o),K([Be({gridKey:"columnHeader",columnIndex:o,rowIndex:0})])},onScroll:(e,o)=>{const t="left"===e?-1:1;Q.current?.scrollBy({left:t*o*14})}})}),b&&(0,n.FD)(n.FK,{children:[(0,n.Y)("div",{ref:Z,style:{gridArea:"selectAllCell"},children:(0,n.Y)(ue,{width:Ae,height:d,style:{...we,...xe.horizontal}})}),(0,n.Y)(me,{group:"vertical",children:(0,n.Y)("div",{ref:X,className:"aui-invisible-scrollbars",style:{gridArea:"rowNumbers",overflowY:"auto"},children:(0,n.Y)(se,{rangesOfActionedRows:V,numberOfRows:be,defaultRowHeight:d,contentWidth:Ae,contentHeight:qe,firstVisibleRowIndex:vo,lastVisibleRowIndex:xo})})})]}),p?(0,n.Y)(he,{additionalCellProps:e.additionalCellProps,cellRefs:ye.current,columnHeaderRef:Q,LeftCell:ee,TopCell:M,BodyCell:g,TopLeftCell:Ie,numberOfFrozenColumns:fe,numberOfFrozenRows:pe,numberOfScrollableColumns:ge,numberOfScrollableRows:be,horizontalSeperator:xe.horizontal,wrapHeaders:f,columnHeaderCells:uo,bodyCells:co,defaultColumnWidth:i,defaultRowHeight:d,bodyRef:G,hiddenColumns:h,columnWidths:w,onColumnsShown:zo,getRowStyle:$o,style:e.style,onColumnsWidthChanged:Yo,getColumnProps:Ao,getRowProps:ko,firstVisibleRowIndex:vo,lastVisibleRowIndex:xo,firstVisibleColumnIndex:So,lastVisibleColumnIndex:Io,contentWidth:Ve+je,contentHeight:qe,mergedCells:e.mergedCells,handleScrolled:No,cumulatedWidthOfColumnsScrolledPast:Oo,onColumnResizeHandleDoubleClicked:Fo,isTotal:C}):(0,n.FD)(n.FK,{children:[(0,n.Y)("div",{ref:_,className:"aui-invisible-scrollbars",style:{gridArea:"staticHeader"},children:(0,n.Y)(J,{cellRefs:ye.current.staticHeader,areColumnsResizable:!0,areHiddenColumnGroupCaretsVisible:!0,cells:so,Cell:Ie,additionalCellProps:e.additionalCellProps,columnWidths:Ke,defaultColumnWidth:i,defaultRowHeight:d,wrapText:f,hiddenColumns:Ye,isVirtualized:!1,style:xe.horizontalAndVertical,numberOfRows:pe,numberOfColumns:fe,onColumnsShown:zo,onColumnsWidthChanged:Yo,onColumnResizeHandleDoubleClicked:Fo,selection:A.map((e=>e.staticHeader)),getRowProps:ko,getColumnProps:Ao,rowsRef:(e,o)=>{mo.current[o]=e,ho()},rowHeights:mo.current.map((e=>e?.clientHeight)),contentWidth:Ve})}),(0,n.Y)(me,{group:"horizontal",children:(0,n.Y)("div",{ref:Q,className:"aui-invisible-scrollbars",style:{gridArea:"columnHeader",overflowX:"auto"},children:(0,n.Y)(J,{cellRefs:ye.current.columnHeader,areColumnsResizable:!0,areHiddenColumnGroupCaretsVisible:!0,cells:uo,Cell:y?P:M,additionalCellProps:e.additionalCellProps,columnWidths:_e,style:xe.horizontal,defaultColumnWidth:i,wrapText:f,hiddenColumns:ke,isVirtualized:!1,defaultRowHeight:d,numberOfColumns:ge,numberOfRows:pe,onColumnsShown:Mo,onColumnsWidthChanged:Do,onColumnResizeHandleDoubleClicked:Wo,selection:A.map((e=>e.columnHeader)),getRowProps:ko,getColumnProps:Lo,rowsRef:(e,o)=>{fo.current[o]=e,ho()},rowHeights:fo.current.map((e=>e?.clientHeight)),contentWidth:je,mergedCells:Ro})})}),(0,n.Y)(me,{group:"vertical",children:(0,n.Y)("div",{ref:q,className:"aui-invisible-scrollbars",style:{gridArea:"rowHeader",overflowY:"auto"},children:(0,n.Y)(J,{rangesOfActionedRows:V,actionedRowOverlayStyle:ve,cellRefs:ye.current.rowHeader,cells:ao,Cell:ee,additionalCellProps:e.additionalCellProps,cumulatedWidthOfColumnsScrolledPast:0,columnWidths:Ke,defaultColumnWidth:i,hiddenColumns:Ye,isTotal:C,style:xe.vertical,defaultRowHeight:d,numberOfColumns:fe,numberOfRows:be,selection:A.map((e=>e.rowHeader)),getRowProps:Vo,getRowStyle:$o,getColumnProps:Ao,contentWidth:Ve,isVirtualized:!0,contentHeight:qe,firstVisibleRowIndex:vo,lastVisibleRowIndex:xo,firstVisibleColumnIndex:0,lastVisibleColumnIndex:fe-1})})}),(0,n.Y)(me,{group:lo,children:(0,n.Y)("div",{ref:G,className:"aui-invisible-scrollbars",onScroll:No,style:{gridArea:"body",overflow:"auto"},children:(0,n.Y)(J,{rangesOfActionedRows:V,actionedRowOverlayStyle:ve,cellRefs:ye.current.body,Cell:g,additionalCellProps:e.additionalCellProps,cells:co,isVirtualized:!0,columnWidths:_e,defaultColumnWidth:i,hiddenColumns:ke,isTotal:C,defaultRowHeight:d,numberOfColumns:ge,numberOfRows:be,selection:A.map((e=>e.body)),getRowStyle:$o,getRowProps:Vo,getColumnProps:Lo,contentWidth:je,contentHeight:qe,firstVisibleRowIndex:vo,lastVisibleRowIndex:xo,firstVisibleColumnIndex:So,lastVisibleColumnIndex:Io,cumulatedWidthOfColumnsScrolledPast:Oo})})})]}),(0,n.Y)(me,{group:"vertical",children:(0,n.Y)("div",{style:{gridArea:"verticalScrollbar",overflowY:"auto"},children:(0,n.Y)("div",{style:{height:qe,width:1}})})}),(0,n.Y)(me,{group:"horizontal",children:(0,n.Y)("div",{style:{gridArea:"horizontalScrollbar",overflowX:"auto"},children:(0,n.Y)("div",{style:{width:io,height:1}})})})]})}),(0,n.Y)("div",{css:{textAlign:"right",paddingRight:25,flexShrink:0},children:(0,n.Y)(Se,{cells:{bodyCells:co,staticHeaderCells:so,rowHeaderCells:ao,columnHeaderCells:uo},hiddenFrozenColumns:Ye,hiddenScrollableColumns:ke,isSelectionLoaded:jo})})]})},ao=e=>{const o=(0,l.useMemo)((()=>(0,d.Y)()),[]),[t,i]=(0,l.useState)([]),[s,a]=(0,l.useState)(!1),u=(0,l.useCallback)((e=>!(0,r.isEqual)(e,t)&&(i(e),!0)),[t]),c=(0,l.useMemo)((()=>[t,u]),[t,u]),m=(0,l.useMemo)((()=>[s,a]),[s]);return(0,n.Y)(I,{value:o,children:(0,n.Y)(h,{value:e.Cell,children:(0,n.Y)(Y,{value:c,children:(0,n.Y)(D,{value:m,children:(0,n.Y)(so,{...e})})})})})}},69679:(e,o,t)=>{"use strict";t.d(o,{j:()=>d});var n=t(74389),r=t(90923),l=t(90147),i=t(95889),s=t(70065),a=t(67902);const u=["large","medium","small"],d=e=>{const{formatMessage:o}=(0,i.useIntl)(),[t]=(0,s.i)("table.defaultSize");return(0,n.FD)("div",{css:{paddingTop:4,width:"100%",alignItems:"center",display:"grid"},children:[(0,n.Y)(a.Text,{small:!0,strong:!0,children:o({id:"aui.dataVisualization.tableSize"})}),(0,n.Y)(r.Select,{style:{width:125,marginTop:8},value:e.widgetState.style?.size??t,options:u.map((e=>({value:e,label:(0,n.FD)(n.FK,{children:[o({id:`aui.dataVisualization.tableSizeOptions.${e}`}),t===e&&(0,n.FD)(a.Text,{small:!0,type:"secondary",children:["Â (",o({id:"aui.default"}).toLowerCase(),")"]})]})}))),onChange:o=>{e.onWidgetChange((0,l.produce)(e.widgetState,(e=>{e.style={...e.style,size:o}})))}})]})}},74559:(e,o,t)=>{"use strict";t.d(o,{X:()=>s});var n=t(74389),r=t(95889),l=t(70065),i=t(26342);const s=e=>{const{formatMessage:o}=(0,r.useIntl)(),[t]=(0,l.i)("table.tooltips");return(0,n.Y)(i.u,{propertyName:"areTooltipsVisible",label:o({id:"aui.tooltips"}),checkedByDefault:t,...e})}},19760:(e,o,t)=>{"use strict";t.d(o,{S:()=>s});var n=t(74389),r=t(95889),l=t(70065),i=t(26342);const s=e=>{const{formatMessage:o}=(0,r.useIntl)(),[t]=(0,l.i)("table.headers.wrap");return(0,n.Y)(i.u,{propertyName:"wrapHeaders",label:o({id:"aui.dataVisualization.wrapHeaders"}),checkedByDefault:t,...e})}},88368:(e,o,t)=>{"use strict";t.d(o,{O:()=>r});var n=t(31529);function r(e,{numberOfFrozenColumns:o,numberOfFrozenRows:t,numberOfColumnsInBody:r,numberOfRowsInBody:l}){const i={body:{columns:r,rows:l},columnHeader:{columns:r,rows:t},rowHeader:{columns:o,rows:l},staticHeader:{columns:o,rows:t}};return e.map((e=>{const{anchor:o,...t}=e;return{anchor:o,...(0,n.mapValues)(t,((e,o)=>{const t=i[o];return e?{columns:{from:Math.max(0,e.columns.from),to:Math.min(t.columns-1,e.columns.to)},rows:{from:Math.max(0,e.rows.from),to:Math.min(t.rows-1,e.rows.to)}}:void 0}))}}))}},86462:(e,o,t)=>{"use strict";t.d(o,{M:()=>n});const n=(e,o)=>{const t=[];if(e)for(let n=e.rows.from;n<=e.rows.to;n++){t.push([]);for(let r=e.columns.from;r<=e.columns.to;r++){const l=o(r,n);t[n-e.rows.from].push(l)}}return t}},16390:(e,o,t)=>{"use strict";function n(e){return 0===e.length?{numberOfRows:0,numberOfColumns:0}:{numberOfRows:e.length,numberOfColumns:e[0].length}}t.d(o,{Q:()=>n})},53283:(e,o,t)=>{"use strict";t.d(o,{R:()=>s});var n=t(31328);function r(e,o){let t="";for(const n of e){t+="<tr>\n";for(const e of n)t+=`<${o}>${e}</${o}>`;t+="</tr>\n"}return t}function l({header:e,body:o}){let t="<table>\n";return e.length>0&&(t+="<thead>\n",t+=r(e,"th"),t+="</thead>\n"),o.length>0&&(t+="<tbody>\n",t+=r(o,"td"),t+="</tbody>\n"),t+="</table>",t}function i({header:e,body:o}){return[...e,...o].map((e=>e.map((e=>(0,n.$)(e,{token:","}))))).join("\n")}function s({header:e,body:o}){return{"text/html":l({header:e,body:o}),"text/plain":i({header:e,body:o})}}},74309:(e,o,t)=>{"use strict";t.d(o,{L:()=>r,X:()=>n});const n=10,r={small:{columnWidth:90,rowHeight:15},medium:{columnWidth:100,rowHeight:20},large:{columnWidth:120,rowHeight:25}}},91465:(e,o,t)=>{"use strict";t.d(o,{R:()=>l});var n=t(74389),r=t(93345);function l(e){const o=(0,r.forwardRef)(((o,t)=>{const l=(0,r.useMemo)((()=>{const e="small"===o.size?1:4;return{display:"flex",alignItems:"center",justifyContent:o.isColumnFrozen||o.isRowFrozen?"start":"end",fontSize:12,textOverflow:"ellipsis",boxSizing:"border-box",padding:`${e}px 4px 3px`,lineHeight:`${o.height}px`,width:o.width,...!o.wrapText&&{height:o.height,whiteSpace:"nowrap"},...!o.wrapText&&!o.isSticky&&{overflow:"hidden"},...!1!==o.isVirtualized&&{position:"absolute",left:o.left,top:o.top},...o.style}}),[o.size,o.isColumnFrozen,o.isRowFrozen,o.height,o.width,o.wrapText,o.isSticky,o.isVirtualized,o.left,o.top,o.style]);return(0,n.Y)(e,{ref:t,...o,style:l})}));return o.displayName="WithDefaultCellStyle",o}},31328:(e,o,t)=>{"use strict";function n(e,{token:o}){return e.includes(o)||e.includes('"')?`"${e.replace(/"/g,'""')}"`:e}t.d(o,{$:()=>n})},90680:(e,o,t)=>{"use strict";t.d(o,{P:()=>n});const n=globalThis.window?.navigator.platform.startsWith("Mac")??!1},27879:(e,o,t)=>{"use strict";function n(e){return Object.entries(e)}t.d(o,{W:()=>n})},99571:(e,o,t)=>{"use strict";function n(e){return Object.keys(e)}t.d(o,{u:()=>n})},24117:(e,o,t)=>{"use strict";t.d(o,{y:()=>l});var n=t(90147),r=t(31529);const l=function(e,o,t){return(0,n.produce)(e,(e=>{(0,r.update)(e,o,t)}))}},76194:(e,o,t)=>{"use strict";t.d(o,{A:()=>n});const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M264 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm496 424c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496zm144 140H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"align-center",theme:"outlined"}},57418:(e,o,t)=>{"use strict";t.d(o,{A:()=>n});const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M120 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm0 424h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm784 140H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"align-left",theme:"outlined"}},50493:(e,o,t)=>{"use strict";t.d(o,{A:()=>n});const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 158H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 424H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 212H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"align-right",theme:"outlined"}},74860:(e,o,t)=>{"use strict";t.d(o,{A:()=>n});const n={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M689 165.1L308.2 493.5c-10.9 9.4-10.9 27.5 0 37L689 858.9c14.2 12.2 35 1.2 35-18.5V183.6c0-19.7-20.8-30.7-35-18.5z"}}]},name:"caret-left",theme:"outlined"}},3981:(e,o,t)=>{"use strict";t.d(o,{A:()=>n});const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"}},71177:function(e,o,t){var n;n=function(e,o){return function(e){var o={};function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=o,t.i=function(e){return e},t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.p="",t(t.s=10)}([function(e,o){var t,n,r=e.exports={};function l(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===l||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(o){try{return t.call(null,e,0)}catch(o){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:l}catch(e){t=l}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var a,u=[],d=!1,c=-1;function m(){d&&a&&(d=!1,a.length?u=a.concat(u):c=-1,u.length&&f())}function f(){if(!d){var e=s(m);d=!0;for(var o=u.length;o;){for(a=u,u=[];++c<o;)a&&a[c].run();c=-1,o=u.length}a=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(o){try{return n.call(null,e)}catch(o){return n.call(this,e)}}}(e)}}function h(e,o){this.fun=e,this.array=o}function p(){}r.nextTick=function(e){var o=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)o[t-1]=arguments[t];u.push(new h(e,o)),1!==u.length||d||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,o,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,o,t){"use strict";(function(o){var t=function(e){};"production"!==o.env.NODE_ENV&&(t=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=function(e,o,n,r,l,i,s,a){if(t(o),!e){var u;if(void 0===o)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,r,l,i,s,a],c=0;(u=new Error(o.replace(/%s/g,(function(){return d[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}}).call(o,t(0))},function(e,o,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(o,t){o.exports=e},function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n,r=((n=t(4))&&n.__esModule?n:{default:n}).default.createContext({registerPane:function(){},unregisterPane:function(){}});o.default=r,e.exports=o.default},function(e,o,t){"use strict";(function(o){var n,r=t(1);"production"!==o.env.NODE_ENV&&(n=function(e){for(var o=arguments.length,t=Array(o>1?o-1:0),n=1;n<o;n++)t[n-1]=arguments[n];var r=0,l="Warning: "+e.replace(/%s/g,(function(){return t[r++]}));"undefined"!=typeof console&&console.error(l);try{throw new Error(l)}catch(e){}},r=function(e,o){if(void 0===o)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==o.indexOf("Failed Composite propType: ")&&!e){for(var t=arguments.length,r=Array(t>2?t-2:0),l=2;l<t;l++)r[l-2]=arguments[l];n.apply(void 0,[o].concat(r))}}),e.exports=r}).call(o,t(0))},function(e,o,t){(function(o){if("production"!==o.env.NODE_ENV){var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=t(13)((function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}),!0)}else e.exports=t(12)()}).call(o,t(0))},function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(o,t,n){return t&&e(o.prototype,t),n&&e(o,n),o}}(),r=t(4),l=a(r),i=a(t(7)),s=a(t(5));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?e:o}var d=function(e){function o(){var e,t,n;!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o);for(var r=arguments.length,l=Array(r),i=0;i<r;i++)l[i]=arguments[i];return t=n=u(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(l))),n.panes={},n.registerPane=function(e,o){o.forEach((function(o){n.panes[o]||(n.panes[o]=[]),n.findPane(e,o)||(n.panes[o].length>0&&n.syncScrollPosition(n.panes[o][0],e),n.panes[o].push(e))})),n.addEvents(e,o)},n.unregisterPane=function(e,o){o.forEach((function(o){n.findPane(e,o)&&(n.removeEvents(e),n.panes[o].splice(n.panes[o].indexOf(e),1))}))},n.addEvents=function(e,o){e.onscroll=n.handlePaneScroll.bind(n,e,o)},n.removeEvents=function(e){e.onscroll=null},n.findPane=function(e,o){return!!n.panes[o]&&n.panes[o].find((function(o){return o===e}))},n.handlePaneScroll=function(e,o){n.props.enabled&&window.requestAnimationFrame((function(){n.syncScrollPositions(e,o)}))},n.syncScrollPositions=function(e,o){o.forEach((function(t){n.panes[t].forEach((function(r){e!==r&&(n.removeEvents(r,t),n.syncScrollPosition(e,r),window.requestAnimationFrame((function(){n.addEvents(r,o)})))}))})),n.props.onSync&&n.props.onSync(e)},u(n,t)}return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)}(o,e),n(o,[{key:"getContextValue",value:function(){return{registerPane:this.registerPane,unregisterPane:this.unregisterPane}}},{key:"syncScrollPosition",value:function(e,o){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight,l=e.scrollLeft,i=e.scrollWidth,s=e.clientWidth,a=n-r,u=i-s,d=this.props,c=d.proportional,m=d.vertical,f=d.horizontal,h=o.scrollHeight-r,p=o.scrollWidth-s;m&&a>0&&(o.scrollTop=c?h*t/a:t),f&&u>0&&(o.scrollLeft=c?p*l/u:l)}},{key:"render",value:function(){return l.default.createElement(s.default.Provider,{value:this.getContextValue()},l.default.Children.only(this.props.children))}}]),o}(r.Component);d.propTypes={onSync:i.default.func,children:i.default.element.isRequired,proportional:i.default.bool,vertical:i.default.bool,horizontal:i.default.bool,enabled:i.default.bool},d.defaultProps={proportional:!0,vertical:!0,horizontal:!0,enabled:!0},o.default=d,e.exports=o.default},function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(o,t,n){return t&&e(o.prototype,t),n&&e(o,n),o}}(),r=t(4),l=a(t(14)),i=a(t(7)),s=a(t(5));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?e:o}var d=function(e){function o(){var e,t,n;!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o);for(var r=arguments.length,l=Array(r),i=0;i<r;i++)l[i]=arguments[i];return t=n=u(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(l))),n.toArray=function(e){return[].concat(e)},u(n,t)}return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)}(o,e),n(o,[{key:"componentDidMount",value:function(){this.props.enabled&&(this.node=this.props.attachTo||l.default.findDOMNode(this),this.context.registerPane(this.node,this.toArray(this.props.group)))}},{key:"componentDidUpdate",value:function(e){this.props.enabled&&this.props.group!==e.group&&(this.context.unregisterPane(this.node,this.toArray(e.group)),this.context.registerPane(this.node,this.toArray(this.props.group)))}},{key:"componentWillUnmount",value:function(){this.props.enabled&&this.context.unregisterPane(this.node,this.toArray(this.props.group))}},{key:"render",value:function(){return this.props.children}}]),o}(r.Component);d.contextType=s.default,d.propTypes={children:i.default.node.isRequired,attachTo:i.default.object,group:i.default.oneOfType([i.default.string,i.default.arrayOf(i.default.string)]),enabled:i.default.bool},d.defaultProps={group:"default",enabled:!0},d.contextTypes={registerPane:i.default.func,unregisterPane:i.default.func},o.default=d,e.exports=o.default},function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t(8);Object.defineProperty(o,"ScrollSync",{enumerable:!0,get:function(){return l(n).default}});var r=t(9);function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"ScrollSyncPane",{enumerable:!0,get:function(){return l(r).default}})},function(e,o,t){"use strict";(function(o){if("production"!==o.env.NODE_ENV)var n=t(2),r=t(6),l=t(3),i={};e.exports=function(e,t,s,a,u){if("production"!==o.env.NODE_ENV)for(var d in e)if(e.hasOwnProperty(d)){var c;try{n("function"==typeof e[d],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",a||"React class",s,d),c=e[d](t,d,a,s,null,l)}catch(e){c=e}if(r(!c||c instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",a||"React class",s,d,typeof c),c instanceof Error&&!(c.message in i)){i[c.message]=!0;var m=u?u():"";r(!1,"Failed %s type: %s%s",s,c.message,null!=m?m:"")}}}}).call(o,t(0))},function(e,o,t){"use strict";var n=t(1),r=t(2),l=t(3);e.exports=function(){function e(e,o,t,n,i,s){s!==l&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function o(){return e}e.isRequired=e;var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:o,element:e,instanceOf:o,node:e,objectOf:o,oneOf:o,oneOfType:o,shape:o};return t.checkPropTypes=n,t.PropTypes=t,t}},function(e,o,t){"use strict";(function(o){var n=t(1),r=t(2),l=t(6),i=t(3),s=t(11);e.exports=function(e,t){var a="function"==typeof Symbol&&Symbol.iterator,u="<<anonymous>>",d={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:m(n.thatReturnsNull),arrayOf:function(e){return m((function(o,t,n,r,l){if("function"!=typeof e)return new c("Property `"+l+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var s=o[t];if(!Array.isArray(s))return new c("Invalid "+r+" `"+l+"` of type `"+p(s)+"` supplied to `"+n+"`, expected an array.");for(var a=0;a<s.length;a++){var u=e(s,a,n,r,l+"["+a+"]",i);if(u instanceof Error)return u}return null}))},element:m((function(o,t,n,r,l){var i=o[t];return e(i)?null:new c("Invalid "+r+" `"+l+"` of type `"+p(i)+"` supplied to `"+n+"`, expected a single ReactElement.")})),instanceOf:function(e){return m((function(o,t,n,r,l){if(!(o[t]instanceof e)){var i=e.name||u;return new c("Invalid "+r+" `"+l+"` of type `"+((s=o[t]).constructor&&s.constructor.name?s.constructor.name:u)+"` supplied to `"+n+"`, expected instance of `"+i+"`.")}var s;return null}))},node:m((function(e,o,t,n,r){return h(e[o])?null:new c("Invalid "+n+" `"+r+"` supplied to `"+t+"`, expected a ReactNode.")})),objectOf:function(e){return m((function(o,t,n,r,l){if("function"!=typeof e)return new c("Property `"+l+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var s=o[t],a=p(s);if("object"!==a)return new c("Invalid "+r+" `"+l+"` of type `"+a+"` supplied to `"+n+"`, expected an object.");for(var u in s)if(s.hasOwnProperty(u)){var d=e(s,u,n,r,l+"."+u,i);if(d instanceof Error)return d}return null}))},oneOf:function(e){return Array.isArray(e)?m((function(o,t,n,r,l){for(var i=o[t],s=0;s<e.length;s++)if(a=i,u=e[s],a===u?0!==a||1/a==1/u:a!=a&&u!=u)return null;var a,u;return new c("Invalid "+r+" `"+l+"` of value `"+i+"` supplied to `"+n+"`, expected one of "+JSON.stringify(e)+".")})):("production"!==o.env.NODE_ENV&&l(!1,"Invalid argument supplied to oneOf, expected an instance of array."),n.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==o.env.NODE_ENV&&l(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),n.thatReturnsNull;for(var t=0;t<e.length;t++){var r=e[t];if("function"!=typeof r)return l(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",b(r),t),n.thatReturnsNull}return m((function(o,t,n,r,l){for(var s=0;s<e.length;s++)if(null==(0,e[s])(o,t,n,r,l,i))return null;return new c("Invalid "+r+" `"+l+"` supplied to `"+n+"`.")}))},shape:function(e){return m((function(o,t,n,r,l){var s=o[t],a=p(s);if("object"!==a)return new c("Invalid "+r+" `"+l+"` of type `"+a+"` supplied to `"+n+"`, expected `object`.");for(var u in e){var d=e[u];if(d){var m=d(s,u,n,r,l+"."+u,i);if(m)return m}}return null}))}};function c(e){this.message=e,this.stack=""}function m(e){if("production"!==o.env.NODE_ENV)var n={},s=0;function a(a,d,m,f,h,p,g){if(f=f||u,p=p||m,g!==i)if(t)r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==o.env.NODE_ENV&&"undefined"!=typeof console){var b=f+":"+m;!n[b]&&s<3&&(l(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",p,f),n[b]=!0,s++)}return null==d[m]?a?null===d[m]?new c("The "+h+" `"+p+"` is marked as required in `"+f+"`, but its value is `null`."):new c("The "+h+" `"+p+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(d,m,f,h,p)}var d=a.bind(null,!1);return d.isRequired=a.bind(null,!0),d}function f(e){return m((function(o,t,n,r,l,i){var s=o[t];return p(s)!==e?new c("Invalid "+r+" `"+l+"` of type `"+g(s)+"` supplied to `"+n+"`, expected `"+e+"`."):null}))}function h(o){switch(typeof o){case"number":case"string":case"undefined":return!0;case"boolean":return!o;case"object":if(Array.isArray(o))return o.every(h);if(null===o||e(o))return!0;var t=function(e){var o=e&&(a&&e[a]||e["@@iterator"]);if("function"==typeof o)return o}(o);if(!t)return!1;var n,r=t.call(o);if(t!==o.entries){for(;!(n=r.next()).done;)if(!h(n.value))return!1}else for(;!(n=r.next()).done;){var l=n.value;if(l&&!h(l[1]))return!1}return!0;default:return!1}}function p(e){var o=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,o){return"symbol"===e||"Symbol"===o["@@toStringTag"]||"function"==typeof Symbol&&o instanceof Symbol}(o,e)?"symbol":o}function g(e){if(null==e)return""+e;var o=p(e);if("object"===o){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return o}function b(e){var o=g(e);switch(o){case"array":case"object":return"an "+o;case"boolean":case"date":case"regexp":return"a "+o;default:return o}}return c.prototype=Error.prototype,d.checkPropTypes=s,d.PropTypes=d,d}}).call(o,t(0))},function(e,t){e.exports=o}])},e.exports=n(t(93345),t(7628))},98870:(e,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!1}),o.default=function(e,o){if(e===o)return 0;var t=e.length,n=o.length;if(!t)return n;if(!n)return t;if(t>n){var r=[o,e];e=r[0],o=r[1];var l=[n,t];t=l[0],n=l[1]}for(;t>0&&e[t-1]===o[n-1];)t--,n--;var i=0;if(e[0]===o[0]||!t){for(;i<t&&e[i]===o[i];)i++;if(n-=i,!(t-=i))return n;o=o.slice(i,i+n)}for(var s=new Array(n),a=new Array(n),u=0;u<n;u++)s[u]=u+1;for(var d=e[0],c=0,m=0;m<t;m++){var f=d,h=0,p=o[0],g=m;c=m+1,d=e[i+m];for(var b=0;b<n;b++){var y=c,w=p,C=h;p=o[b],h=a[b],a[b]=c=g,g=s[b],d!==p&&(g<c&&(c=g),y<c&&(c=y),c++,0!==m&&0!==b&&d===w&&p===f&&++C<c&&(c=C)),s[b]=c}}return c},o.limited=function(e,o,t){if(o===t)return 0;var n=o.length,r=t.length;if(!n)return r>e?1/0:r;if(!r)return n>e?1/0:n;if(n>r){var l=[t,o];o=l[0],t=l[1];var i=[r,n];n=i[0],r=i[1]}for(;n>0&&o[n-1]===t[r-1];)n--,r--;var s=0;if(o[0]===t[0]||!n){for(;s<n&&o[s]===t[s];)s++;if(r-=s,!(n-=s))return r>e?1/0:r;t=t.slice(s,s+r)}var a=r-n;if(e>r)e=r;else if(a>e)return 1/0;var u=new Array(r),d=new Array(r),c=void 0;for(c=0;c<e;c++)u[c]=c+1;for(;c<r;c++)u[c]=e+1;var m=e-a,f=e<r,h=0,p=e,g=o[0],b=0;for(c=0;c<n;c++){var y=g,w=0,C=t[0],v=c;b=c+1,g=o[s+c],p+=p<r?1:0;for(var x=h+=c>m?1:0;x<p;x++){var R=b,S=C,I=w;C=t[x],w=d[x],d[x]=b=v,v=u[x],g!==C&&(v<b&&(b=v),R<b&&(b=R),b++,0!==c&&0!==x&&g===S&&C===y&&++I<b&&(b=I)),u[x]=b}if(f&&u[c+a]>e)return 1/0}return b<=e?b:1/0},e.exports=o.default,o.default.limited=o.limited}}]);