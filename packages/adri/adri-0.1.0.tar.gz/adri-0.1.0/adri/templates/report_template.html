<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agent Data Readiness Index: {{ report.source_name }}</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        
        .score-banner {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .overall-score {
            font-size: 3em;
            font-weight: bold;
        }
        
        .readiness-level {
            font-size: 1.5em;
            margin-top: 10px;
            font-weight: 500;
        }
        
        .chart-container {
            text-align: center;
            margin: 30px 0;
        }
        
        .chart-container img {
            max-width: 100%;
            height: auto;
        }
        
        .dimension-scores {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            margin-bottom: 30px;
        }
        
        .dimension-card {
            flex: 0 0 48%;
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .dimension-title {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
        }
        
        .dimension-score {
            font-weight: bold;
        }
        
        .findings-list, .recommendations-list {
            padding-left: 20px;
        }
        
        .metadata-section {
            margin-top: 30px;
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
        }
        
        .footer {
            margin-top: 30px;
            text-align: center;
            font-size: 0.9em;
            color: #666;
        }
        
        /* Score colors */
        .score-advanced {
            color: #28a745;
        }
        
        .score-proficient {
            color: #17a2b8;
        }
        
        .score-basic {
            color: #ffc107;
        }
        
        .score-limited {
            color: #fd7e14;
        }
        
        .score-inadequate {
            color: #dc3545;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Agent Data Readiness Index</h1>
        <h2>{{ report.source_name }}</h2>
    </div>
    
    <div class="score-banner">
        {% if report.overall_score >= 80 %}
            <div class="overall-score score-advanced">{{ "%.1f"|format(report.overall_score) }}/100</div>
        {% elif report.overall_score >= 60 %}
            <div class="overall-score score-proficient">{{ "%.1f"|format(report.overall_score) }}/100</div>
        {% elif report.overall_score >= 40 %}
            <div class="overall-score score-basic">{{ "%.1f"|format(report.overall_score) }}/100</div>
        {% elif report.overall_score >= 20 %}
            <div class="overall-score score-limited">{{ "%.1f"|format(report.overall_score) }}/100</div>
        {% else %}
            <div class="overall-score score-inadequate">{{ "%.1f"|format(report.overall_score) }}/100</div>
        {% endif %}
        
        <div class="readiness-level">{{ report.readiness_level }}</div>
    </div>
    
    <div class="chart-container">
        <img src="data:image/png;base64,{{ radar_chart_b64 }}" alt="Dimension Radar Chart">
    </div>
    
    <h2>Dimension Analysis</h2>
    
    <div class="dimension-scores">
        {% for dim_name, dim_results in report.dimension_results.items() %}
            <div class="dimension-card">
                <div class="dimension-title">
                    <span>{{ dim_name|title }}</span>
                    <span class="dimension-score">{{ "%.1f"|format(dim_results.score) }}/20</span>
                </div>
                
                <h4>Findings:</h4>
                <ul class="findings-list">
                    {% for finding in dim_results.findings %}
                        {% if not finding.startswith("Score components") %}
                            <li>{{ finding }}</li>
                        {% endif %}
                    {% endfor %}
                </ul>
                
                {% if dim_results.recommendations %}
                    <h4>Recommendations:</h4>
                    <ul class="recommendations-list">
                        {% for recommendation in dim_results.recommendations %}
                            <li>{{ recommendation }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </div>
        {% endfor %}
    </div>
    
    <div class="metadata-section">
        <h2>Data Source Information</h2>
        <table>
            <tr>
                <td><strong>Source Name:</strong></td>
                <td>{{ report.source_name }}</td>
            </tr>
            <tr>
                <td><strong>Source Type:</strong></td>
                <td>{{ report.source_type }}</td>
            </tr>
            <tr>
                <td><strong>Assessment Time:</strong></td>
                <td>{{ report.assessment_time.strftime('%Y-%m-%d %H:%M:%S') }}</td>
            </tr>
            {% for key, value in report.source_metadata.items() %}
                <tr>
                    <td><strong>{{ key|replace('_', ' ')|title }}:</strong></td>
                    <td>{{ value }}</td>
                </tr>
            {% endfor %}
        </table>
    </div>
    
    <div class="footer">
        <p>Generated by Agent Data Readiness Index (ADRI) on {{ timestamp }}</p>
        <p>Learn more at <a href="https://github.com/verodat/agent-data-readiness-index">github.com/verodat/agent-data-readiness-index</a></p>
    </div>
</body>
</html>
