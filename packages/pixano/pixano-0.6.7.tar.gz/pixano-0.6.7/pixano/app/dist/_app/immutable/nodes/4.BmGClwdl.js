var ts=Object.defineProperty;var ss=(l,e,t)=>e in l?ts(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var C=(l,e,t)=>ss(l,typeof e!="symbol"?e+"":e,t);import{n as O,W as rs,I as re,m as jt,s as Y,H as Rt,J as At,K as Bt,L as Ht,N as rt,k as be,O as ns,d as b,i as I,o as G,v as Ae,y as ue,E as Ot,q as ls,R as ye,a as de,f as x,t as ee,D as Pe,w as v,c as M,e as R,h as j,r as Fe,X as os,aa as nt,b as S,A as te,g as L,j as P,z as Be,P as oe,ab as Je,F as he,B as $e,C as ve,ac as He,G as as}from"../chunks/ByuL26re.js";import{n as is,l as cs,o as fs,p as us,S as Z,i as Q,t as T,a as E,g as W,c as X,d as z,b as N,m as V,e as K,f as Ee,j as ds,k as hs}from"../chunks/BJvdQk2J.js";import{y as ps,g as fe,a as Oe,e as se,A as Se,C as _s,E as Le,v as we,F as gs,p as ms}from"../chunks/DaD_6sQA.js";import{C as bs,W as ws}from"../chunks/BTQ6N-af.js";import{B as Lt,P as $s}from"../chunks/Ch7TKzfp.js";import{d as J,r as ke,w as ce}from"../chunks/BQX52OTj.js";import{a as Pt,q as vs}from"../chunks/DPkO8WLB.js";import{b as ks,s as ys,c as Es,a as Cs,d as Is,e as Ts,f as Ds,g as Ss,h as Fs,L as Ms}from"../chunks/BKV2YTqk.js";import{H as js}from"../chunks/DxJhPsS4.js";import{g as Rs}from"../chunks/BhvMENeK.js";import{p as As}from"../chunks/CKiQJyIb.js";function Bs(l,e,t,s){if(!e)return O;const r=l.getBoundingClientRect();if(e.left===r.left&&e.right===r.right&&e.top===r.top&&e.bottom===r.bottom)return O;const{delay:n=0,duration:o=300,easing:a=rs,start:i=is()+n,end:c=i+o,tick:d=O,css:p}=t(l,{from:e,to:r},s);let $=!0,m=!1,w;function f(){p&&(w=us(l,0,1,o,n,a,p)),n||(m=!0)}function u(){p&&fs(l,w),$=!1}return cs(h=>{if(!m&&h>=i&&(m=!0),m&&h>=c&&(d(1,0),u()),!$)return!1;if(m){const g=h-i,_=0+1*a(g/o);d(_,1-_)}return!0}),f(),d(0,1),u}function Hs(l){const e=getComputedStyle(l);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:s}=e,r=l.getBoundingClientRect();l.style.position="absolute",l.style.width=t,l.style.height=s,zt(l,r)}}function zt(l,e){const t=l.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const s=getComputedStyle(l),r=s.transform==="none"?"":s.transform;l.style.transform=`${r} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}async function Os(l,e=1,t=100,s){let r,n,o="";s&&s.model!==""&&s.search!==""&&(o=`&query=${s.search}&embedding_table=${s.model}`);try{const a=await fetch(`/browser/${l}/?skip=${(e-1)*t}&limit=${t}${o}`);a.ok?(n=await a.json(),r=new ps(n)):(r={},console.log("api.getBrowser -",a.status,a.statusText,await a.text()))}catch(a){r={},console.log("api.getBrowser -",a)}return r}function Ls({fallback:l,...e}){const t=new Map,s=new Map;function r(o,a,i){const{delay:c=0,duration:d=k=>Math.sqrt(k)*30,easing:p=Pt}=re(re({},e),i),$=o.getBoundingClientRect(),m=a.getBoundingClientRect(),w=$.left-m.left,f=$.top-m.top,u=$.width/m.width,h=$.height/m.height,g=Math.sqrt(w*w+f*f),_=getComputedStyle(a),F=_.transform==="none"?"":_.transform,y=+_.opacity;return{delay:c,duration:jt(d)?d(g):d,easing:p,css:(k,B)=>`
				opacity: ${k*y};
				transform-origin: top left;
				transform: ${F} translate(${B*w}px,${B*f}px) scale(${k+(1-k)*u}, ${k+(1-k)*h});
			`}}function n(o,a,i){return(c,d)=>(o.set(d.key,c),()=>{if(a.has(d.key)){const p=a.get(d.key);return a.delete(d.key),r(p,c,d)}return o.delete(d.key),l&&l(c,d,i)})}return[n(s,t,!1),n(t,s,!0)]}const Ps=!1,zs=!1,Kn=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ps,ssr:zs},Symbol.toStringTag,{value:"Module"})),Nt=l=>{const e=Object.entries(l),t=e.map(([s])=>s);return J(e.map(([,s])=>s),s=>Object.fromEntries(s.map((r,n)=>[t[n],r])))},Ns=l=>l&1,Vs=l=>({}),lt=l=>({...l[0]});function Gs(l){let e;const t=l[3].default,s=Rt(t,l,l[2],lt);return{c(){s&&s.c()},l(r){s&&s.l(r)},m(r,n){s&&s.m(r,n),e=!0},p(r,[n]){s&&s.p&&(!e||n&5)&&At(s,t,r,r[2],Ns(n)||!e?Bt(r[2]):Ht(t,r[2],n,Vs),lt)},i(r){e||(E(s,r),e=!0)},o(r){T(s,r),e=!1},d(r){s&&s.d(r)}}}function qs(l,e,t){const s=[];let r=rt(e,s),n,{$$slots:o={},$$scope:a}=e;const i=Nt(r);return be(l,i,c=>t(0,n=c)),l.$$set=c=>{e=re(re({},e),ns(c)),t(4,r=rt(e,s)),"$$scope"in c&&t(2,a=c.$$scope)},[n,i,a,o]}class Me extends Z{constructor(e){super(),Q(this,e,qs,Gs,Y,{})}}function ot(l,e,t){const s=l.slice();return s[5]=e[t],s}function Ks(l){let e,t,s;const r=[l[2]??{}];var n=l[1].component;function o(a,i){let c={$$slots:{default:[Js]},$$scope:{ctx:a}};for(let d=0;d<r.length;d+=1)c=re(c,r[d]);return i!==void 0&&i&4&&(c=re(c,fe(r,[Oe(a[2]??{})]))),{props:c}}return n&&(e=Ae(n,o(l)),l[4](e)),{c(){e&&N(e.$$.fragment),t=G()},l(a){e&&K(e.$$.fragment,a),t=G()},m(a,i){e&&V(e,a,i),I(a,t,i),s=!0},p(a,i){if(i&2&&n!==(n=a[1].component)){if(e){W();const c=e;T(c.$$.fragment,1,0,()=>{z(c,1)}),X()}n?(e=Ae(n,o(a,i)),a[4](e),N(e.$$.fragment),E(e.$$.fragment,1),V(e,t.parentNode,t)):e=null}else if(n){const c=i&4?fe(r,[Oe(a[2]??{})]):{};i&258&&(c.$$scope={dirty:i,ctx:a}),e.$set(c)}},i(a){s||(e&&E(e.$$.fragment,a),s=!0)},o(a){e&&T(e.$$.fragment,a),s=!1},d(a){a&&b(t),l[4](null),e&&z(e,a)}}}function Us(l){let e,t,s;const r=[l[2]??{}];var n=l[1].component;function o(a,i){let c={};for(let d=0;d<r.length;d+=1)c=re(c,r[d]);return i!==void 0&&i&4&&(c=re(c,fe(r,[Oe(a[2]??{})]))),{props:c}}return n&&(e=Ae(n,o(l)),l[3](e)),{c(){e&&N(e.$$.fragment),t=G()},l(a){e&&K(e.$$.fragment,a),t=G()},m(a,i){e&&V(e,a,i),I(a,t,i),s=!0},p(a,i){if(i&2&&n!==(n=a[1].component)){if(e){W();const c=e;T(c.$$.fragment,1,0,()=>{z(c,1)}),X()}n?(e=Ae(n,o(a,i)),a[3](e),N(e.$$.fragment),E(e.$$.fragment,1),V(e,t.parentNode,t)):e=null}else if(n){const c=i&4?fe(r,[Oe(a[2]??{})]):{};e.$set(c)}},i(a){s||(e&&E(e.$$.fragment,a),s=!0)},o(a){e&&T(e.$$.fragment,a),s=!1},d(a){a&&b(t),l[3](null),e&&z(e,a)}}}function at(l){let e,t;return e=new Xe({props:{of:l[5]}}),{c(){N(e.$$.fragment)},l(s){K(e.$$.fragment,s)},m(s,r){V(e,s,r),t=!0},p(s,r){const n={};r&2&&(n.of=s[5]),e.$set(n)},i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){T(e.$$.fragment,s),t=!1},d(s){z(e,s)}}}function Js(l){let e,t,s=se(l[1].children),r=[];for(let o=0;o<s.length;o+=1)r[o]=at(ot(l,s,o));const n=o=>T(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=G()},l(o){for(let a=0;a<r.length;a+=1)r[a].l(o);e=G()},m(o,a){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(o,a);I(o,e,a),t=!0},p(o,a){if(a&2){s=se(o[1].children);let i;for(i=0;i<s.length;i+=1){const c=ot(o,s,i);r[i]?(r[i].p(c,a),E(r[i],1)):(r[i]=at(c),r[i].c(),E(r[i],1),r[i].m(e.parentNode,e))}for(W(),i=s.length;i<r.length;i+=1)n(i);X()}},i(o){if(!t){for(let a=0;a<s.length;a+=1)E(r[a]);t=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)T(r[a]);t=!1},d(o){o&&b(e),Ot(r,o)}}}function Ws(l){let e,t,s,r;const n=[Us,Ks],o=[];function a(i,c){return i[1].children.length===0?0:1}return e=a(l),t=o[e]=n[e](l),{c(){t.c(),s=G()},l(i){t.l(i),s=G()},m(i,c){o[e].m(i,c),I(i,s,c),r=!0},p(i,[c]){let d=e;e=a(i),e===d?o[e].p(i,c):(W(),T(o[d],1,1,()=>{o[d]=null}),X(),t=o[e],t?t.p(i,c):(t=o[e]=n[e](i),t.c()),E(t,1),t.m(s.parentNode,s))},i(i){r||(E(t),r=!0)},o(i){T(t),r=!1},d(i){i&&b(s),o[e].d(i)}}}function Xs(l,e,t){let{instance:s=void 0}=e,{config:r}=e,{props:n=void 0}=e;function o(i){ue[i?"unshift":"push"](()=>{s=i,t(0,s)})}function a(i){ue[i?"unshift":"push"](()=>{s=i,t(0,s)})}return l.$$set=i=>{"instance"in i&&t(0,s=i.instance),"config"in i&&t(1,r=i.config),"props"in i&&t(2,n=i.props)},[s,r,n,o,a]}class Vt extends Z{constructor(e){super(),Q(this,e,Xs,Ws,Y,{instance:0,config:1,props:2})}}const We=l=>(l==null?void 0:l.subscribe)instanceof Function,Ys=ke(void 0);function Zs(l){let e,t,s;function r(o){l[3](o)}let n={config:l[0],props:l[0].props};return l[1]!==void 0&&(n.instance=l[1]),e=new Vt({props:n}),ue.push(()=>Ee(e,"instance",r)),{c(){N(e.$$.fragment)},l(o){K(e.$$.fragment,o)},m(o,a){V(e,o,a),s=!0},p(o,a){const i={};a&1&&(i.config=o[0]),a&1&&(i.props=o[0].props),!t&&a&2&&(t=!0,i.instance=o[1],ye(()=>t=!1)),e.$set(i)},i(o){s||(E(e.$$.fragment,o),s=!0)},o(o){T(e.$$.fragment,o),s=!1},d(o){z(e,o)}}}function Qs(l){let e,t;return e=new Me({props:{props:l[0].props,$$slots:{default:[xs,({props:s})=>({4:s}),({props:s})=>s?16:0]},$$scope:{ctx:l}}}),{c(){N(e.$$.fragment)},l(s){K(e.$$.fragment,s)},m(s,r){V(e,s,r),t=!0},p(s,r){const n={};r&1&&(n.props=s[0].props),r&51&&(n.$$scope={dirty:r,ctx:s}),e.$set(n)},i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){T(e.$$.fragment,s),t=!1},d(s){z(e,s)}}}function xs(l){let e,t,s;function r(o){l[2](o)}let n={config:l[0],props:l[4]};return l[1]!==void 0&&(n.instance=l[1]),e=new Vt({props:n}),ue.push(()=>Ee(e,"instance",r)),{c(){N(e.$$.fragment)},l(o){K(e.$$.fragment,o)},m(o,a){V(e,o,a),s=!0},p(o,a){const i={};a&1&&(i.config=o[0]),a&16&&(i.props=o[4]),!t&&a&2&&(t=!0,i.instance=o[1],ye(()=>t=!1)),e.$set(i)},i(o){s||(E(e.$$.fragment,o),s=!0)},o(o){T(e.$$.fragment,o),s=!1},d(o){z(e,o)}}}function er(l){let e,t,s,r,n;const o=[Qs,Zs],a=[];function i(c,d){return d&1&&(e=null),e==null&&(e=!!We(c[0].props)),e?0:1}return t=i(l,-1),s=a[t]=o[t](l),{c(){s.c(),r=G()},l(c){s.l(c),r=G()},m(c,d){a[t].m(c,d),I(c,r,d),n=!0},p(c,[d]){let p=t;t=i(c,d),t===p?a[t].p(c,d):(W(),T(a[p],1,1,()=>{a[p]=null}),X(),s=a[t],s?s.p(c,d):(s=a[t]=o[t](c),s.c()),E(s,1),s.m(r.parentNode,r))},i(c){n||(E(s),n=!0)},o(c){T(s),n=!1},d(c){c&&b(r),a[t].d(c)}}}function tr(l,e,t){let{config:s}=e,r;ls(function(){return s.eventHandlers.forEach(([i,c])=>{const d=r.$$.callbacks[i]??[];d.push(c),t(1,r.$$.callbacks[i]=d,r)}),function(){s.eventHandlers.forEach(([c,d])=>{const p=r.$$.callbacks[c],$=p.findIndex(m=>m===d);p.splice($,1)})}});function n(a){r=a,t(1,r)}function o(a){r=a,t(1,r)}return l.$$set=a=>{"config"in a&&t(0,s=a.config)},[s,r,n,o]}class sr extends Z{constructor(e){super(),Q(this,e,tr,er,Y,{config:0})}}function rr(l){let e,t;return e=new sr({props:{config:l[0]}}),{c(){N(e.$$.fragment)},l(s){K(e.$$.fragment,s)},m(s,r){V(e,s,r),t=!0},p(s,r){const n={};r&1&&(n.config=s[0]),e.$set(n)},i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){T(e.$$.fragment,s),t=!1},d(s){z(e,s)}}}function nr(l){let e;return{c(){e=ee(l[0])},l(t){e=x(t,l[0])},m(t,s){I(t,e,s)},p(t,s){s&1&&de(e,t[0])},i:O,o:O,d(t){t&&b(e)}}}function lr(l){let e;return{c(){e=ee(l[1])},l(t){e=x(t,l[1])},m(t,s){I(t,e,s)},p(t,s){s&2&&de(e,t[1])},i:O,o:O,d(t){t&&b(e)}}}function or(l){let e,t,s,r,n;const o=[lr,nr,rr],a=[];function i(c,d){return d&1&&(e=null),e==null&&(e=!!We(c[0])),e?0:typeof c[0]!="object"?1:2}return t=i(l,-1),s=a[t]=o[t](l),{c(){s.c(),r=G()},l(c){s.l(c),r=G()},m(c,d){a[t].m(c,d),I(c,r,d),n=!0},p(c,[d]){let p=t;t=i(c,d),t===p?a[t].p(c,d):(W(),T(a[p],1,1,()=>{a[p]=null}),X(),s=a[t],s?s.p(c,d):(s=a[t]=o[t](c),s.c()),E(s,1),s.m(r.parentNode,r))},i(c){n||(E(s),n=!0)},o(c){T(s),n=!1},d(c){c&&b(r),a[t].d(c)}}}function ar(l,e,t){let s,{of:r}=e;const n=We(r)?r:Ys;return be(l,n,o=>t(1,s=o)),l.$$set=o=>{"of"in o&&t(0,r=o.of)},[r,s,n]}class Xe extends Z{constructor(e){super(),Q(this,e,ar,or,Y,{of:0})}}class ir{constructor(e,t){C(this,"component");C(this,"props");C(this,"eventHandlers",[]);C(this,"children",[]);this.component=e,this.props=t}on(e,t){return this.eventHandlers.push([e,t]),this}slot(...e){return this.children=e,this}}function cr(l,e){return new ir(l,e)}class Gt{constructor({header:e,footer:t,height:s,plugins:r}){C(this,"header");C(this,"footer");C(this,"height");C(this,"plugins");this.header=e,this.footer=t,this.height=s,this.plugins=r}isFlat(){return"__flat"in this}isData(){return"__data"in this}isDisplay(){return"__display"in this}isGroup(){return"__group"in this}}class qt extends Gt{constructor({header:t,footer:s,plugins:r,id:n}){super({header:t,footer:s,plugins:r,height:1});C(this,"__flat",!0);C(this,"id");this.id=n??String(t)}}class fr extends qt{constructor({header:t,footer:s,plugins:r,cell:n,accessor:o,id:a}){super({header:t,footer:s,plugins:r,id:"Initialization not complete"});C(this,"__data",!0);C(this,"cell");C(this,"accessorKey");C(this,"accessorFn");if(this.cell=n,o instanceof Function?this.accessorFn=o:this.accessorKey=o,a===void 0&&this.accessorKey===void 0&&t===void 0)throw new Error("A column id, string accessor, or header is required");const i=typeof this.accessorKey=="string"?this.accessorKey:null;this.id=a??i??String(t)}getValue(t){if(this.accessorFn!==void 0)return this.accessorFn(t);if(this.accessorKey!==void 0)return t[this.accessorKey]}}class ur extends qt{constructor({header:t,footer:s,plugins:r,id:n,cell:o,data:a}){super({header:t,footer:s,plugins:r,id:n});C(this,"__display",!0);C(this,"cell");C(this,"data");this.cell=o,this.data=a}}class dr extends Gt{constructor({header:t,footer:s,columns:r,plugins:n}){const o=Math.max(...r.map(a=>a.height))+1;super({header:t,footer:s,height:o,plugins:n});C(this,"__group",!0);C(this,"columns");C(this,"ids");this.columns=r,this.ids=Kt(r)}}const Kt=l=>l.flatMap(e=>e.isFlat()?[e.id]:e.isGroup()?e.ids:[]),Ut=l=>l.flatMap(e=>e.isFlat()?[e]:e.isGroup()?Ut(e.columns):[]),hr=l=>{const e=new Map;return l.forEach(t=>{e.set(t,(e.get(t)??0)+1)}),e},pr=l=>Array.from(hr(l).entries()).filter(([,e])=>e!==1).map(([e])=>e),_r=l=>Object.entries(l).map(([e,t])=>`${e}:${t}`).join(";"),gr=(l,e)=>l.style===void 0&&e.style===void 0?{...l,...e}:{...l,...e,style:{...typeof l.style=="object"?l.style:{},...typeof e.style=="object"?e.style:{}}},Re=l=>l.style===void 0||typeof l.style!="object"?l:{...l,style:_r(l.style)};class ze{constructor({id:e}){C(this,"id");C(this,"attrsForName",{});C(this,"propsForName",{});C(this,"state");this.id=e}attrs(){return J(Object.values(this.attrsForName),e=>{let t={};return e.forEach(s=>{t=gr(t,s)}),Re(t)})}props(){return Nt(this.propsForName)}injectState(e){this.state=e}applyHook(e,t){t.props!==void 0&&(this.propsForName[e]=t.props),t.attrs!==void 0&&(this.attrsForName[e]=t.attrs)}}class Jt extends ze{constructor({id:t,row:s}){super({id:t});C(this,"row");this.row=s}attrs(){return J(super.attrs(),t=>({...t,role:"cell"}))}rowColId(){return`${this.row.id}:${this.column.id}`}dataRowColId(){if(this.row.isData())return`${this.row.dataId}:${this.column.id}`}isData(){return"__data"in this}isDisplay(){return"__display"in this}}class Ye extends Jt{constructor({row:t,column:s,label:r,value:n}){super({id:s.id,row:t});C(this,"__data",!0);C(this,"column");C(this,"label");C(this,"value");this.column=s,this.label=r,this.value=n}render(){if(this.label===void 0)return`${this.value}`;if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}clone(){return new Ye({row:this.row,column:this.column,label:this.label,value:this.value})}}class Ze extends Jt{constructor({row:t,column:s,label:r}){super({id:s.id,row:t});C(this,"__display",!0);C(this,"column");C(this,"label");this.column=s,this.label=r}render(){if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}clone(){return new Ze({row:this.row,column:this.column,label:this.label})}}const me=l=>l!==void 0;class mr extends ze{constructor({id:t,cells:s,cellForId:r,depth:n=0,parentRow:o}){super({id:t});C(this,"cells");C(this,"cellForId");C(this,"depth");C(this,"parentRow");C(this,"subRows");this.cells=s,this.cellForId=r,this.depth=n,this.parentRow=o}attrs(){return J(super.attrs(),t=>({...t,role:"row"}))}isData(){return"__data"in this}isDisplay(){return"__display"in this}}class Qe extends mr{constructor({id:t,dataId:s,original:r,cells:n,cellForId:o,depth:a=0,parentRow:i}){super({id:t,cells:n,cellForId:o,depth:a,parentRow:i});C(this,"__data",!0);C(this,"dataId");C(this,"original");this.dataId=s,this.original=r}clone({includeCells:t=!1,includeSubRows:s=!1}={}){var n;const r=new Qe({id:this.id,dataId:this.dataId,cellForId:this.cellForId,cells:this.cells,original:this.original,depth:this.depth});if(t){const o=Object.fromEntries(Object.entries(r.cellForId).map(([i,c])=>{const d=c.clone();return d.row=r,[i,d]})),a=r.cells.map(({id:i})=>o[i]);r.cellForId=o,r.cells=a}if(s){const o=(n=this.subRows)==null?void 0:n.map(a=>a.clone({includeCells:t,includeSubRows:s}));r.subRows=o}else r.subRows=this.subRows;return r}}const br=(l,e,{rowDataId:t}={})=>{const s=l.map((r,n)=>{const o=n.toString();return new Qe({id:o,dataId:t!==void 0?t(r,n):o,original:r,cells:[],cellForId:{}})});return l.forEach((r,n)=>{const o=e.map(a=>{if(a.isData()){const i=a,c=i.getValue(r);return new Ye({row:s[n],column:i,label:a.cell,value:c})}if(a.isDisplay()){const i=a;return new Ze({row:s[n],column:i,label:a.cell})}throw new Error("Unrecognized `FlatColumn` implementation")});s[n].cells=o,e.forEach((a,i)=>{s[n].cellForId[a.id]=o[i]})}),s},wr=(l,e)=>{const t=l.map(s=>{const r=s.clone();return r.cells=[],r.cellForId={},r});return l.length===0||e.length===0?l:(l.forEach((s,r)=>{const n=s.cells.map(a=>{const i=a.clone();return i.row=t[r],i}),o=e.map(a=>n.find(i=>i.id===a)).filter(me);t[r].cells=o,n.forEach(a=>{t[r].cellForId[a.id]=a})}),t)},Wt=" ";class Xt extends ze{constructor({id:t,label:s,colspan:r,colstart:n}){super({id:t});C(this,"label");C(this,"colspan");C(this,"colstart");this.label=s,this.colspan=r,this.colstart=n}render(){if(this.label instanceof Function){if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}return this.label}attrs(){return J(super.attrs(),t=>({...t,role:"columnheader",colspan:this.colspan}))}isFlat(){return"__flat"in this}isData(){return"__data"in this}isFlatDisplay(){return"__flat"in this&&"__display"in this}isGroup(){return"__group"in this}isGroupDisplay(){return"__group"in this&&"__display"in this}}class Ne extends Xt{constructor({id:t,label:s,colstart:r}){super({id:t,label:s,colspan:1,colstart:r});C(this,"__flat",!0)}clone(){return new Ne({id:this.id,label:this.label,colstart:this.colstart})}}class xe extends Ne{constructor({id:t,label:s,accessorKey:r,accessorFn:n,colstart:o}){super({id:t,label:s,colstart:o});C(this,"__data",!0);C(this,"accessorKey");C(this,"accessorFn");this.accessorKey=r,this.accessorFn=n}clone(){return new xe({id:this.id,label:this.label,accessorFn:this.accessorFn,accessorKey:this.accessorKey,colstart:this.colstart})}}class Ve extends Ne{constructor({id:t,label:s=Wt,colstart:r}){super({id:t,label:s,colstart:r});C(this,"__display",!0)}clone(){return new Ve({id:this.id,label:this.label,colstart:this.colstart})}}class Ge extends Xt{constructor({label:t,ids:s,allIds:r,colspan:n,colstart:o}){super({id:`[${s.join(",")}]`,label:t,colspan:n,colstart:o});C(this,"__group",!0);C(this,"ids");C(this,"allId");C(this,"allIds");this.ids=s,this.allId=`[${r.join(",")}]`,this.allIds=r}setIds(t){this.ids=t,this.id=`[${this.ids.join(",")}]`}pushId(t){this.ids=[...this.ids,t],this.id=`[${this.ids.join(",")}]`}clone(){return new Ge({label:this.label,ids:this.ids,allIds:this.allIds,colspan:this.colspan,colstart:this.colstart})}}class et extends Ge{constructor({label:t=Wt,ids:s,allIds:r,colspan:n=1,colstart:o}){super({label:t,ids:s,allIds:r,colspan:n,colstart:o});C(this,"__display",!0)}clone(){return new et({label:this.label,ids:this.ids,allIds:this.allIds,colspan:this.colspan,colstart:this.colstart})}}const $r=l=>l.reduce((e,t)=>e+t,0),Yt=(l,e)=>{const t=[];for(let s=0;s<e;s++)t.push(Array(l).fill(null));return t},it=l=>{const e=l.length;if(e===0)return l;const t=l[0].length,s=Yt(e,t);for(let r=0;r<t;r++)for(let n=0;n<e;n++)s[r][n]=l[n][r];return s};class tt extends ze{constructor({id:t,cells:s}){super({id:t});C(this,"cells");this.cells=s}attrs(){return J(super.attrs(),t=>({...t,role:"row"}))}clone(){return new tt({id:this.id,cells:this.cells})}}const vr=(l,e=[])=>{const t=kr(l);let s=it(t);return s=yr(s,e),Er(s),Cr(it(s))},kr=l=>{const e=$r(l.map(n=>n.isGroup()?n.ids.length:1)),t=Math.max(...l.map(n=>n.height)),s=Yt(e,t);let r=0;return l.forEach(n=>{const o=t-n.height;Zt(s,n,o,r),r+=n.isGroup()?n.ids.length:1}),s.map((n,o)=>n.map((a,i)=>{var d;if(a!==null)return a;if(o===t-1)return new Ve({id:i.toString(),colstart:i});const c=((d=s[t-1][i])==null?void 0:d.id)??i.toString();return new et({ids:[],allIds:[c],colstart:i})}))},Zt=(l,e,t,s)=>{if(e.isData()){l[l.length-1][s]=new xe({label:e.header,accessorFn:e.accessorFn,accessorKey:e.accessorKey,id:e.id,colstart:s});return}if(e.isDisplay()){l[l.length-1][s]=new Ve({id:e.id,label:e.header,colstart:s});return}if(e.isGroup()){for(let n=0;n<e.ids.length;n++)l[t][s+n]=new Ge({label:e.header,colspan:1,allIds:e.ids,ids:[],colstart:s});let r=0;e.columns.forEach(n=>{Zt(l,n,t+1,s+r),r+=n.isGroup()?n.ids.length:1});return}},yr=(l,e)=>{if(e.length===0)return l;const t=[];return e.forEach((s,r)=>{const n=l.find(o=>{const a=o[o.length-1];if(!a.isFlat())throw new Error("The last element of each column must be a `FlatHeaderCell`");return a.id===s});n!==void 0&&t.push(n.map(o=>{const a=o.clone();return a.colstart=r,a}))}),t},Er=l=>{l.forEach(e=>{const t=e[e.length-1];if(!t.isFlat())throw new Error("The last element of each column must be a `FlatHeaderCell`");e.forEach(s=>{s.isGroup()&&s.pushId(t.id)})})},Cr=l=>l.map((e,t)=>new tt({id:t.toString(),cells:Ir(e)})),Ir=l=>{if(l.length===0)return l;const e=[];let t=0,s=1;for(;t<l.length;){const r=l[t].clone();if(!r.isGroup()){e.push(r),t++;continue}s=t+1;const n=[...r.ids];for(;s<l.length;){const o=l[s];if(!o.isGroup()||r.allId!==o.allId)break;n.push(...o.ids),s++}r.setIds(n),r.colspan=s-t,e.push(r),t=s}return e},Tr=(l,e,{rowDataId:t}={})=>{const{data:s,plugins:r}=l,n=Ut(e),o=ke(n),a=J([s,o],([D,H])=>br(D,H,{rowDataId:t})),i=ce([]),c=ce(),d=ce([]),p=ce([]),$=ce({role:"table"}),m=ce({}),w=ce({role:"rowgroup"}),f={data:s,columns:e,flatColumns:n,tableAttrs:$,tableHeadAttrs:m,tableBodyAttrs:w,visibleColumns:i,headerRows:c,originalRows:a,rows:d,pageRows:p},u=Object.fromEntries(Object.entries(r).map(([D,H])=>{const q=Object.fromEntries(n.map(U=>{var ae;const le=(ae=U.plugins)==null?void 0:ae[D];if(le!==void 0)return[U.id,le]}).filter(me));return[D,H({pluginName:D,tableState:f,columnOptions:q})]})),h=Object.fromEntries(Object.entries(u).map(([D,H])=>[D,H.pluginState])),g={data:s,columns:e,flatColumns:n,tableAttrs:$,tableHeadAttrs:m,tableBodyAttrs:w,visibleColumns:i,headerRows:c,originalRows:a,rows:d,pageRows:p,pluginStates:h},_=Object.values(u).map(D=>D.deriveTableAttrs).filter(me);let F=ke({role:"table"});_.forEach(D=>{F=D(F)});const y=J(F,D=>{const H=Re(D);return $.set(H),H}),k=Object.values(u).map(D=>D.deriveTableBodyAttrs).filter(me);let B=ke({});k.forEach(D=>{B=D(B)});const pe=J(B,D=>{const H=Re(D);return m.set(H),H}),ie=Object.values(u).map(D=>D.deriveTableBodyAttrs).filter(me);let ne=ke({role:"rowgroup"});ie.forEach(D=>{ne=D(ne)});const je=J(ne,D=>{const H=Re(D);return w.set(H),H}),Ce=Object.values(u).map(D=>D.deriveFlatColumns).filter(me);let Ie=o;Ce.forEach(D=>{Ie=D(Ie)});const Te=J(Ie,D=>(i.set(D),D)),qe=J([a,Te],([D,H])=>wr(D,H.map(q=>q.id))),Ke=Object.values(u).map(D=>D.deriveRows).filter(me);let A=qe;Ke.forEach(D=>{A=D(A)});const De=J(A,D=>(D.forEach(H=>{H.injectState(g),H.cells.forEach(q=>{q.injectState(g)})}),Object.entries(u).forEach(([H,q])=>{D.forEach(U=>{var le;((le=q.hooks)==null?void 0:le["tbody.tr"])!==void 0&&U.applyHook(H,q.hooks["tbody.tr"](U)),U.cells.forEach(ae=>{var _e;((_e=q.hooks)==null?void 0:_e["tbody.tr.td"])!==void 0&&ae.applyHook(H,q.hooks["tbody.tr.td"](ae))})})}),d.set(D),D)),Qt=Object.values(u).map(D=>D.derivePageRows).filter(me);let Ue=De;Qt.forEach(D=>{Ue=D(Ue)});const xt=J(Ue,D=>(D.forEach(H=>{H.injectState(g),H.cells.forEach(q=>{q.injectState(g)})}),Object.entries(u).forEach(([H,q])=>{D.forEach(U=>{var le;((le=q.hooks)==null?void 0:le["tbody.tr"])!==void 0&&U.applyHook(H,q.hooks["tbody.tr"](U)),U.cells.forEach(ae=>{var _e;((_e=q.hooks)==null?void 0:_e["tbody.tr.td"])!==void 0&&ae.applyHook(H,q.hooks["tbody.tr.td"](ae))})})}),p.set(D),D)),es=J(Te,D=>{const H=vr(e,D.map(q=>q.id));return H.forEach(q=>{q.injectState(g),q.cells.forEach(U=>{U.injectState(g)})}),Object.entries(u).forEach(([q,U])=>{H.forEach(le=>{var ae;((ae=U.hooks)==null?void 0:ae["thead.tr"])!==void 0&&le.applyHook(q,U.hooks["thead.tr"](le)),le.cells.forEach(_e=>{var st;((st=U.hooks)==null?void 0:st["thead.tr.th"])!==void 0&&_e.applyHook(q,U.hooks["thead.tr.th"](_e))})})}),c.set(H),H});return{tableAttrs:y,tableHeadAttrs:pe,tableBodyAttrs:je,visibleColumns:Te,flatColumns:n,headerRows:es,originalRows:a,rows:De,pageRows:xt,pluginStates:h}};let Dr=class{constructor(e,t){C(this,"data");C(this,"plugins");this.data=e,this.plugins=t}createColumns(e){const t=Kt(e),s=pr(t);if(s.length!==0)throw new Error(`Duplicate column ids not allowed: "${s.join('", "')}"`);return e}column(e){return new fr(e)}group(e){return new dr(e)}display(e){return new ur(e)}createViewModel(e,t){return Tr(this,e,t)}};const Sr=(l,e={})=>new Dr(l,e),Fr=({initialColumnIdOrder:l=[],hideUnspecifiedColumns:e=!1}={})=>()=>{const t=ce(l);return{pluginState:{columnIdOrder:t},deriveFlatColumns:n=>J([n,t],([o,a])=>{const i=[...o],c=[];return a.forEach(d=>{const p=i.findIndex($=>$.id===d);c.push(...i.splice(p,1))}),e||c.push(...i),c})}};ke(void 0);const Mr=({initialHiddenColumnIds:l=[]}={})=>()=>{const e=ce(l);return{pluginState:{hiddenColumnIds:e},deriveFlatColumns:r=>J([r,e],([n,o])=>o.length===0?n:n.filter(a=>!o.includes(a.id)))}};function jr(l,{from:e,to:t},s={}){const r=getComputedStyle(l),n=r.transform==="none"?"":r.transform,[o,a]=r.transformOrigin.split(" ").map(parseFloat),i=e.left+e.width*o/t.width-(t.left+o),c=e.top+e.height*a/t.height-(t.top+a),{delay:d=0,duration:p=m=>Math.sqrt(m)*120,easing:$=Pt}=s;return{delay:d,duration:jt(p)?p(Math.sqrt(i*i+c*c)):p,easing:$,css:(m,w)=>{const f=w*i,u=w*c,h=m+w*e.width/t.width,g=m+w*e.height/t.height;return`transform: ${n} translate(${f}px, ${u}px) scale(${h}, ${g});`}}}function ct(l,e,t){const s=l.slice();return s[15]=e[t],s[17]=t,s}const Rr=l=>({item:l&1,index:l&1}),ft=l=>({item:l[15],index:l[17]});function ut(l){let e,t=[],s=new Map,r,n=se(l[0]);const o=a=>a[8](a[15]);for(let a=0;a<n.length;a+=1){let i=ct(l,n,a),c=o(i);s.set(c,t[a]=dt(c,i))}return{c(){e=j("ul");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=M(a,"UL",{class:!0});var i=R(e);for(let c=0;c<t.length;c+=1)t[c].l(i);i.forEach(b),this.h()},h(){v(e,"class","svelte-s1iyrp")},m(a,i){I(a,e,i);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);r=!0},p(a,i){if(i&1523){n=se(a[0]),W();for(let c=0;c<t.length;c+=1)t[c].r();t=Se(t,i,o,1,a,n,s,e,_s,dt,null,ct);for(let c=0;c<t.length;c+=1)t[c].a();X()}},i(a){if(!r){for(let i=0;i<n.length;i+=1)E(t[i]);r=!0}},o(a){for(let i=0;i<t.length;i+=1)T(t[i]);r=!1},d(a){a&&b(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function Ar(l){let e,t=l[8](l[15])+"",s;return{c(){e=j("p"),s=ee(t)},l(r){e=M(r,"P",{});var n=R(e);s=x(n,t),n.forEach(b)},m(r,n){I(r,e,n),S(e,s)},p(r,n){n&1&&t!==(t=r[8](r[15])+"")&&de(s,t)},d(r){r&&b(e)}}}function dt(l,e){let t,s,r,n,o,a,i,c=O,d,p,$;const m=e[11].default,w=Rt(m,e,e[10],ft),f=w||Ar(e);return{key:l,first:null,c(){t=j("li"),f&&f.c(),s=P(),this.h()},l(u){t=M(u,"LI",{"data-index":!0,"data-id":!0,draggable:!0,class:!0});var h=R(t);f&&f.l(h),s=L(h),h.forEach(b),this.h()},h(){v(t,"data-index",r=e[17]),v(t,"data-id",n=JSON.stringify(e[8](e[15]))),v(t,"draggable","true"),v(t,"class","svelte-s1iyrp"),nt(t,"over",e[8](e[15])===e[1]),this.first=t},m(u,h){I(u,t,h),f&&f.m(t,null),S(t,s),d=!0,p||($=[te(t,"dragstart",e[4]),te(t,"dragover",e[5]),te(t,"dragleave",e[6]),te(t,"drop",e[7])],p=!0)},p(u,h){e=u,w?w.p&&(!d||h&1025)&&At(w,m,e,e[10],d?Ht(m,e[10],h,Rr):Bt(e[10]),ft):f&&f.p&&(!d||h&1)&&f.p(e,d?h:-1),(!d||h&1&&r!==(r=e[17]))&&v(t,"data-index",r),(!d||h&1&&n!==(n=JSON.stringify(e[8](e[15]))))&&v(t,"data-id",n),(!d||h&259)&&nt(t,"over",e[8](e[15])===e[1])},r(){i=t.getBoundingClientRect()},f(){Hs(t),c(),zt(t,i)},a(){c(),c=Bs(t,i,jr,{duration:300})},i(u){d||(E(f,u),u&&os(()=>{d&&(a&&a.end(1),o=hs(t,e[3],{key:e[8](e[15])}),o.start())}),d=!0)},o(u){T(f,u),o&&o.invalidate(),u&&(a=ds(t,e[2],{key:e[8](e[15])})),d=!1},d(u){u&&b(t),f&&f.d(u),u&&a&&a.end(),p=!1,Fe($)}}}function Br(l){let e,t,s=l[0]&&l[0].length&&ut(l);return{c(){s&&s.c(),e=G()},l(r){s&&s.l(r),e=G()},m(r,n){s&&s.m(r,n),I(r,e,n),t=!0},p(r,[n]){r[0]&&r[0].length?s?(s.p(r,n),n&1&&E(s,1)):(s=ut(r),s.c(),E(s,1),s.m(e.parentNode,e)):s&&(W(),T(s,1,1,()=>{s=null}),X())},i(r){t||(E(s),t=!0)},o(r){T(s),t=!1},d(r){r&&b(e),s&&s.d(r)}}}function Hr(l,e,t){let{$$slots:s={},$$scope:r}=e;const[n,o]=Ls({duration:g=>Math.sqrt(g*200),fallback(g,_){const F=getComputedStyle(g),y=F.transform==="none"?"":F.transform;return{duration:600,easing:vs,css:k=>`
					transform: ${y} scale(${k});
					opacity: ${k}
				`}}});let a=!1;const i=g=>g.dataset.index&&g.dataset||i(g.parentNode),c=g=>{g.dataTransfer.setData("source",g.target.dataset.index)},d=g=>{g.preventDefault();let _=i(g.target);a!==_.id&&t(1,a=JSON.parse(_.id))},p=g=>{let _=i(g.target);a===_.id&&t(1,a=!1)},$=g=>{t(1,a=!1),g.preventDefault();let _=i(g.target),F=g.dataTransfer.getData("source"),y=_.index;w({from:F,to:y})},m=Pe(),w=({from:g,to:_})=>{let F=[...u];F[g]=[F[_],F[_]=F[g]][0],m("sort",F)},f=g=>h?g[h]:g;let{list:u}=e,{key:h}=e;return l.$$set=g=>{"list"in g&&t(0,u=g.list),"key"in g&&t(9,h=g.key),"$$scope"in g&&t(10,r=g.$$scope)},[u,a,n,o,c,d,p,$,f,h,r,s]}class Or extends Z{constructor(e){super(),Q(this,e,Hr,Br,Y,{list:0,key:9})}}function Lr(l){let e,t,s;return{c(){e=j("input"),this.h()},l(r){e=M(r,"INPUT",{type:!0,class:!0}),this.h()},h(){v(e,"type","checkbox"),e.disabled=!0,v(e,"class","px-4 pointer-events: none;")},m(r,n){I(r,e,n),e.checked=l[0],t||(s=te(e,"change",l[1]),t=!0)},p(r,[n]){n&1&&(e.checked=r[0])},i:O,o:O,d(r){r&&b(e),t=!1,s()}}}function Pr(l,e,t){let{value:s}=e;function r(){s=this.checked,t(0,s)}return l.$$set=n=>{"value"in n&&t(0,s=n.value)},[s,r]}class zr extends Z{constructor(e){super(),Q(this,e,Pr,Lr,Y,{value:0})}}function Nr(l){let e,t=l[0].toLocaleString("fr-FR")+"",s;return{c(){e=j("div"),s=ee(t),this.h()},l(r){e=M(r,"DIV",{class:!0});var n=R(e);s=x(n,t),n.forEach(b),this.h()},h(){v(e,"class","min-w-24 px-2")},m(r,n){I(r,e,n),S(e,s)},p:O,i:O,o:O,d(r){r&&b(e)}}}function Vr(l,e,t){let{value:s}=e;const r=new Date(s);return l.$$set=n=>{"value"in n&&t(1,s=n.value)},[r,s]}class Gr extends Z{constructor(e){super(),Q(this,e,Vr,Nr,Y,{value:1})}}function qr(l){let e,t,s;return t=new js({props:{hist:l[0],minimal:!0}}),{c(){e=j("div"),N(t.$$.fragment),this.h()},l(r){e=M(r,"DIV",{class:!0});var n=R(e);K(t.$$.fragment,n),n.forEach(b),this.h()},h(){v(e,"class","mx-8 h-24")},m(r,n){I(r,e,n),V(t,e,null),s=!0},p(r,[n]){const o={};n&1&&(o.hist=r[0]),t.$set(o)},i(r){s||(E(t.$$.fragment,r),s=!0)},o(r){T(t.$$.fragment,r),s=!1},d(r){r&&b(e),z(t)}}}function Kr(l,e,t){let{value:s}=e;return l.$$set=r=>{"value"in r&&t(0,s=r.value)},[s]}class Ur extends Z{constructor(e){super(),Q(this,e,Kr,qr,Y,{value:0})}}function Jr(l){let e,t,s;return{c(){e=j("div"),t=j("img"),this.h()},l(r){e=M(r,"DIV",{class:!0});var n=R(e);t=M(n,"IMG",{class:!0,src:!0,alt:!0}),n.forEach(b),this.h()},h(){v(t,"class","h-full w-full object-cover rounded"),Be(t.src,s=l[0])||v(t,"src",s),v(t,"alt",l[0]),v(e,"class","mx-8 h-20 aspect-square")},m(r,n){I(r,e,n),S(e,t)},p(r,[n]){n&1&&!Be(t.src,s=r[0])&&v(t,"src",s),n&1&&v(t,"alt",r[0])},i:O,o:O,d(r){r&&b(e)}}}function Wr(l,e,t){let{value:s}=e;return l.$$set=r=>{"value"in r&&t(0,s=r.value)},[s]}class Xr extends Z{constructor(e){super(),Q(this,e,Wr,Jr,Y,{value:0})}}function Yr(l){let e,t;return{c(){e=j("div"),t=ee(l[0]),this.h()},l(s){e=M(s,"DIV",{class:!0});var r=R(e);t=x(r,l[0]),r.forEach(b),this.h()},h(){v(e,"class","min-w-16 px-2")},m(s,r){I(s,e,r),S(e,t)},p(s,[r]){r&1&&de(t,s[0])},i:O,o:O,d(s){s&&b(e)}}}function Zr(l,e,t){let{value:s}=e;return l.$$set=r=>{"value"in r&&t(0,s=r.value)},[s]}class ht extends Z{constructor(e){super(),Q(this,e,Zr,Yr,Y,{value:0})}}function Qr(l){let e,t;return{c(){e=j("div"),t=ee(l[0]),this.h()},l(s){e=M(s,"DIV",{class:!0});var r=R(e);t=x(r,l[0]),r.forEach(b),this.h()},h(){v(e,"class","min-w-24 px-2")},m(s,r){I(s,e,r),S(e,t)},p(s,[r]){r&1&&de(t,s[0])},i:O,o:O,d(s){s&&b(e)}}}function xr(l,e,t){let{value:s}=e;return l.$$set=r=>{"value"in r&&t(0,s=r.value)},[s]}class en extends Z{constructor(e){super(),Q(this,e,xr,Qr,Y,{value:0})}}function tn(l){let e,t,s,r,n;return{c(){e=j("div"),t=j("video"),this.h()},l(o){e=M(o,"DIV",{class:!0});var a=R(e);t=M(a,"VIDEO",{src:!0,class:!0}),R(t).forEach(b),a.forEach(b),this.h()},h(){Be(t.src,s=l[0])||v(t,"src",s),t.loop=!0,t.muted=!0,v(t,"class","h-full w-full object-cover rounded"),v(e,"class","mx-8 h-20 aspect-square")},m(o,a){I(o,e,a),S(e,t),l[3](t),r||(n=[te(t,"mouseenter",l[2]),te(t,"mouseleave",l[2])],r=!0)},p(o,[a]){a&1&&!Be(t.src,s=o[0])&&v(t,"src",s)},i:O,o:O,d(o){o&&b(e),l[3](null),r=!1,Fe(n)}}}function sn(l,e,t){let{value:s}=e,r,n=!1;function o(){n=!n,n?(t(1,r.playbackRate=4,r),r.play().catch(()=>console.error("video playback error"))):r.pause()}function a(i){ue[i?"unshift":"push"](()=>{r=i,t(1,r)})}return l.$$set=i=>{"value"in i&&t(0,s=i.value)},[s,r,o,a]}class rn extends Z{constructor(e){super(),Q(this,e,sn,tn,Y,{value:0})}}const ge=l=>e=>cr(l,{value:e.value}),nn={image:ge(Xr),int:ge(ht),float:ge(ht),bool:ge(zr),str:ge(en),datetime:ge(Gr),video:ge(rn),histogram:ge(Ur)};function pt(l,e,t){const s=l.slice();return s[30]=e[t],s}function _t(l,e,t){const s=l.slice();return s[34]=e[t],s}function gt(l,e,t){const s=l.slice();return s[38]=e[t],s}function mt(l,e,t){const s=l.slice();return s[34]=e[t],s}function bt(l){let e,t,s,r="Column settings",n,o,a="Drag and drop to re-order, toggle box for visibility.",i,c,d,p,$,m,w;return d=new Or({props:{list:l[3],$$slots:{default:[ln,({item:f})=>({43:f}),({item:f})=>[0,f?4096:0]]},$$scope:{ctx:l}}}),d.$on("sort",l[13]),m=new Lt({props:{class:"text-white",$$slots:{default:[on]},$$scope:{ctx:l}}}),m.$on("click",l[17]),{c(){e=j("div"),t=j("div"),s=j("span"),s.textContent=r,n=P(),o=j("span"),o.textContent=a,i=P(),c=j("div"),N(d.$$.fragment),p=P(),$=j("div"),N(m.$$.fragment),this.h()},l(f){e=M(f,"DIV",{class:!0});var u=R(e);t=M(u,"DIV",{class:!0});var h=R(t);s=M(h,"SPAN",{class:!0,"data-svelte-h":!0}),he(s)!=="svelte-1l2t5au"&&(s.textContent=r),n=L(h),o=M(h,"SPAN",{class:!0,"data-svelte-h":!0}),he(o)!=="svelte-1fvb8a3"&&(o.textContent=a),i=L(h),c=M(h,"DIV",{class:!0});var g=R(c);K(d.$$.fragment,g),g.forEach(b),p=L(h),$=M(h,"DIV",{class:!0});var _=R($);K(m.$$.fragment,_),_.forEach(b),h.forEach(b),u.forEach(b),this.h()},h(){v(s,"class","text-3xl font-bold mb-4"),v(o,"class","text-sm italic text-gray-500 font-medium mb-3"),v(c,"class","flex flex-col space-y-2"),v($,"class","my-6 flex justify-end items-end"),v(t,"class","px-12 pt-10 flex flex-col bg-white border border-slate-300 shadow-sm shadow-slate-300 rounded-lg"),v(e,"class","fixed w-full h-full z-20 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-500/30 backdrop:blur-lg flex items-center justify-center font-Montserrat")},m(f,u){I(f,e,u),S(e,t),S(t,s),S(t,n),S(t,o),S(t,i),S(t,c),V(d,c,null),S(t,p),S(t,$),V(m,$,null),w=!0},p(f,u){const h={};u[0]&8&&(h.list=f[3]),u[0]&2|u[1]&12288&&(h.$$scope={dirty:u,ctx:f}),d.$set(h);const g={};u[1]&8192&&(g.$$scope={dirty:u,ctx:f}),m.$set(g)},i(f){w||(E(d.$$.fragment,f),E(m.$$.fragment,f),w=!0)},o(f){T(d.$$.fragment,f),T(m.$$.fragment,f),w=!1},d(f){f&&b(e),z(d),z(m)}}}function ln(l){let e,t,s,r,n,o=l[43]+"",a,i,c,d,p,$;function m(f){l[16](f,l[43])}let w={id:l[43]};return l[1][l[43]]!==void 0&&(w.checked=l[1][l[43]]),t=new bs({props:w}),ue.push(()=>Ee(t,"checked",m)),{c(){e=j("div"),N(t.$$.fragment),r=P(),n=j("label"),a=ee(o),c=P(),d=ve("svg"),p=ve("path"),this.h()},l(f){e=M(f,"DIV",{class:!0});var u=R(e);K(t.$$.fragment,u),r=L(u),n=M(u,"LABEL",{for:!0,class:!0});var h=R(n);a=x(h,o),h.forEach(b),c=L(u),d=$e(u,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var g=R(d);p=$e(g,"path",{d:!0,fill:!0}),R(p).forEach(b),g.forEach(b),u.forEach(b),this.h()},h(){v(n,"for",i=l[43]),v(n,"class","text-sm select-none grow cursor-pointer"),v(p,"d",ks),v(p,"fill","grey"),v(d,"xmlns","http://www.w3.org/2000/svg"),v(d,"height","48"),v(d,"viewBox","0 -960 960 960"),v(d,"width","48"),v(d,"class","h-6 w-6 cursor-move"),v(e,"class","py-1 px-2 flex items-center space-x-2 border rounded-sm")},m(f,u){I(f,e,u),V(t,e,null),S(e,r),S(e,n),S(n,a),S(e,c),S(e,d),S(d,p),$=!0},p(f,u){l=f;const h={};u[1]&4096&&(h.id=l[43]),!s&&u[0]&2|u[1]&4096&&(s=!0,h.checked=l[1][l[43]],ye(()=>s=!1)),t.$set(h),(!$||u[1]&4096)&&o!==(o=l[43]+"")&&de(a,o),(!$||u[1]&4096&&i!==(i=l[43]))&&v(n,"for",i)},i(f){$||(E(t.$$.fragment,f),$=!0)},o(f){T(t.$$.fragment,f),$=!1},d(f){f&&b(e),z(t)}}}function on(l){let e;return{c(){e=ee("Done")},l(t){e=x(t,"Done")},m(t,s){I(t,e,s)},d(t){t&&b(e)}}}function an(l){let e,t,s;t=new Xe({props:{of:l[34].render()}});let r=[l[37],{class:"relative py-4 font-semibold"}],n={};for(let o=0;o<r.length;o+=1)n=re(n,r[o]);return{c(){e=j("th"),N(t.$$.fragment),this.h()},l(o){e=M(o,"TH",{class:!0});var a=R(e);K(t.$$.fragment,a),a.forEach(b),this.h()},h(){oe(e,n)},m(o,a){I(o,e,a),V(t,e,null),s=!0},p(o,a){const i={};a[0]&32&&(i.of=o[34].render()),t.$set(i),oe(e,n=fe(r,[a[1]&64&&o[37],{class:"relative py-4 font-semibold"}]))},i(o){s||(E(t.$$.fragment,o),s=!0)},o(o){T(t.$$.fragment,o),s=!1},d(o){o&&b(e),z(t)}}}function wt(l,e){let t,s,r;return s=new Me({props:{attrs:e[34].attrs(),$$slots:{default:[an,({attrs:n})=>({37:n}),({attrs:n})=>[0,n?64:0]]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=G(),N(s.$$.fragment),this.h()},l(n){t=G(),K(s.$$.fragment,n),this.h()},h(){this.first=t},m(n,o){I(n,t,o),V(s,n,o),r=!0},p(n,o){e=n;const a={};o[0]&32&&(a.attrs=e[34].attrs()),o[0]&32|o[1]&8256&&(a.$$scope={dirty:o,ctx:e}),s.$set(a)},i(n){r||(E(s.$$.fragment,n),r=!0)},o(n){T(s.$$.fragment,n),r=!1},d(n){n&&b(t),z(s,n)}}}function cn(l){let e,t,s;return{c(){e=ve("svg"),t=ve("title"),s=ve("path"),this.h()},l(r){e=$e(r,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var n=R(e);t=$e(n,"title",{}),R(t).forEach(b),s=$e(n,"path",{d:!0,fill:!0}),R(s).forEach(b),n.forEach(b),this.h()},h(){v(s,"d",Es),v(s,"fill","#111"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"height","48"),v(e,"viewBox","0 -960 960 960"),v(e,"width","48"),v(e,"class","h-6 w-6")},m(r,n){I(r,e,n),S(e,t),S(e,s)},p:O,d(r){r&&b(e)}}}function fn(l){let e,t=[],s=new Map,r,n,o,a,i,c,d,p=se(l[38].cells);const $=f=>f[34].id;for(let f=0;f<p.length;f+=1){let u=mt(l,p,f),h=$(u);s.set(h,t[f]=wt(h,u))}i=new Lt({props:{variant:"ghost",$$slots:{default:[cn]},$$scope:{ctx:l}}}),i.$on("click",l[18]);let m=[l[33],{class:"sticky top-0 bg-white shadow-sm shadow-slate-300 border-b border-b-slate-400"}],w={};for(let f=0;f<m.length;f+=1)w=re(w,m[f]);return{c(){e=j("tr");for(let f=0;f<t.length;f+=1)t[f].c();r=P(),n=j("th"),o=P(),a=j("th"),N(i.$$.fragment),c=P(),this.h()},l(f){e=M(f,"TR",{class:!0});var u=R(e);for(let g=0;g<t.length;g+=1)t[g].l(u);r=L(u),n=M(u,"TH",{class:!0}),R(n).forEach(b),o=L(u),a=M(u,"TH",{class:!0});var h=R(a);K(i.$$.fragment,h),h.forEach(b),u.forEach(b),c=L(f),this.h()},h(){v(n,"class","w-full"),v(a,"class","pr-4"),oe(e,w)},m(f,u){I(f,e,u);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);S(e,r),S(e,n),S(e,o),S(e,a),V(i,a,null),I(f,c,u),d=!0},p(f,u){u[0]&32|u[1]&64&&(p=se(f[38].cells),W(),t=Se(t,u,$,1,f,p,s,e,Le,wt,r,mt),X());const h={};u[1]&8192&&(h.$$scope={dirty:u,ctx:f}),i.$set(h),oe(e,w=fe(m,[u[1]&4&&f[33],{class:"sticky top-0 bg-white shadow-sm shadow-slate-300 border-b border-b-slate-400"}]))},i(f){if(!d){for(let u=0;u<p.length;u+=1)E(t[u]);E(i.$$.fragment,f),d=!0}},o(f){for(let u=0;u<t.length;u+=1)T(t[u]);T(i.$$.fragment,f),d=!1},d(f){f&&(b(e),b(c));for(let u=0;u<t.length;u+=1)t[u].d();z(i)}}}function $t(l,e){let t,s,r;return s=new Me({props:{rowAttrs:e[38].attrs(),$$slots:{default:[fn,({rowAttrs:n})=>({33:n}),({rowAttrs:n})=>[0,n?4:0]]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=G(),N(s.$$.fragment),this.h()},l(n){t=G(),K(s.$$.fragment,n),this.h()},h(){this.first=t},m(n,o){I(n,t,o),V(s,n,o),r=!0},p(n,o){e=n;const a={};o[0]&32&&(a.rowAttrs=e[38].attrs()),o[0]&36|o[1]&8196&&(a.$$scope={dirty:o,ctx:e}),s.$set(a)},i(n){r||(E(s.$$.fragment,n),r=!0)},o(n){T(s.$$.fragment,n),r=!1},d(n){n&&b(t),z(s,n)}}}function un(l){let e,t,s;t=new Xe({props:{of:l[34].render()}});let r=[l[37],{class:"border-b border-slate-300"}],n={};for(let o=0;o<r.length;o+=1)n=re(n,r[o]);return{c(){e=j("td"),N(t.$$.fragment),this.h()},l(o){e=M(o,"TD",{class:!0});var a=R(e);K(t.$$.fragment,a),a.forEach(b),this.h()},h(){oe(e,n)},m(o,a){I(o,e,a),V(t,e,null),s=!0},p(o,a){const i={};a[0]&128&&(i.of=o[34].render()),t.$set(i),oe(e,n=fe(r,[a[1]&64&&o[37],{class:"border-b border-slate-300"}]))},i(o){s||(E(t.$$.fragment,o),s=!0)},o(o){T(t.$$.fragment,o),s=!1},d(o){o&&b(e),z(t)}}}function vt(l,e){let t,s,r;return s=new Me({props:{attrs:e[34].attrs(),$$slots:{default:[un,({attrs:n})=>({37:n}),({attrs:n})=>[0,n?64:0]]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=G(),N(s.$$.fragment),this.h()},l(n){t=G(),K(s.$$.fragment,n),this.h()},h(){this.first=t},m(n,o){I(n,t,o),V(s,n,o),r=!0},p(n,o){e=n;const a={};o[0]&128&&(a.attrs=e[34].attrs()),o[0]&128|o[1]&8256&&(a.$$scope={dirty:o,ctx:e}),s.$set(a)},i(n){r||(E(s.$$.fragment,n),r=!0)},o(n){T(s.$$.fragment,n),r=!1},d(n){n&&b(t),z(s,n)}}}function dn(l){let e,t=[],s=new Map,r,n,o,a,i=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 mx-auto p-1 ml-3 border rounded-full border-slate-300 transition-colors hover:bg-slate-200"><title>Open</title><path d="${ys}" fill="currentcolor"></path></svg>`,c,d,p,$,m=se(l[30].cells);const w=g=>g[34].id;for(let g=0;g<m.length;g+=1){let _=_t(l,m,g),F=w(_);s.set(F,t[g]=vt(F,_))}let f=[l[33],{class:"h-24 cursor-pointer hover:bg-slate-100"}],u={};for(let g=0;g<f.length;g+=1)u=re(u,f[g]);function h(){return l[19](l[30])}return{c(){e=j("tr");for(let g=0;g<t.length;g+=1)t[g].c();r=P(),n=j("td"),o=P(),a=j("td"),a.innerHTML=i,c=P(),this.h()},l(g){e=M(g,"TR",{class:!0});var _=R(e);for(let F=0;F<t.length;F+=1)t[F].l(_);r=L(_),n=M(_,"TD",{class:!0}),R(n).forEach(b),o=L(_),a=M(_,"TD",{class:!0,"data-svelte-h":!0}),he(a)!=="svelte-nb66sx"&&(a.innerHTML=i),_.forEach(b),c=L(g),this.h()},h(){v(n,"class","w-full border-b border-slate-300"),v(a,"class","border-b border-slate-300"),oe(e,u)},m(g,_){I(g,e,_);for(let F=0;F<t.length;F+=1)t[F]&&t[F].m(e,null);S(e,r),S(e,n),S(e,o),S(e,a),I(g,c,_),d=!0,p||($=te(e,"click",h),p=!0)},p(g,_){l=g,_[0]&128|_[1]&64&&(m=se(l[30].cells),W(),t=Se(t,_,w,1,l,m,s,e,Le,vt,r,_t),X()),oe(e,u=fe(f,[_[1]&4&&l[33],{class:"h-24 cursor-pointer hover:bg-slate-100"}]))},i(g){if(!d){for(let _=0;_<m.length;_+=1)E(t[_]);d=!0}},o(g){for(let _=0;_<t.length;_+=1)T(t[_]);d=!1},d(g){g&&(b(e),b(c));for(let _=0;_<t.length;_+=1)t[_].d();p=!1,$()}}}function kt(l,e){let t,s,r;return s=new Me({props:{rowAttrs:e[30].attrs(),$$slots:{default:[dn,({rowAttrs:n})=>({33:n}),({rowAttrs:n})=>[0,n?4:0]]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=G(),N(s.$$.fragment),this.h()},l(n){t=G(),K(s.$$.fragment,n),this.h()},h(){this.first=t},m(n,o){I(n,t,o),V(s,n,o),r=!0},p(n,o){e=n;const a={};o[0]&128&&(a.rowAttrs=e[30].attrs()),o[0]&129|o[1]&8196&&(a.$$scope={dirty:o,ctx:e}),s.$set(a)},i(n){r||(E(s.$$.fragment,n),r=!0)},o(n){T(s.$$.fragment,n),r=!1},d(n){n&&b(t),z(s,n)}}}function hn(l){let e,t,s,r,n=[],o=new Map,a,i,c=[],d=new Map,p,$=l[2]&&bt(l),m=se(l[5]);const w=y=>y[38].id;for(let y=0;y<m.length;y+=1){let k=gt(l,m,y),B=w(k);o.set(B,n[y]=$t(B,k))}let f=se(l[7]);const u=y=>y[30].id;for(let y=0;y<f.length;y+=1){let k=pt(l,f,y),B=u(k);d.set(B,c[y]=kt(B,k))}let h=[l[6]],g={};for(let y=0;y<h.length;y+=1)g=re(g,h[y]);let _=[l[4],{class:"table-auto z-0 w-full text-center text-base text-slate-800"}],F={};for(let y=0;y<_.length;y+=1)F=re(F,_[y]);return{c(){$&&$.c(),e=P(),t=j("div"),s=j("table"),r=j("thead");for(let y=0;y<n.length;y+=1)n[y].c();a=P(),i=j("tbody");for(let y=0;y<c.length;y+=1)c[y].c();this.h()},l(y){$&&$.l(y),e=L(y),t=M(y,"DIV",{class:!0});var k=R(t);s=M(k,"TABLE",{class:!0});var B=R(s);r=M(B,"THEAD",{});var pe=R(r);for(let ne=0;ne<n.length;ne+=1)n[ne].l(pe);pe.forEach(b),a=L(B),i=M(B,"TBODY",{});var ie=R(i);for(let ne=0;ne<c.length;ne+=1)c[ne].l(ie);ie.forEach(b),B.forEach(b),k.forEach(b),this.h()},h(){oe(i,g),oe(s,F),v(t,"class","w-full overflow-y-auto rounded-sm bg-white border border-slate-300 shadow-sm shadow-slate-300 font-Montserrat")},m(y,k){$&&$.m(y,k),I(y,e,k),I(y,t,k),S(t,s),S(s,r);for(let B=0;B<n.length;B+=1)n[B]&&n[B].m(r,null);S(s,a),S(s,i);for(let B=0;B<c.length;B+=1)c[B]&&c[B].m(i,null);p=!0},p(y,k){y[2]?$?($.p(y,k),k[0]&4&&E($,1)):($=bt(y),$.c(),E($,1),$.m(e.parentNode,e)):$&&(W(),T($,1,1,()=>{$=null}),X()),k[0]&36|k[1]&68&&(m=se(y[5]),W(),n=Se(n,k,w,1,y,m,o,r,Le,$t,null,gt),X()),k[0]&32897|k[1]&68&&(f=se(y[7]),W(),c=Se(c,k,u,1,y,f,d,i,Le,kt,null,pt),X()),oe(i,g=fe(h,[k[0]&64&&y[6]])),oe(s,F=fe(_,[k[0]&16&&y[4],{class:"table-auto z-0 w-full text-center text-base text-slate-800"}]))},i(y){if(!p){E($);for(let k=0;k<m.length;k+=1)E(n[k]);for(let k=0;k<f.length;k+=1)E(c[k]);p=!0}},o(y){T($);for(let k=0;k<n.length;k+=1)T(n[k]);for(let k=0;k<c.length;k+=1)T(c[k]);p=!1},d(y){y&&(b(e),b(t)),$&&$.d(y);for(let k=0;k<n.length;k+=1)n[k].d();for(let k=0;k<c.length;k+=1)c[k].d()}}}function pn(l,e,t){let s,r,n,o,a,i,{items:c}=e;const d=ce(c.rows),p=Sr(d,{colOrder:Fr(),hideCols:Mr()});let $=[],m=[],w=[];Object.values(c.columns).forEach(A=>{$.push(p.column({header:A.name.replace("_"," "),cell:nn[A.type],accessor:A.name})),A.type==="image"||A.type==="video"?m.push(A.name):w.push(A.name)});let f=[...m,...w];const u=p.createColumns($),{headerRows:h,rows:g,tableAttrs:_,tableBodyAttrs:F,pluginStates:y}=p.createViewModel(u);be(l,h,A=>t(5,o=A)),be(l,g,A=>t(7,i=A)),be(l,_,A=>t(4,n=A)),be(l,F,A=>t(6,a=A));const{columnIdOrder:k}=y.colOrder;be(l,k,A=>t(3,r=A)),Je(k,r=[...f],r);const B=A=>{Je(k,r=A.detail,r)},{hiddenColumnIds:pe}=y.hideCols;be(l,pe,A=>t(20,s=A));let ie=Object.fromEntries(r.map(A=>[A,!0]));const ne=Pe();function je(A){ne("selectItem",A)}let Ce=!1;function Ie(A,De){l.$$.not_equal(ie[De],A)&&(ie[De]=A,t(1,ie))}const Te=()=>{t(2,Ce=!1)},qe=()=>{t(2,Ce=!0)},Ke=A=>{je(c.rows[A.id].id)};return l.$$set=A=>{"items"in A&&t(0,c=A.items)},l.$$.update=()=>{l.$$.dirty[0]&1&&d.set(c.rows),l.$$.dirty[0]&2&&Je(pe,s=Object.entries(ie).filter(([,A])=>!A).map(([A])=>A),s)},[c,ie,Ce,r,n,o,a,i,h,g,_,F,k,B,pe,je,Ie,Te,qe,Ke]}class _n extends Z{constructor(e){super(),Q(this,e,pn,hn,Y,{items:0},null,[-1,-1])}}function yt(l,e,t){const s=l.slice();return s[8]=e[t],s}function gn(l){let e,t,s,r,n,o,a,i,c,d,p,$=se(l[2]),m=[];for(let f=0;f<$.length;f+=1)m[f]=Et(yt(l,$,f));let w=l[1]!==""&&Ct(l);return{c(){e=j("select");for(let f=0;f<m.length;f+=1)m[f].c();t=P(),s=j("div"),r=j("input"),o=P(),a=ve("svg"),i=ve("path"),c=P(),w&&w.c(),this.h()},l(f){e=M(f,"SELECT",{class:!0});var u=R(e);for(let _=0;_<m.length;_+=1)m[_].l(u);u.forEach(b),t=L(f),s=M(f,"DIV",{class:!0});var h=R(s);r=M(h,"INPUT",{type:!0,placeholder:!0,class:!0}),o=L(h),a=$e(h,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var g=R(a);i=$e(g,"path",{d:!0,fill:!0}),R(i).forEach(b),g.forEach(b),c=L(h),w&&w.l(h),h.forEach(b),this.h()},h(){v(e,"class","h-10 px-4 mx-4 border rounded bg-slate-50 border-slate-300"),v(r,"type","text"),v(r,"placeholder",n="Semantic search using "+l[0]),v(r,"class","h-10 pl-10 pr-4 rounded-full border text-slate-800 placeholder-slate-500 bg-slate-50 border-slate-300 shadow-slate-300 accent-main"),v(i,"d",Cs),v(i,"fill","currentcolor"),v(a,"xmlns","http://www.w3.org/2000/svg"),v(a,"height","48"),v(a,"viewBox","0 -960 960 960"),v(a,"width","48"),v(a,"class","absolute left-2 h-5 w-5 text-slate-800 pointer-events-none"),v(s,"class","relative flex items-center")},m(f,u){I(f,e,u);for(let h=0;h<m.length;h+=1)m[h]&&m[h].m(e,null);I(f,t,u),I(f,s,u),S(s,r),He(r,l[1]),S(s,o),S(s,a),S(a,i),S(s,c),w&&w.m(s,null),d||(p=[te(r,"input",l[6]),te(r,"change",l[3])],d=!0)},p(f,u){if(u&5){$=se(f[2]);let h;for(h=0;h<$.length;h+=1){const g=yt(f,$,h);m[h]?m[h].p(g,u):(m[h]=Et(g),m[h].c(),m[h].m(e,null))}for(;h<m.length;h+=1)m[h].d(1);m.length=$.length}u&1&&n!==(n="Semantic search using "+f[0])&&v(r,"placeholder",n),u&2&&r.value!==f[1]&&He(r,f[1]),f[1]!==""?w?w.p(f,u):(w=Ct(f),w.c(),w.m(s,null)):w&&(w.d(1),w=null)},d(f){f&&(b(e),b(t),b(s)),Ot(m,f),w&&w.d(),d=!1,Fe(p)}}}function Et(l){let e,t=l[8]+"",s,r;return{c(){e=j("option"),s=ee(t),r=P(),this.h()},l(n){e=M(n,"OPTION",{});var o=R(e);s=x(o,t),r=L(o),o.forEach(b),this.h()},h(){e.__value=l[0],He(e,e.__value)},m(n,o){I(n,e,o),S(e,s),S(e,r)},p(n,o){o&1&&(e.__value=n[0],He(e,e.__value))},d(n){n&&b(e)}}}function Ct(l){let e,t=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-5 w-5 text-slate-800"><path d="${Is}" fill="currentcolor"></path></svg>`,s,r;return{c(){e=j("button"),e.innerHTML=t,this.h()},l(n){e=M(n,"BUTTON",{class:!0,"data-svelte-h":!0}),he(e)!=="svelte-16d6f6q"&&(e.innerHTML=t),this.h()},h(){v(e,"class","absolute right-2 p-1 rounded-full transition-colors hover:bg-slate-300")},m(n,o){I(n,e,o),s||(r=te(e,"click",l[4]),s=!0)},p:O,d(n){n&&b(e),s=!1,r()}}}function mn(l){let e,t=l[2].length>0&&gn(l);return{c(){e=j("div"),t&&t.c(),this.h()},l(s){e=M(s,"DIV",{class:!0});var r=R(e);t&&t.l(r),r.forEach(b),this.h()},h(){v(e,"class","ml-auto relative flex items-center py-5 h-20")},m(s,r){I(s,e,r),t&&t.m(e,null)},p(s,[r]){s[2].length>0&&t.p(s,r)},i:O,o:O,d(s){s&&b(e),t&&t.d()}}}function bn(l,e,t){let{selectedDataset:s}=e,{selectedSearchModel:r}=e,{searchInput:n}=e;const o=[];if(s.semantic_search.length>0)for(const p of s.semantic_search)r||(r=p),o.push(p);const a=Pe(),i=()=>{a("search",n)},c=()=>{a("clearSearch")};function d(){n=this.value,t(1,n)}return l.$$set=p=>{"selectedDataset"in p&&t(5,s=p.selectedDataset),"selectedSearchModel"in p&&t(0,r=p.selectedSearchModel),"searchInput"in p&&t(1,n=p.searchInput)},[r,n,o,i,c,s,d]}class wn extends Z{constructor(e){super(),Q(this,e,bn,mn,Y,{selectedDataset:5,selectedSearchModel:0,searchInput:1})}}function It(l){let e,t,s,r=1+l[2]*(l[1]-1)+"",n,o,a=Math.min(l[2]*l[1],l[0].pagination.total_size)+"",i,c,d=l[0].pagination.total_size+"",p,$,m=l[0].pagination.total_size>l[2]&&Tt(l),w=l[0].pagination.total_size>l[2]&&Dt(l);return{c(){e=j("div"),m&&m.c(),t=P(),s=j("span"),n=ee(r),o=ee(" - "),i=ee(a),c=ee(` of
      `),p=ee(d),$=P(),w&&w.c(),this.h()},l(f){e=M(f,"DIV",{class:!0});var u=R(e);m&&m.l(u),t=L(u),s=M(u,"SPAN",{class:!0});var h=R(s);n=x(h,r),o=x(h," - "),i=x(h,a),c=x(h,` of
      `),p=x(h,d),h.forEach(b),$=L(u),w&&w.l(u),u.forEach(b),this.h()},h(){v(s,"class","mx-4"),v(e,"class","w-full py-5 h-20 flex justify-center items-center text-slate-800")},m(f,u){I(f,e,u),m&&m.m(e,null),S(e,t),S(e,s),S(s,n),S(s,o),S(s,i),S(s,c),S(s,p),S(e,$),w&&w.m(e,null)},p(f,u){f[0].pagination.total_size>f[2]?m?m.p(f,u):(m=Tt(f),m.c(),m.m(e,t)):m&&(m.d(1),m=null),u&6&&r!==(r=1+f[2]*(f[1]-1)+"")&&de(n,r),u&7&&a!==(a=Math.min(f[2]*f[1],f[0].pagination.total_size)+"")&&de(i,a),u&1&&d!==(d=f[0].pagination.total_size+"")&&de(p,d),f[0].pagination.total_size>f[2]?w?w.p(f,u):(w=Dt(f),w.c(),w.m(e,null)):w&&(w.d(1),w=null)},d(f){f&&b(e),m&&m.d(),w&&w.d()}}}function Tt(l){let e,t=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${Ts}" fill="currentcolor"></path></svg>`,s,r,n=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${Ds}" fill="currentcolor"></path></svg>`,o,a;return{c(){e=j("button"),e.innerHTML=t,s=P(),r=j("button"),r.innerHTML=n},l(i){e=M(i,"BUTTON",{"data-svelte-h":!0}),he(e)!=="svelte-7tbocf"&&(e.innerHTML=t),s=L(i),r=M(i,"BUTTON",{"data-svelte-h":!0}),he(r)!=="svelte-zcuprf"&&(r.innerHTML=n)},m(i,c){I(i,e,c),I(i,s,c),I(i,r,c),o||(a=[te(e,"click",l[3]),te(r,"click",l[4])],o=!0)},p:O,d(i){i&&(b(e),b(s),b(r)),o=!1,Fe(a)}}}function Dt(l){let e,t=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${Ss}" fill="currentcolor"></path></svg>`,s,r,n=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${Fs}" fill="currentcolor"></path></svg>`,o,a;return{c(){e=j("button"),e.innerHTML=t,s=P(),r=j("button"),r.innerHTML=n},l(i){e=M(i,"BUTTON",{"data-svelte-h":!0}),he(e)!=="svelte-13lfy9n"&&(e.innerHTML=t),s=L(i),r=M(i,"BUTTON",{"data-svelte-h":!0}),he(r)!=="svelte-1qt850j"&&(r.innerHTML=n)},m(i,c){I(i,e,c),I(i,s,c),I(i,r,c),o||(a=[te(e,"click",l[5]),te(r,"click",l[6])],o=!0)},p:O,d(i){i&&(b(e),b(s),b(r)),o=!1,Fe(a)}}}function $n(l){let e,t=!l[0].isErrored&&It(l);return{c(){t&&t.c(),e=G()},l(s){t&&t.l(s),e=G()},m(s,r){t&&t.m(s,r),I(s,e,r)},p(s,[r]){s[0].isErrored?t&&(t.d(1),t=null):t?t.p(s,r):(t=It(s),t.c(),t.m(e.parentNode,e))},i:O,o:O,d(s){s&&b(e),t&&t.d(s)}}}function vn(l,e,t){let{selectedDataset:s}=e,{isLoadingTableItems:r}=e,n,o;we.subscribe(p=>{t(1,n=(p==null?void 0:p.currentPage)||gs),t(2,o=(p==null?void 0:p.pageSize)||ms)});function a(){n>1&&(t(7,r=!0),we.update(p=>({...p,pageSize:(p==null?void 0:p.pageSize)||o,currentPage:1})))}function i(){n>1&&(t(7,r=!0),we.update(p=>({...p,pageSize:(p==null?void 0:p.pageSize)||o,currentPage:n-1})))}function c(){s.pagination.total_size>n*o&&(t(7,r=!0),we.update(p=>({...p,pageSize:(p==null?void 0:p.pageSize)||o,currentPage:n+1})))}function d(){s.pagination.total_size>n*o&&(t(7,r=!0),we.update(p=>({...p,pageSize:(p==null?void 0:p.pageSize)||o,currentPage:Math.ceil((s.pagination.total_size||1)/o)})))}return l.$$set=p=>{"selectedDataset"in p&&t(0,s=p.selectedDataset),"isLoadingTableItems"in p&&t(7,r=p.isLoadingTableItems)},[s,n,o,a,i,c,d,r]}class kn extends Z{constructor(e){super(),Q(this,e,vn,$n,Y,{selectedDataset:0,isLoadingTableItems:7})}}function St(l){let e,t,s,r,n,o,a,i,c,d;function p(_){l[8](_)}function $(_){l[9](_)}let m={selectedDataset:l[0]};l[4]!==void 0&&(m.selectedSearchModel=l[4]),l[3]!==void 0&&(m.searchInput=l[3]),e=new wn({props:m}),ue.push(()=>Ee(e,"selectedSearchModel",p)),ue.push(()=>Ee(e,"searchInput",$)),e.$on("search",l[7]),e.$on("clearSearch",l[6]);const w=[Cn,En,yn],f=[];function u(_,F){return _[1]?0:_[0].isErrored?2:1}n=u(l),o=f[n]=w[n](l);function h(_){l[11](_)}let g={selectedDataset:l[0]};return l[1]!==void 0&&(g.isLoadingTableItems=l[1]),i=new kn({props:g}),ue.push(()=>Ee(i,"isLoadingTableItems",h)),{c(){N(e.$$.fragment),r=P(),o.c(),a=P(),N(i.$$.fragment)},l(_){K(e.$$.fragment,_),r=L(_),o.l(_),a=L(_),K(i.$$.fragment,_)},m(_,F){V(e,_,F),I(_,r,F),f[n].m(_,F),I(_,a,F),V(i,_,F),d=!0},p(_,F){const y={};F&1&&(y.selectedDataset=_[0]),!t&&F&16&&(t=!0,y.selectedSearchModel=_[4],ye(()=>t=!1)),!s&&F&8&&(s=!0,y.searchInput=_[3],ye(()=>s=!1)),e.$set(y);let k=n;n=u(_),n===k?f[n].p(_,F):(W(),T(f[k],1,1,()=>{f[k]=null}),X(),o=f[n],o?o.p(_,F):(o=f[n]=w[n](_),o.c()),E(o,1),o.m(a.parentNode,a));const B={};F&1&&(B.selectedDataset=_[0]),!c&&F&2&&(c=!0,B.isLoadingTableItems=_[1],ye(()=>c=!1)),i.$set(B)},i(_){d||(E(e.$$.fragment,_),E(o),E(i.$$.fragment,_),d=!0)},o(_){T(e.$$.fragment,_),T(o),T(i.$$.fragment,_),d=!1},d(_){_&&(b(r),b(a)),z(e,_),f[n].d(_),z(i,_)}}}function yn(l){let e,t,s="Error: dataset items could not be loaded",r,n,o;return n=new $s({props:{$$slots:{default:[In]},$$scope:{ctx:l}}}),n.$on("click",l[6]),{c(){e=j("div"),t=j("p"),t.textContent=s,r=P(),N(n.$$.fragment),this.h()},l(a){e=M(a,"DIV",{class:!0});var i=R(e);t=M(i,"P",{"data-svelte-h":!0}),he(t)!=="svelte-lcj0vm"&&(t.textContent=s),r=L(i),K(n.$$.fragment,i),i.forEach(b),this.h()},h(){v(e,"class","flex flex-col gap-5 justify-center align-middle text-center max-w-xs m-auto mt-10")},m(a,i){I(a,e,i),S(e,t),S(e,r),V(n,e,null),o=!0},p(a,i){const c={};i&16384&&(c.$$scope={dirty:i,ctx:a}),n.$set(c)},i(a){o||(E(n.$$.fragment,a),o=!0)},o(a){T(n.$$.fragment,a),o=!1},d(a){a&&b(e),z(n)}}}function En(l){let e,t;return e=new _n({props:{items:l[0].table_data}}),e.$on("selectItem",l[10]),{c(){N(e.$$.fragment)},l(s){K(e.$$.fragment,s)},m(s,r){V(e,s,r),t=!0},p(s,r){const n={};r&1&&(n.items=s[0].table_data),e.$set(n)},i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){T(e.$$.fragment,s),t=!1},d(s){z(e,s)}}}function Cn(l){let e,t,s;return t=new Ms({props:{class:"animate-spin"}}),{c(){e=j("div"),N(t.$$.fragment),this.h()},l(r){e=M(r,"DIV",{class:!0});var n=R(e);K(t.$$.fragment,n),n.forEach(b),this.h()},h(){v(e,"class","flex-grow flex justify-center items-center")},m(r,n){I(r,e,n),V(t,e,null),s=!0},p:O,i(r){s||(E(t.$$.fragment,r),s=!0)},o(r){T(t.$$.fragment,r),s=!1},d(r){r&&b(e),z(t)}}}function In(l){let e;return{c(){e=ee("Try again")},l(t){e=x(t,"Try again")},m(t,s){I(t,e,s)},d(t){t&&b(e)}}}function Ft(l){let e,t;return e=new ws({props:{message:"Error while retrieving dataset items.",details:"Please look at the application logs for more information, and report this issue if the error persists."}}),e.$on("confirm",l[12]),{c(){N(e.$$.fragment)},l(s){K(e.$$.fragment,s)},m(s,r){V(e,s,r),t=!0},p:O,i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){T(e.$$.fragment,s),t=!1},d(s){z(e,s)}}}function Tn(l){let e,t,s,r,n=l[0].pagination&&St(l),o=l[2]&&Ft(l),a=Dn;return{c(){e=j("div"),n&&n.c(),t=P(),o&&o.c(),s=P(),this.h()},l(i){e=M(i,"DIV",{class:!0});var c=R(e);n&&n.l(c),t=L(c),o&&o.l(c),s=L(c),c.forEach(b),this.h()},h(){v(e,"class","w-full px-20 bg-slate-50 flex flex-col text-slate-800 min-h-[calc(100vh-80px)]")},m(i,c){I(i,e,c),n&&n.m(e,null),S(e,t),o&&o.m(e,null),S(e,s),r=!0},p(i,[c]){i[0].pagination?n?(n.p(i,c),c&1&&E(n,1)):(n=St(i),n.c(),E(n,1),n.m(e,t)):n&&(W(),T(n,1,1,()=>{n=null}),X()),i[2]?o?(o.p(i,c),c&4&&E(o,1)):(o=Ft(i),o.c(),E(o,1),o.m(e,s)):o&&(W(),T(o,1,1,()=>{o=null}),X())},i(i){r||(E(n),E(o),E(a),r=!0)},o(i){T(n),T(o),T(a),r=!1},d(i){i&&b(e),n&&n.d(),o&&o.d()}}}let Dn=!1;function Sn(l,e,t){let{selectedDataset:s}=e,r=!1,n=!1,o="",a;const i=Pe();function c(h){i("selectItem",h)}function d(){t(3,o=""),p()}function p(){let h={model:a,search:o};t(1,r=!0),we.update(g=>({...g,currentPage:1,query:h}))}function $(h){a=h,t(4,a)}function m(h){o=h,t(3,o)}const w=h=>c(h.detail);function f(h){r=h,t(1,r),t(0,s)}const u=()=>t(2,n=!1);return l.$$set=h=>{"selectedDataset"in h&&t(0,s=h.selectedDataset)},l.$$.update=()=>{l.$$.dirty&1&&s.table_data&&t(1,r=!1)},[s,r,n,o,a,c,d,p,$,m,w,f,u]}class Fn extends Z{constructor(e){super(),Q(this,e,Sn,Tn,Y,{selectedDataset:0})}}function Mt(l){let e,t;return e=new Fn({props:{selectedDataset:l[0]}}),e.$on("selectItem",l[1]),{c(){N(e.$$.fragment)},l(s){K(e.$$.fragment,s)},m(s,r){V(e,s,r),t=!0},p(s,r){const n={};r&1&&(n.selectedDataset=s[0]),e.$set(n)},i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){T(e.$$.fragment,s),t=!1},d(s){z(e,s)}}}function Mn(l){var r;let e,t,s=((r=l[0])==null?void 0:r.table_data)&&Mt(l);return{c(){s&&s.c(),e=G()},l(n){s&&s.l(n),e=G()},m(n,o){s&&s.m(n,o),I(n,e,o),t=!0},p(n,[o]){var a;(a=n[0])!=null&&a.table_data?s?(s.p(n,o),o&1&&E(s,1)):(s=Mt(n),s.c(),E(s,1),s.m(e.parentNode,e)):s&&(W(),T(s,1,1,()=>{s=null}),X())},i(n){t||(E(s),t=!0)},o(n){T(s),t=!1},d(n){n&&b(e),s&&s.d(n)}}}function jn(l,e,t){let s,r,n;const o=async a=>{await Rs(`/${n.id}/dataset/${a.detail}`)};return as(()=>{s()}),l.$$.update=()=>{l.$$.dirty&4&&(s=we.subscribe(a=>{r&&Os(r,a.currentPage,a.pageSize,a.query).then(i=>t(0,n=i)).catch(i=>console.log("ERROR: Couldn't get dataset items",i))}))},As.subscribe(a=>t(2,r=a.params.dataset)),[n,o,r]}class Jn extends Z{constructor(e){super(),Q(this,e,jn,Mn,Y,{})}}export{Jn as component,Kn as universal};
