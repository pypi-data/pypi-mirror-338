import{s as q,I as A,O as z,H as te,J as ne,K as le,L as se,d as v,w as S,i as P,b as E,A as je,c as H,e as j,g as L,h as R,j as V,k as ee,E as Ke,o as ce,q as gt,n as ue,m as _t,f as oe,t as re,a as $e,Q as Pt,z as Ct,F as Lt,B as qe,C as We,a9 as Vt}from"../chunks/ByuL26re.js";import{S as W,i as Z,d as k,t as d,a as $,m as w,e as I,b as T,g as X,c as Y}from"../chunks/BJvdQk2J.js";import{D as At,g as ae,a as ie,e as pe,W as Ze,c as we,p as Ht,q as Ce,r as Rt,v as pt,d as Ae,w as Ge,x as jt}from"../chunks/DaD_6sQA.js";import{c as me}from"../chunks/DPkO8WLB.js";import{T as B,a as Je,b as Kt,S as ht,c as Ut,C as Ft}from"../chunks/6pT-hefj.js";import{C as zt,P as bt}from"../chunks/Ch7TKzfp.js";import{p as Bt}from"../chunks/B9u33kEZ.js";import{f as vt,T as U,a as kt,b as Qe,e as Ot,s as _e,c as wt,k as It,d as Se,t as He,n as Re,p as De,g as Tt,h as St,i as qt,j as ke,l as Ne,o as Ee,m as Xe}from"../chunks/nfWigLeK.js";import{I as fe,L as Nt,a as Wt}from"../chunks/BKV2YTqk.js";import{g as Le}from"../chunks/BhvMENeK.js";import{p as Me}from"../chunks/CKiQJyIb.js";const Zt=!1,Gt=!1,Ql=Object.freeze(Object.defineProperty({__proto__:null,prerender:Zt,ssr:Gt},Symbol.toStringTag,{value:"Module"}));async function Jt(o){const e=[];for(let t=0;;t+=1e3)try{const l=await fetch(`/items/${o}/?limit=1000&skip=${t}`);if(l.ok){const s=await l.json();if(e.push(...s.map(r=>r.id)),s&&s.length<1e3)break}else{l.status!=404&&console.log("api.getDatasetItemsIds -",l.status,l.statusText,await l.text());break}}catch(l){console.log("api.getDatasetItemsIds -",l)}return e}async function Qt(){let o,e;try{const n=await fetch("/datasets/info");n.ok?(o=await n.json(),e=o.map(t=>new At(t))):(e=[],console.log("api.getDatasetsInfo -",n.status,n.statusText,await n.text()))}catch(n){e=[],console.log("api.getDatasetsInfo -",n)}return e}async function Xt(){let o;try{const e=await fetch("/models");e.ok?o=await e.json():(o=[],console.log("api.getModels -",e.status,e.statusText))}catch(e){o=[],console.log("api.getModels -",e)}return o}function Yt(o){let e;const n=o[2].default,t=te(n,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&ne(t,n,l,l[3],e?se(n,l[3],s,null):le(l[3]),null)},i(l){e||($(t,l),e=!0)},o(l){d(t,l),e=!1},d(l){t&&t.d(l)}}}function yt(o){let e,n;const t=[{name:"arrow-left-circle"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[Yt]},$$scope:{ctx:o}};for(let s=0;s<t.length;s+=1)l=A(l,t[s]);return e=new fe({props:l}),{c(){T(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,r){w(e,s,r),n=!0},p(s,[r]){const i=r&3?ae(t,[t[0],r&2&&ie(s[1]),r&1&&{iconNode:s[0]}]):{};r&8&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){d(e.$$.fragment,s),n=!1},d(s){k(e,s)}}}function xt(o,e,n){let{$$slots:t={},$$scope:l}=e;const s=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M16 12H8"}],["path",{d:"m12 8-4 4 4 4"}]];return o.$$set=r=>{n(1,e=A(A({},e),z(r))),"$$scope"in r&&n(3,l=r.$$scope)},e=z(e),[s,e,t,l]}class en extends W{constructor(e){super(),Z(this,e,xt,yt,q,{})}}function tn(o){let e;const n=o[2].default,t=te(n,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&ne(t,n,l,l[3],e?se(n,l[3],s,null):le(l[3]),null)},i(l){e||($(t,l),e=!0)},o(l){d(t,l),e=!1},d(l){t&&t.d(l)}}}function nn(o){let e,n;const t=[{name:"arrow-left"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[tn]},$$scope:{ctx:o}};for(let s=0;s<t.length;s+=1)l=A(l,t[s]);return e=new fe({props:l}),{c(){T(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,r){w(e,s,r),n=!0},p(s,[r]){const i=r&3?ae(t,[t[0],r&2&&ie(s[1]),r&1&&{iconNode:s[0]}]):{};r&8&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){d(e.$$.fragment,s),n=!1},d(s){k(e,s)}}}function ln(o,e,n){let{$$slots:t={},$$scope:l}=e;const s=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];return o.$$set=r=>{n(1,e=A(A({},e),z(r))),"$$scope"in r&&n(3,l=r.$$scope)},e=z(e),[s,e,t,l]}class Et extends W{constructor(e){super(),Z(this,e,ln,nn,q,{})}}function sn(o){let e;const n=o[2].default,t=te(n,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&ne(t,n,l,l[3],e?se(n,l[3],s,null):le(l[3]),null)},i(l){e||($(t,l),e=!0)},o(l){d(t,l),e=!1},d(l){t&&t.d(l)}}}function on(o){let e,n;const t=[{name:"arrow-right"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[sn]},$$scope:{ctx:o}};for(let s=0;s<t.length;s+=1)l=A(l,t[s]);return e=new fe({props:l}),{c(){T(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,r){w(e,s,r),n=!0},p(s,[r]){const i=r&3?ae(t,[t[0],r&2&&ie(s[1]),r&1&&{iconNode:s[0]}]):{};r&8&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){d(e.$$.fragment,s),n=!1},d(s){k(e,s)}}}function rn(o,e,n){let{$$slots:t={},$$scope:l}=e;const s=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];return o.$$set=r=>{n(1,e=A(A({},e),z(r))),"$$scope"in r&&n(3,l=r.$$scope)},e=z(e),[s,e,t,l]}class Dt extends W{constructor(e){super(),Z(this,e,rn,on,q,{})}}function an(o){let e;const n=o[2].default,t=te(n,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&ne(t,n,l,l[3],e?se(n,l[3],s,null):le(l[3]),null)},i(l){e||($(t,l),e=!0)},o(l){d(t,l),e=!1},d(l){t&&t.d(l)}}}function fn(o){let e,n;const t=[{name:"database"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[an]},$$scope:{ctx:o}};for(let s=0;s<t.length;s+=1)l=A(l,t[s]);return e=new fe({props:l}),{c(){T(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,r){w(e,s,r),n=!0},p(s,[r]){const i=r&3?ae(t,[t[0],r&2&&ie(s[1]),r&1&&{iconNode:s[0]}]):{};r&8&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){d(e.$$.fragment,s),n=!1},d(s){k(e,s)}}}function cn(o,e,n){let{$$slots:t={},$$scope:l}=e;const s=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5"}],["path",{d:"M3 12A9 3 0 0 0 21 12"}]];return o.$$set=r=>{n(1,e=A(A({},e),z(r))),"$$scope"in r&&n(3,l=r.$$scope)},e=z(e),[s,e,t,l]}class un extends W{constructor(e){super(),Z(this,e,cn,fn,q,{})}}function mn(o){let e;const n=o[2].default,t=te(n,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&ne(t,n,l,l[3],e?se(n,l[3],s,null):le(l[3]),null)},i(l){e||($(t,l),e=!0)},o(l){d(t,l),e=!1},d(l){t&&t.d(l)}}}function $n(o){let e,n;const t=[{name:"home"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[mn]},$$scope:{ctx:o}};for(let s=0;s<t.length;s+=1)l=A(l,t[s]);return e=new fe({props:l}),{c(){T(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,r){w(e,s,r),n=!0},p(s,[r]){const i=r&3?ae(t,[t[0],r&2&&ie(s[1]),r&1&&{iconNode:s[0]}]):{};r&8&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){d(e.$$.fragment,s),n=!1},d(s){k(e,s)}}}function dn(o,e,n){let{$$slots:t={},$$scope:l}=e;const s=[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}],["polyline",{points:"9 22 9 12 15 12 15 22"}]];return o.$$set=r=>{n(1,e=A(A({},e),z(r))),"$$scope"in r&&n(3,l=r.$$scope)},e=z(e),[s,e,t,l]}class Mt extends W{constructor(e){super(),Z(this,e,dn,$n,q,{})}}function gn(o){let e;const n=o[2].default,t=te(n,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&ne(t,n,l,l[3],e?se(n,l[3],s,null):le(l[3]),null)},i(l){e||($(t,l),e=!0)},o(l){d(t,l),e=!1},d(l){t&&t.d(l)}}}function _n(o){let e,n;const t=[{name:"minus-circle"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[gn]},$$scope:{ctx:o}};for(let s=0;s<t.length;s+=1)l=A(l,t[s]);return e=new fe({props:l}),{c(){T(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,r){w(e,s,r),n=!0},p(s,[r]){const i=r&3?ae(t,[t[0],r&2&&ie(s[1]),r&1&&{iconNode:s[0]}]):{};r&8&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){d(e.$$.fragment,s),n=!1},d(s){k(e,s)}}}function pn(o,e,n){let{$$slots:t={},$$scope:l}=e;const s=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 12h8"}]];return o.$$set=r=>{n(1,e=A(A({},e),z(r))),"$$scope"in r&&n(3,l=r.$$scope)},e=z(e),[s,e,t,l]}class hn extends W{constructor(e){super(),Z(this,e,pn,_n,q,{})}}function bn(o){let e;const n=o[2].default,t=te(n,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&ne(t,n,l,l[3],e?se(n,l[3],s,null):le(l[3]),null)},i(l){e||($(t,l),e=!0)},o(l){d(t,l),e=!1},d(l){t&&t.d(l)}}}function vn(o){let e,n;const t=[{name:"mouse-pointer"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[bn]},$$scope:{ctx:o}};for(let s=0;s<t.length;s+=1)l=A(l,t[s]);return e=new fe({props:l}),{c(){T(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,r){w(e,s,r),n=!0},p(s,[r]){const i=r&3?ae(t,[t[0],r&2&&ie(s[1]),r&1&&{iconNode:s[0]}]):{};r&8&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){d(e.$$.fragment,s),n=!1},d(s){k(e,s)}}}function kn(o,e,n){let{$$slots:t={},$$scope:l}=e;const s=[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z"}],["path",{d:"m13 13 6 6"}]];return o.$$set=r=>{n(1,e=A(A({},e),z(r))),"$$scope"in r&&n(3,l=r.$$scope)},e=z(e),[s,e,t,l]}class wn extends W{constructor(e){super(),Z(this,e,kn,vn,q,{})}}function In(o){let e;const n=o[2].default,t=te(n,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&ne(t,n,l,l[3],e?se(n,l[3],s,null):le(l[3]),null)},i(l){e||($(t,l),e=!0)},o(l){d(t,l),e=!1},d(l){t&&t.d(l)}}}function Tn(o){let e,n;const t=[{name:"plus-circle"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[In]},$$scope:{ctx:o}};for(let s=0;s<t.length;s+=1)l=A(l,t[s]);return e=new fe({props:l}),{c(){T(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,r){w(e,s,r),n=!0},p(s,[r]){const i=r&3?ae(t,[t[0],r&2&&ie(s[1]),r&1&&{iconNode:s[0]}]):{};r&8&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){d(e.$$.fragment,s),n=!1},d(s){k(e,s)}}}function Sn(o,e,n){let{$$slots:t={},$$scope:l}=e;const s=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 12h8"}],["path",{d:"M12 8v8"}]];return o.$$set=r=>{n(1,e=A(A({},e),z(r))),"$$scope"in r&&n(3,l=r.$$scope)},e=z(e),[s,e,t,l]}class Nn extends W{constructor(e){super(),Z(this,e,Sn,Tn,q,{})}}function En(o){let e;const n=o[2].default,t=te(n,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&ne(t,n,l,l[3],e?se(n,l[3],s,null):le(l[3]),null)},i(l){e||($(t,l),e=!0)},o(l){d(t,l),e=!1},d(l){t&&t.d(l)}}}function Dn(o){let e,n;const t=[{name:"replace-all"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[En]},$$scope:{ctx:o}};for(let s=0;s<t.length;s+=1)l=A(l,t[s]);return e=new fe({props:l}),{c(){T(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,r){w(e,s,r),n=!0},p(s,[r]){const i=r&3?ae(t,[t[0],r&2&&ie(s[1]),r&1&&{iconNode:s[0]}]):{};r&8&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){d(e.$$.fragment,s),n=!1},d(s){k(e,s)}}}function Mn(o,e,n){let{$$slots:t={},$$scope:l}=e;const s=[["path",{d:"M14 4c0-1.1.9-2 2-2"}],["path",{d:"M20 2c1.1 0 2 .9 2 2"}],["path",{d:"M22 8c0 1.1-.9 2-2 2"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2"}],["path",{d:"m3 7 3 3 3-3"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2"}],["path",{d:"M14 14c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2"}],["path",{d:"M20 14c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2"}]];return o.$$set=r=>{n(1,e=A(A({},e),z(r))),"$$scope"in r&&n(3,l=r.$$scope)},e=z(e),[s,e,t,l]}class Pn extends W{constructor(e){super(),Z(this,e,Mn,Dn,q,{})}}function Cn(o){let e;const n=o[2].default,t=te(n,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&ne(t,n,l,l[3],e?se(n,l[3],s,null):le(l[3]),null)},i(l){e||($(t,l),e=!0)},o(l){d(t,l),e=!1},d(l){t&&t.d(l)}}}function Ln(o){let e,n;const t=[{name:"wand-2"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[Cn]},$$scope:{ctx:o}};for(let s=0;s<t.length;s+=1)l=A(l,t[s]);return e=new fe({props:l}),{c(){T(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,r){w(e,s,r),n=!0},p(s,[r]){const i=r&3?ae(t,[t[0],r&2&&ie(s[1]),r&1&&{iconNode:s[0]}]):{};r&8&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){d(e.$$.fragment,s),n=!1},d(s){k(e,s)}}}function Vn(o,e,n){let{$$slots:t={},$$scope:l}=e;const s=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z"}],["path",{d:"m14 7 3 3"}],["path",{d:"M5 6v4"}],["path",{d:"M19 14v4"}],["path",{d:"M10 2v2"}],["path",{d:"M7 8H3"}],["path",{d:"M21 16h-4"}],["path",{d:"M11 3H9"}]];return o.$$set=r=>{n(1,e=A(A({},e),z(r))),"$$scope"in r&&n(3,l=r.$$scope)},e=z(e),[s,e,t,l]}class An extends W{constructor(e){super(),Z(this,e,Vn,Ln,q,{})}}function Hn(o){let e;const n=o[2].default,t=te(n,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&ne(t,n,l,l[3],e?se(n,l[3],s,null):le(l[3]),null)},i(l){e||($(t,l),e=!0)},o(l){d(t,l),e=!1},d(l){t&&t.d(l)}}}function Rn(o){let e,n;const t=[{name:"x"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[Hn]},$$scope:{ctx:o}};for(let s=0;s<t.length;s+=1)l=A(l,t[s]);return e=new fe({props:l}),{c(){T(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,r){w(e,s,r),n=!0},p(s,[r]){const i=r&3?ae(t,[t[0],r&2&&ie(s[1]),r&1&&{iconNode:s[0]}]):{};r&8&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){d(e.$$.fragment,s),n=!1},d(s){k(e,s)}}}function jn(o,e,n){let{$$slots:t={},$$scope:l}=e;const s=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return o.$$set=r=>{n(1,e=A(A({},e),z(r))),"$$scope"in r&&n(3,l=r.$$scope)},e=z(e),[s,e,t,l]}class Kn extends W{constructor(e){super(),Z(this,e,jn,Rn,q,{})}}const Un=""+new URL("../assets/favicon.OuiISzV3.ico",import.meta.url).href;function Fn(o){let e,n;return e=new Pn({}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Ye(o){let e,n,t,l;return e=new B({props:{tooltipContent:"Validate association (Enter)",selected:!1,$$slots:{default:[zn]},$$scope:{ctx:o}}}),e.$on("click",o[2]),t=new B({props:{tooltipContent:"Abort association (Escape)",selected:!1,$$slots:{default:[Bn]},$$scope:{ctx:o}}}),t.$on("click",o[3]),{c(){T(e.$$.fragment),n=V(),T(t.$$.fragment)},l(s){I(e.$$.fragment,s),n=L(s),I(t.$$.fragment,s)},m(s,r){w(e,s,r),P(s,n,r),w(t,s,r),l=!0},p(s,r){const i={};r&256&&(i.$$scope={dirty:r,ctx:s}),e.$set(i);const a={};r&256&&(a.$$scope={dirty:r,ctx:s}),t.$set(a)},i(s){l||($(e.$$.fragment,s),$(t.$$.fragment,s),l=!0)},o(s){d(e.$$.fragment,s),d(t.$$.fragment,s),l=!1},d(s){s&&v(n),k(e,s),k(t,s)}}}function zn(o){let e,n;return e=new zt({}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Bn(o){let e,n;return e=new Kn({}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function On(o){var m,f;let e,n,t,l,s,r,i;n=new B({props:{tooltipContent:vt.name,selected:((m=o[1])==null?void 0:m.type)===U.Fusion,$$slots:{default:[Fn]},$$scope:{ctx:o}}}),n.$on("click",o[6]);let a=((f=o[1])==null?void 0:f.type)===U.Fusion&&Ye(o);return{c(){e=R("div"),T(n.$$.fragment),t=V(),a&&a.c(),this.h()},l(c){e=H(c,"DIV",{class:!0});var u=j(e);I(n.$$.fragment,u),t=L(u),a&&a.l(u),u.forEach(v),this.h()},h(){var c;S(e,"class",l=me("flex items-center gap-4",{"bg-slate-200 rounded-sm":((c=o[1])==null?void 0:c.type)===U.Fusion}))},m(c,u){P(c,e,u),w(n,e,null),E(e,t),a&&a.m(e,null),s=!0,r||(i=je(window,"keydown",o[4]),r=!0)},p(c,[u]){var g,_,h;const p={};u&2&&(p.selected=((g=c[1])==null?void 0:g.type)===U.Fusion),u&256&&(p.$$scope={dirty:u,ctx:c}),n.$set(p),((_=c[1])==null?void 0:_.type)===U.Fusion?a?(a.p(c,u),u&2&&$(a,1)):(a=Ye(c),a.c(),$(a,1),a.m(e,null)):a&&(X(),d(a,1,1,()=>{a=null}),Y()),(!s||u&2&&l!==(l=me("flex items-center gap-4",{"bg-slate-200 rounded-sm":((h=c[1])==null?void 0:h.type)===U.Fusion})))&&S(e,"class",l)},i(c){s||($(n.$$.fragment,c),$(a),s=!0)},o(c){d(n.$$.fragment,c),d(a),s=!1},d(c){c&&v(e),k(n),a&&a.d(),r=!1,i()}}}function qn(o,e,n){let t,l;ee(o,_e,c=>n(1,t=c)),ee(o,wt,c=>n(7,l=c));let{selectTool:s}=e,{clearHighlighting:r}=e;const i=()=>{let c=[];if(l.to_fuse.length>1){const[u,...p]=l.to_fuse;p.forEach(g=>{g.ui.childs&&(c=[...c,...g.ui.childs])}),kt.update(g=>g.map(_=>{if(c.includes(_)){if(_.ui.top_entities&&_.ui.top_entities.length>0&&_.data.entity_ref.id!==_.ui.top_entities[0].id)return console.error("ERROR: Sub entities currently not managed for fusion.",_),_;_.data.entity_ref={id:u.id,name:u.table_info.name},_.ui.top_entities=[u];const h={change_type:"update",object:_};Qe.update(b=>Je(b,h))}return _})),Ot.update(g=>{const _=g.filter(h=>!p.includes(h));return _.length>0&&_.map(h=>(h.id===u.id&&(h.ui.childs=h.ui.childs?[...h.ui.childs,...c]:c),h)),_}),p.forEach(g=>{const _={change_type:"delete",object:g};Qe.update(h=>Je(h,_))})}r()},a=()=>{r()};function m(c){if((t==null?void 0:t.type)!==U.Fusion)return;const u=document.activeElement;if(!(u instanceof HTMLInputElement||u instanceof HTMLTextAreaElement||(u==null?void 0:u.getAttribute("contenteditable"))==="true"))switch(c.key){case"Escape":a();break;case"Enter":i();break}}const f=()=>s(vt);return o.$$set=c=>{"selectTool"in c&&n(0,s=c.selectTool),"clearHighlighting"in c&&n(5,r=c.clearHighlighting)},[s,t,i,a,m,r,f]}class Wn extends W{constructor(e){super(),Z(this,e,qn,On,q,{selectTool:0,clearHighlighting:5})}}function ye(o,e,n){const t=o.slice();return t[7]=e[n],t}function xe(o,e,n){const t=o.slice();return t[10]=e[n],t}function Zn(o){let e,n;return e=new Kt({}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function et(o){let e,n,t=pe(He),l=[];for(let r=0;r<t.length;r+=1)l[r]=nt(ye(o,t,r));const s=r=>d(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ce()},l(r){for(let i=0;i<l.length;i+=1)l[i].l(r);e=ce()},m(r,i){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(r,i);P(r,e,i),n=!0},p(r,i){if(i&28){t=pe(He);let a;for(a=0;a<t.length;a+=1){const m=ye(r,t,a);l[a]?(l[a].p(m,i),$(l[a],1)):(l[a]=nt(m),l[a].c(),$(l[a],1),l[a].m(e.parentNode,e))}for(X(),a=t.length;a<l.length;a+=1)s(a);Y()}},i(r){if(!n){for(let i=0;i<t.length;i+=1)$(l[i]);n=!0}},o(r){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)d(l[i]);n=!1},d(r){r&&v(e),Ke(l,r)}}}function tt(o){let e,n,t;return{c(){e=R("div"),n=R("div"),this.h()},l(l){e=H(l,"DIV",{});var s=j(e);n=H(s,"DIV",{class:!0,style:!0}),j(n).forEach(v),s.forEach(v),this.h()},h(){S(n,"class","w-1 h-1 bg-primary rounded-full absolute"),S(n,"style",t=`top: ${o[10].y*100}%; left: ${o[10].x*100}%; background: ${o[3](o[10],o[7].template_id===o[2])}`)},m(l,s){P(l,e,s),E(e,n)},p(l,s){s&4&&t!==(t=`top: ${l[10].y*100}%; left: ${l[10].x*100}%; background: ${l[3](l[10],l[7].template_id===l[2])}`)&&S(n,"style",t)},d(l){l&&v(e)}}}function Gn(o){let e,n=pe(o[7].vertices),t=[];for(let l=0;l<n.length;l+=1)t[l]=tt(xe(o,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=V()},l(l){for(let s=0;s<t.length;s+=1)t[s].l(l);e=L(l)},m(l,s){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(l,s);P(l,e,s)},p(l,s){if(s&12){n=pe(l[7].vertices);let r;for(r=0;r<n.length;r+=1){const i=xe(l,n,r);t[r]?t[r].p(i,s):(t[r]=tt(i),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},d(l){l&&v(e),Ke(t,l)}}}function nt(o){let e,n;function t(){return o[6](o[7])}return e=new B({props:{tooltipContent:o[7].template_id,selected:o[2]===o[7].template_id,$$slots:{default:[Gn]},$$scope:{ctx:o}}}),e.$on("click",t),{c(){T(e.$$.fragment)},l(l){I(e.$$.fragment,l)},m(l,s){w(e,l,s),n=!0},p(l,s){o=l;const r={};s&4&&(r.selected=o[2]===o[7].template_id),s&8196&&(r.$$scope={dirty:s,ctx:o}),e.$set(r)},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){d(e.$$.fragment,l),n=!1},d(l){k(e,l)}}}function Jn(o){var i;let e,n,t,l,s;n=new B({props:{tooltipContent:It.name,$$slots:{default:[Zn]},$$scope:{ctx:o}}}),n.$on("click",o[5]);let r=((i=o[1])==null?void 0:i.type)===U.Keypoint&&et(o);return{c(){e=R("div"),T(n.$$.fragment),t=V(),r&&r.c(),this.h()},l(a){e=H(a,"DIV",{class:!0});var m=j(e);I(n.$$.fragment,m),t=L(m),r&&r.l(m),m.forEach(v),this.h()},h(){var a;S(e,"class",l=me("flex items-center gap-4",{"bg-slate-200 rounded-sm":((a=o[1])==null?void 0:a.type)===U.Keypoint}))},m(a,m){P(a,e,m),w(n,e,null),E(e,t),r&&r.m(e,null),s=!0},p(a,[m]){var c,u;const f={};m&8192&&(f.$$scope={dirty:m,ctx:a}),n.$set(f),((c=a[1])==null?void 0:c.type)===U.Keypoint?r?(r.p(a,m),m&2&&$(r,1)):(r=et(a),r.c(),$(r,1),r.m(e,null)):r&&(X(),d(r,1,1,()=>{r=null}),Y()),(!s||m&2&&l!==(l=me("flex items-center gap-4",{"bg-slate-200 rounded-sm":((u=a[1])==null?void 0:u.type)===U.Keypoint})))&&S(e,"class",l)},i(a){s||($(n.$$.fragment,a),$(r),s=!0)},o(a){d(n.$$.fragment,a),d(r),s=!1},d(a){a&&v(e),k(n),r&&r.d()}}}function Qn(o,e,n){let t,l;ee(o,_e,f=>n(1,t=f)),ee(o,Se,f=>n(2,l=f));let{selectTool:s}=e;const r=(f,c)=>{var u;if((u=f.features)!=null&&u.color)return f.features.color;if(c)return"white"},i=f=>{Se.set(f),Re.set({status:"none"})};_e.subscribe(f=>{(f==null?void 0:f.type)!==U.Keypoint?Se.set(null):Se.set(He[0].template_id)});const a=()=>s(It),m=f=>i(f.template_id);return o.$$set=f=>{"selectTool"in f&&n(0,s=f.selectTool)},[s,t,l,r,i,a,m]}class Xn extends W{constructor(e){super(),Z(this,e,Qn,Jn,q,{selectTool:0})}}function Yn(o){let e,n;return e=new wn({}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function yn(o){let e,n;return e=new ht({}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function xn(o){let e,n;return e=new Ut({}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function lt(o){let e,n;return e=new Wn({props:{selectTool:o[7],clearHighlighting:o[6]}}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p:ue,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function el(o){let e,n;return e=new An({}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function st(o){var i,a,m;let e,n,t,l,s,r;return e=new B({props:{tooltipContent:o[2].name,selected:((i=o[1])==null?void 0:i.type)===U.PointSelection&&!!o[1].label,$$slots:{default:[tl]},$$scope:{ctx:o}}}),e.$on("click",o[13]),t=new B({props:{tooltipContent:o[3].name,selected:((a=o[1])==null?void 0:a.type)===U.PointSelection&&!o[1].label,$$slots:{default:[nl]},$$scope:{ctx:o}}}),t.$on("click",o[14]),s=new B({props:{tooltipContent:o[4].name,selected:((m=o[1])==null?void 0:m.type)===U.Rectangle&&o[1].isSmart,$$slots:{default:[ll]},$$scope:{ctx:o}}}),s.$on("click",o[15]),{c(){T(e.$$.fragment),n=V(),T(t.$$.fragment),l=V(),T(s.$$.fragment)},l(f){I(e.$$.fragment,f),n=L(f),I(t.$$.fragment,f),l=L(f),I(s.$$.fragment,f)},m(f,c){w(e,f,c),P(f,n,c),w(t,f,c),P(f,l,c),w(s,f,c),r=!0},p(f,c){var _,h,b;const u={};c&4&&(u.tooltipContent=f[2].name),c&2&&(u.selected=((_=f[1])==null?void 0:_.type)===U.PointSelection&&!!f[1].label),c&131072&&(u.$$scope={dirty:c,ctx:f}),e.$set(u);const p={};c&8&&(p.tooltipContent=f[3].name),c&2&&(p.selected=((h=f[1])==null?void 0:h.type)===U.PointSelection&&!f[1].label),c&131072&&(p.$$scope={dirty:c,ctx:f}),t.$set(p);const g={};c&16&&(g.tooltipContent=f[4].name),c&2&&(g.selected=((b=f[1])==null?void 0:b.type)===U.Rectangle&&f[1].isSmart),c&131072&&(g.$$scope={dirty:c,ctx:f}),s.$set(g)},i(f){r||($(e.$$.fragment,f),$(t.$$.fragment,f),$(s.$$.fragment,f),r=!0)},o(f){d(e.$$.fragment,f),d(t.$$.fragment,f),d(s.$$.fragment,f),r=!1},d(f){f&&(v(n),v(l)),k(e,f),k(t,f),k(s,f)}}}function tl(o){let e,n;return e=new Nn({}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function nl(o){let e,n;return e=new hn({}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function ll(o){let e,n;return e=new ht({}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function sl(o){var G,y,x;let e,n,t,l,s,r,i,a,m,f,c,u,p,g,_,h;t=new B({props:{tooltipContent:De.name,selected:((G=o[1])==null?void 0:G.type)===U.Pan,$$slots:{default:[Yn]},$$scope:{ctx:o}}}),t.$on("click",o[10]),s=new B({props:{tooltipContent:Tt.name,selected:((y=o[1])==null?void 0:y.type)===U.Rectangle&&!o[1].isSmart,$$slots:{default:[yn]},$$scope:{ctx:o}}}),s.$on("click",o[11]),i=new B({props:{tooltipContent:St.name,selected:((x=o[1])==null?void 0:x.type)===U.Polygon,$$slots:{default:[xn]},$$scope:{ctx:o}}}),i.$on("click",o[12]),m=new Xn({props:{selectTool:o[7]}});let b=o[0]&&lt(o);p=new B({props:{tooltipContent:"Use a smart segmentation model",$$slots:{default:[el]},$$scope:{ctx:o}}}),p.$on("click",o[8]);let N=o[5]&&st(o);return{c(){e=R("div"),n=R("div"),T(t.$$.fragment),l=V(),T(s.$$.fragment),r=V(),T(i.$$.fragment),a=V(),T(m.$$.fragment),f=V(),b&&b.c(),c=V(),u=R("div"),T(p.$$.fragment),g=V(),N&&N.c(),this.h()},l(D){e=H(D,"DIV",{class:!0});var C=j(e);n=H(C,"DIV",{class:!0});var K=j(n);I(t.$$.fragment,K),l=L(K),I(s.$$.fragment,K),r=L(K),I(i.$$.fragment,K),a=L(K),I(m.$$.fragment,K),f=L(K),b&&b.l(K),K.forEach(v),c=L(C),u=H(C,"DIV",{class:!0});var M=j(u);I(p.$$.fragment,M),g=L(M),N&&N.l(M),M.forEach(v),C.forEach(v),this.h()},h(){S(n,"class","flex items-center gap-4"),S(u,"class",_=me("flex items-center gap-4",{"bg-slate-200 rounded-sm":o[5]})),S(e,"class","flex gap-4 z-10")},m(D,C){P(D,e,C),E(e,n),w(t,n,null),E(n,l),w(s,n,null),E(n,r),w(i,n,null),E(n,a),w(m,n,null),E(n,f),b&&b.m(n,null),E(e,c),E(e,u),w(p,u,null),E(u,g),N&&N.m(u,null),h=!0},p(D,[C]){var de,he,be;const K={};C&2&&(K.selected=((de=D[1])==null?void 0:de.type)===U.Pan),C&131072&&(K.$$scope={dirty:C,ctx:D}),t.$set(K);const M={};C&2&&(M.selected=((he=D[1])==null?void 0:he.type)===U.Rectangle&&!D[1].isSmart),C&131072&&(M.$$scope={dirty:C,ctx:D}),s.$set(M);const F={};C&2&&(F.selected=((be=D[1])==null?void 0:be.type)===U.Polygon),C&131072&&(F.$$scope={dirty:C,ctx:D}),i.$set(F),D[0]?b?(b.p(D,C),C&1&&$(b,1)):(b=lt(D),b.c(),$(b,1),b.m(n,null)):b&&(X(),d(b,1,1,()=>{b=null}),Y());const Q={};C&131072&&(Q.$$scope={dirty:C,ctx:D}),p.$set(Q),D[5]?N?(N.p(D,C),C&32&&$(N,1)):(N=st(D),N.c(),$(N,1),N.m(u,null)):N&&(X(),d(N,1,1,()=>{N=null}),Y()),(!h||C&32&&_!==(_=me("flex items-center gap-4",{"bg-slate-200 rounded-sm":D[5]})))&&S(u,"class",_)},i(D){h||($(t.$$.fragment,D),$(s.$$.fragment,D),$(i.$$.fragment,D),$(m.$$.fragment,D),$(b),$(p.$$.fragment,D),$(N),h=!0)},o(D){d(t.$$.fragment,D),d(s.$$.fragment,D),d(i.$$.fragment,D),d(m.$$.fragment,D),d(b),d(p.$$.fragment,D),d(N),h=!1},d(D){D&&v(e),k(t),k(s),k(i),k(m),b&&b.d(),k(p),N&&N.d()}}}function ol(o,e,n){let t,l,s;ee(o,_e,b=>n(1,l=b)),ee(o,Xe,b=>n(16,s=b));let{isVideo:r=!1}=e,i=null;const a=()=>{Re.set({status:"none"}),kt.update(b=>b.map(N=>(N.ui.displayControl={...N.ui.displayControl,editing:!1,highlighted:"all"},N))),wt.set({to_fuse:[],forbids:[]})},m=b=>{b!==l&&(a(),_e.set(b))},f=()=>{t?m(De):(m(ke),(s.selectedModelName===""||s.selectedTableName==="")&&Xe.update(b=>({...b,currentModalOpen:"selectModel"})))};qt.subscribe(b=>{b&&(n(2,ke.postProcessor=b,ke),n(3,Ne.postProcessor=b,Ne),n(4,Ee.postProcessor=b,Ee))}),gt(()=>{l===void 0&&_e.set(De),a()});const c=()=>m(De),u=()=>m(Tt),p=()=>m(St),g=()=>m(ke),_=()=>m(Ne),h=()=>m(Ee);return o.$$set=b=>{"isVideo"in b&&n(0,r=b.isVideo)},o.$$.update=()=>{o.$$.dirty&2&&n(5,t=l&&l.isSmart),o.$$.dirty&514&&((!(i!=null&&i.isSmart)||!(l!=null&&l.isSmart))&&Re.set({status:"none"}),n(9,i=l))},[r,l,ke,Ne,Ee,t,a,m,f,i,c,u,p,g,_,h]}class rl extends W{constructor(e){super(),Z(this,e,ol,sl,q,{isVideo:0})}}function ot(o){let e,n,t,l;const s=[il,al],r=[];function i(a,m){return a[1]?0:1}return e=i(o),n=r[e]=s[e](o),{c(){n.c(),t=ce()},l(a){n.l(a),t=ce()},m(a,m){r[e].m(a,m),P(a,t,m),l=!0},p(a,m){let f=e;e=i(a),e===f?r[e].p(a,m):(X(),d(r[f],1,1,()=>{r[f]=null}),Y(),n=r[e],n?n.p(a,m):(n=r[e]=s[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){l||($(n),l=!0)},o(a){d(n),l=!1},d(a){a&&v(t),r[e].d(a)}}}function al(o){let e,n,t,l,s,r,i,a,m,f,c,u,p;return n=new B({props:{tooltipContent:"Back to Home",$$slots:{default:[fl]},$$scope:{ctx:o}}}),n.$on("click",o[8]),l=new B({props:{tooltipContent:"Back to dataset",$$slots:{default:[cl]},$$scope:{ctx:o}}}),l.$on("click",function(){_t(o[3])&&o[3].apply(this,arguments)}),a=new B({props:{tooltipContent:"Previous item (shift + left arrow)",$$slots:{default:[ul]},$$scope:{ctx:o}}}),a.$on("click",o[9]),f=new B({props:{tooltipContent:"Next item (shift + right arrow)",$$slots:{default:[ml]},$$scope:{ctx:o}}}),f.$on("click",o[10]),u=new rl({props:{isVideo:o[6].workspace==Ze.VIDEO}}),{c(){e=R("div"),T(n.$$.fragment),t=V(),T(l.$$.fragment),s=V(),r=re(o[0]),i=V(),T(a.$$.fragment),m=V(),T(f.$$.fragment),c=V(),T(u.$$.fragment),this.h()},l(g){e=H(g,"DIV",{class:!0});var _=j(e);I(n.$$.fragment,_),t=L(_),I(l.$$.fragment,_),s=L(_),r=oe(_,o[0]),i=L(_),I(a.$$.fragment,_),m=L(_),I(f.$$.fragment,_),_.forEach(v),c=L(g),I(u.$$.fragment,g),this.h()},h(){S(e,"class","flex items-center gap-4")},m(g,_){P(g,e,_),w(n,e,null),E(e,t),w(l,e,null),E(e,s),E(e,r),E(e,i),w(a,e,null),E(e,m),w(f,e,null),P(g,c,_),w(u,g,_),p=!0},p(g,_){o=g;const h={};_&2048&&(h.$$scope={dirty:_,ctx:o}),n.$set(h);const b={};_&2048&&(b.$$scope={dirty:_,ctx:o}),l.$set(b),(!p||_&1)&&$e(r,o[0]);const N={};_&2048&&(N.$$scope={dirty:_,ctx:o}),a.$set(N);const G={};_&2048&&(G.$$scope={dirty:_,ctx:o}),f.$set(G);const y={};_&64&&(y.isVideo=o[6].workspace==Ze.VIDEO),u.$set(y)},i(g){p||($(n.$$.fragment,g),$(l.$$.fragment,g),$(a.$$.fragment,g),$(f.$$.fragment,g),$(u.$$.fragment,g),p=!0)},o(g){d(n.$$.fragment,g),d(l.$$.fragment,g),d(a.$$.fragment,g),d(f.$$.fragment,g),d(u.$$.fragment,g),p=!1},d(g){g&&(v(e),v(c)),k(n),k(l),k(a),k(f),k(u,g)}}}function il(o){let e,n;return e=new Nt({props:{class:"animate-spin"}}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p:ue,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function fl(o){let e,n;return e=new Mt({}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function cl(o){let e,n;return e=new en({}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function ul(o){let e,n;return e=new Et({}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function ml(o){let e,n;return e=new Dt({}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function $l(o){let e;return{c(){e=re("Save")},l(n){e=oe(n,"Save")},m(n,t){P(n,e,t)},d(n){n&&v(e)}}}function dl(o){let e,n,t,l,s,r=o[0]&&ot(o);return n=new bt({props:{$$slots:{default:[$l]},$$scope:{ctx:o}}}),n.$on("click",function(){_t(o[4])&&o[4].apply(this,arguments)}),{c(){r&&r.c(),e=V(),T(n.$$.fragment)},l(i){r&&r.l(i),e=L(i),I(n.$$.fragment,i)},m(i,a){r&&r.m(i,a),P(i,e,a),w(n,i,a),t=!0,l||(s=je(window,"keyup",o[7]),l=!0)},p(i,[a]){o=i,o[0]?r?(r.p(o,a),a&1&&$(r,1)):(r=ot(o),r.c(),$(r,1),r.m(e.parentNode,e)):r&&(X(),d(r,1,1,()=>{r=null}),Y());const m={};a&2048&&(m.$$scope={dirty:a,ctx:o}),n.$set(m)},i(i){t||($(r),$(n.$$.fragment,i),t=!0)},o(i){d(r),d(n.$$.fragment,i),t=!1},d(i){i&&v(e),r&&r.d(i),k(n,i),l=!1,s()}}}function gl(o,e,n){let t;ee(o,we,g=>n(6,t=g));let{currentItemId:l}=e,{isLoading:s}=e,{goToNeighborItem:r}=e,{handleReturnToPreviousPage:i}=e,{handleSave:a}=e,{navigateTo:m}=e;const f=async g=>{var h;const _=document.activeElement;if(_ instanceof HTMLInputElement||_ instanceof HTMLTextAreaElement||(_==null?void 0:_.getAttribute("contenteditable"))==="true"||((h=g.target)==null?void 0:h.tagName)==="INPUT"){g.preventDefault(),g.stopPropagation();return}return g.shiftKey&&g.key==="ArrowLeft"?await r("previous"):g.shiftKey&&g.key==="ArrowRight"&&await r("next"),g.key},c=()=>m("/"),u=()=>r("previous"),p=()=>r("next");return o.$$set=g=>{"currentItemId"in g&&n(0,l=g.currentItemId),"isLoading"in g&&n(1,s=g.isLoading),"goToNeighborItem"in g&&n(2,r=g.goToNeighborItem),"handleReturnToPreviousPage"in g&&n(3,i=g.handleReturnToPreviousPage),"handleSave"in g&&n(4,a=g.handleSave),"navigateTo"in g&&n(5,m=g.navigateTo)},[l,s,r,i,a,m,t,f,c,u,p]}class _l extends W{constructor(e){super(),Z(this,e,gl,dl,q,{currentItemId:0,isLoading:1,goToNeighborItem:2,handleReturnToPreviousPage:3,handleSave:4,navigateTo:5})}}const pl=(o,e,n)=>{const t=o.findIndex(l=>l===n);if(t!==-1){const l=e==="previous"?t-1:t+1;return l===-1?o[o.length-1]:l===o.length?o[0]:o[l]}},hl=(o,e)=>{const n=o.findIndex(t=>t===e);return Math.floor(n/Ht)+1},rt=[{name:"Dashboard",Icon:Mt},{name:"Dataset",Icon:un}];function at(o,e,n){const t=o.slice();return t[22]=e[n].name,t[23]=e[n].Icon,t}function bl(o){let e,n,t,l,s=o[4]&&it(o),r=o[1]&&ft(o),i=pe(rt),a=[];for(let f=0;f<i.length;f+=1)a[f]=ct(at(o,i,f));const m=f=>d(a[f],1,1,()=>{a[f]=null});return{c(){s&&s.c(),e=V(),r&&r.c(),n=V(),t=R("div");for(let f=0;f<a.length;f+=1)a[f].c();this.h()},l(f){s&&s.l(f),e=L(f),r&&r.l(f),n=L(f),t=H(f,"DIV",{class:!0});var c=j(t);for(let u=0;u<a.length;u+=1)a[u].l(c);c.forEach(v),this.h()},h(){S(t,"class","flex gap-4")},m(f,c){s&&s.m(f,c),P(f,e,c),r&&r.m(f,c),P(f,n,c),P(f,t,c);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(t,null);l=!0},p(f,c){if(f[4]?s?(s.p(f,c),c&16&&$(s,1)):(s=it(f),s.c(),$(s,1),s.m(e.parentNode,e)):s&&(X(),d(s,1,1,()=>{s=null}),Y()),f[1]?r?(r.p(f,c),c&2&&$(r,1)):(r=ft(f),r.c(),$(r,1),r.m(n.parentNode,n)):r&&(X(),d(r,1,1,()=>{r=null}),Y()),c&4113){i=pe(rt);let u;for(u=0;u<i.length;u+=1){const p=at(f,i,u);a[u]?(a[u].p(p,c),$(a[u],1)):(a[u]=ct(p),a[u].c(),$(a[u],1),a[u].m(t,null))}for(X(),u=i.length;u<a.length;u+=1)m(u);Y()}},i(f){if(!l){$(s),$(r);for(let c=0;c<i.length;c+=1)$(a[c]);l=!0}},o(f){d(s),d(r),a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)d(a[c]);l=!1},d(f){f&&(v(e),v(n),v(t)),s&&s.d(f),r&&r.d(f),Ke(a,f)}}}function vl(o){let e,n;return e=new _l({props:{currentItemId:o[1],isLoading:o[2],handleSave:o[8],goToNeighborItem:o[7],handleReturnToPreviousPage:o[11],navigateTo:o[12]}}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.currentItemId=t[1]),l&4&&(s.isLoading=t[2]),e.$set(s)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function it(o){let e,n,t,l,s,r=o[4].name+"",i,a;return l=new B({props:{tooltipContent:"Back to Home",$$slots:{default:[kl]},$$scope:{ctx:o}}}),l.$on("click",o[15]),{c(){e=R("div"),n=R("div"),t=R("div"),T(l.$$.fragment),s=V(),i=re(r),this.h()},l(m){e=H(m,"DIV",{class:!0});var f=j(e);n=H(f,"DIV",{class:!0});var c=j(n);t=H(c,"DIV",{class:!0});var u=j(t);I(l.$$.fragment,u),u.forEach(v),s=L(c),i=oe(c,r),c.forEach(v),f.forEach(v),this.h()},h(){S(t,"class","h-10 w-10"),S(n,"class","flex gap-4 items-center font-light"),S(e,"class","h-10 flex items-center font-semibold text-2xl")},m(m,f){P(m,e,f),E(e,n),E(n,t),w(l,t,null),E(n,s),E(n,i),a=!0},p(m,f){const c={};f&67108864&&(c.$$scope={dirty:f,ctx:m}),l.$set(c),(!a||f&16)&&r!==(r=m[4].name+"")&&$e(i,r)},i(m){a||($(l.$$.fragment,m),a=!0)},o(m){d(l.$$.fragment,m),a=!1},d(m){m&&v(e),k(l)}}}function kl(o){let e,n;return{c(){e=R("img"),this.h()},l(t){e=H(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ct(e.src,n=Bt)||S(e,"src",n),S(e,"alt","Logo Pixano"),S(e,"class","w-8 h-8 mx-2")},m(t,l){P(t,e,l)},p:ue,d(t){t&&v(e)}}}function ft(o){let e,n,t,l;const s=[Il,wl],r=[];function i(a,m){return a[2]?0:1}return e=i(o),n=r[e]=s[e](o),{c(){n.c(),t=ce()},l(a){n.l(a),t=ce()},m(a,m){r[e].m(a,m),P(a,t,m),l=!0},p(a,m){let f=e;e=i(a),e===f?r[e].p(a,m):(X(),d(r[f],1,1,()=>{r[f]=null}),Y(),n=r[e],n?n.p(a,m):(n=r[e]=s[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){l||($(n),l=!0)},o(a){d(n),l=!1},d(a){a&&v(t),r[e].d(a)}}}function wl(o){let e,n,t,l,s,r,i;return n=new B({props:{tooltipContent:"Previous item (shift + left arrow)",$$slots:{default:[Tl]},$$scope:{ctx:o}}}),n.$on("click",o[16]),r=new B({props:{tooltipContent:"Next item (shift + right arrow)",$$slots:{default:[Sl]},$$scope:{ctx:o}}}),r.$on("click",o[17]),{c(){e=R("div"),T(n.$$.fragment),t=V(),l=re(o[1]),s=V(),T(r.$$.fragment),this.h()},l(a){e=H(a,"DIV",{class:!0});var m=j(e);I(n.$$.fragment,m),t=L(m),l=oe(m,o[1]),s=L(m),I(r.$$.fragment,m),m.forEach(v),this.h()},h(){S(e,"class","flex items-center gap-4")},m(a,m){P(a,e,m),w(n,e,null),E(e,t),E(e,l),E(e,s),w(r,e,null),i=!0},p(a,m){const f={};m&67108864&&(f.$$scope={dirty:m,ctx:a}),n.$set(f),(!i||m&2)&&$e(l,a[1]);const c={};m&67108864&&(c.$$scope={dirty:m,ctx:a}),r.$set(c)},i(a){i||($(n.$$.fragment,a),$(r.$$.fragment,a),i=!0)},o(a){d(n.$$.fragment,a),d(r.$$.fragment,a),i=!1},d(a){a&&v(e),k(n),k(r)}}}function Il(o){let e,n;return e=new Nt({props:{class:"animate-spin"}}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p:ue,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Tl(o){let e,n;return e=new Et({}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Sl(o){let e,n;return e=new Dt({}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Nl(o){let e,n,t,l,s;return e=new o[23]({props:{strokeWidth:1}}),{c(){T(e.$$.fragment),n=V(),t=re(o[22]),l=V()},l(r){I(e.$$.fragment,r),n=L(r),t=oe(r,o[22]),l=L(r)},m(r,i){w(e,r,i),P(r,n,i),P(r,t,i),P(r,l,i),s=!0},p:ue,i(r){s||($(e.$$.fragment,r),s=!0)},o(r){d(e.$$.fragment,r),s=!1},d(r){r&&(v(n),v(t),v(l)),k(e,r)}}}function ct(o){var l;let e,n;function t(){return o[18](o[22])}return e=new bt({props:{isSelected:(l=o[0])==null?void 0:l.includes(`/${o[22]}`.toLowerCase()),$$slots:{default:[Nl]},$$scope:{ctx:o}}}),e.$on("click",t),{c(){T(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,r){w(e,s,r),n=!0},p(s,r){var a;o=s;const i={};r&1&&(i.isSelected=(a=o[0])==null?void 0:a.includes(`/${o[22]}`.toLowerCase())),r&67108864&&(i.$$scope={dirty:r,ctx:o}),e.$set(i)},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){d(e.$$.fragment,s),n=!1},d(s){k(e,s)}}}function ut(o){let e,n;return e=new Ft({props:{message:"You have unsaved changes",confirm:"Save and continue",alternativeAction:"Continue without saving"}}),e.$on("confirm",o[9]),e.$on("alternative",o[10]),e.$on("cancel",o[19]),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p:ue,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function El(o){let e,n,t,l,s,r,i,a;const m=[vl,bl],f=[];function c(p,g){return p[5].route.id===p[6]?0:1}n=c(o),t=f[n]=m[n](o);let u=o[3]!=="none"&&ut(o);return{c(){e=R("header"),t.c(),l=V(),u&&u.c(),s=ce(),this.h()},l(p){e=H(p,"HEADER",{class:!0});var g=j(e);t.l(g),g.forEach(v),l=L(p),u&&u.l(p),s=ce(),this.h()},h(){S(e,"class","w-full fixed z-40 font-Montserrat h-20 p-5 flex justify-between items-center shrink-0 bg-white border-b border-slate-200 shadow-sm text-slate-800")},m(p,g){P(p,e,g),f[n].m(e,null),P(p,l,g),u&&u.m(p,g),P(p,s,g),r=!0,i||(a=Pt(o[13].call(null,e)),i=!0)},p(p,[g]){let _=n;n=c(p),n===_?f[n].p(p,g):(X(),d(f[_],1,1,()=>{f[_]=null}),Y(),t=f[n],t?t.p(p,g):(t=f[n]=m[n](p),t.c()),$(t,1),t.m(e,null)),p[3]!=="none"?u?(u.p(p,g),g&8&&$(u,1)):(u=ut(p),u.c(),$(u,1),u.m(s.parentNode,s)):u&&(X(),d(u,1,1,()=>{u=null}),Y())},i(p){r||($(t),$(u),r=!0)},o(p){d(t),d(u),r=!1},d(p){p&&(v(e),v(l),v(s)),f[n].d(),u&&u.d(p),i=!1,a()}}}function Dl(o,e,n){let t,l;ee(o,we,M=>n(4,t=M)),ee(o,Me,M=>n(5,l=M));let{pageId:s}=e,{datasetItemsIds:r}=e,i,a,m,f="none",c="none";const u="/[dataset]/dataset/[itemId]";Ce.subscribe(M=>m=M.canSave),Rt.subscribe(M=>{n(2,a=M)});const p=async M=>{const F=pl(r,M,i);if(F){const Q=`/${t.id}/dataset/${F}`;if(m)return c=F,n(3,f=Q);n(1,i=F),await Le(Q)}},g=()=>{Ce.update(M=>({...M,shouldSave:!0}))},_=async()=>{g(),await h()},h=async()=>{c!=="none"&&(n(1,i=c),c="none"),await Le(f),n(3,f="none"),Ce.set({canSave:!1,shouldSave:!1})},b=async()=>{i?(pt.update(M=>(M.currentPage=hl(r,i),M)),await N(`/${t.id}/dataset`)):await N("/")},N=async M=>{if(m)return n(3,f=M);await Le(M)};function G(M){function F(Q){m&&Q.preventDefault()}return window.addEventListener("beforeunload",F),{destroy(){window.removeEventListener("beforeunload",F)}}}const y=()=>N("/"),x=()=>p("previous"),D=()=>p("next"),C=M=>N(`/${t.id}/${M.toLocaleLowerCase()}`),K=()=>n(3,f="none");return o.$$set=M=>{"pageId"in M&&n(0,s=M.pageId),"datasetItemsIds"in M&&n(14,r=M.datasetItemsIds)},Me.subscribe(M=>{n(1,i=M.params.itemId)}),[s,i,a,f,t,l,u,p,g,_,h,b,N,G,r,y,x,D,C,K]}class Ml extends W{constructor(e){super(),Z(this,e,Dl,El,q,{pageId:0,datasetItemsIds:14})}}const Pl=""+new URL("../assets/pixano_white.BVKPSmmP.png",import.meta.url).href;function mt(o){var be,Ue;let e,n,t=((be=o[0])==null?void 0:be.length)+"",l,s,r,i,a=((Ue=o[0])==null?void 0:Ue.length)>1?"s":"",m,f,c,u,p=o[0].reduce($t,0)+"",g,_,h,b,N=o[0].reduce(dt,0)>1?"s":"",G,y,x,D,C,K,M,F,Q,de,he;return{c(){e=R("div"),n=R("span"),l=re(t),s=V(),r=R("span"),i=re("dataset"),m=re(a),f=V(),c=R("div"),u=R("span"),g=re(p),_=V(),h=R("span"),b=re("item"),G=re(N),y=V(),x=R("div"),D=R("div"),C=R("div"),K=R("input"),M=V(),F=We("svg"),Q=We("path"),this.h()},l(O){e=H(O,"DIV",{class:!0});var J=j(e);n=H(J,"SPAN",{class:!0});var ve=j(n);l=oe(ve,t),ve.forEach(v),s=L(J),r=H(J,"SPAN",{class:!0});var ge=j(r);i=oe(ge,"dataset"),m=oe(ge,a),ge.forEach(v),J.forEach(v),f=L(O),c=H(O,"DIV",{class:!0});var Ie=j(c);u=H(Ie,"SPAN",{class:!0});var Fe=j(u);g=oe(Fe,p),Fe.forEach(v),_=L(Ie),h=H(Ie,"SPAN",{class:!0});var Pe=j(h);b=oe(Pe,"item"),G=oe(Pe,N),Pe.forEach(v),Ie.forEach(v),y=L(O),x=H(O,"DIV",{class:!0});var ze=j(x);D=H(ze,"DIV",{class:!0});var Be=j(D);C=H(Be,"DIV",{class:!0});var Te=j(C);K=H(Te,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),M=L(Te),F=qe(Te,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var Oe=j(F);Q=qe(Oe,"path",{d:!0,fill:!0}),j(Q).forEach(v),Oe.forEach(v),Te.forEach(v),Be.forEach(v),ze.forEach(v),this.h()},h(){S(n,"class","mr-2 text-4xl font-medium"),S(r,"class","text-xl font-medium"),S(e,"class","my-4 mr-8 p-4 pr-8 border rounded-lg border-primary-foreground"),S(u,"class","mr-2 text-4xl font-medium"),S(h,"class","text-xl font-medium"),S(c,"class","my-4 mr-8 p-4 pr-8 border rounded-lg border-primary-foreground"),S(K,"id","search-input"),S(K,"type","text"),S(K,"placeholder","Search datasets"),S(K,"class","h-10 pl-10 pr-4 rounded border border-primary-foreground bg-primary-foreground text-white placeholder-white font-medium focus:outline-none"),S(Q,"d",Wt),S(Q,"fill","white"),S(F,"xmlns","http://www.w3.org/2000/svg"),S(F,"height","48"),S(F,"viewBox","0 -960 960 960"),S(F,"width","48"),S(F,"class","absolute left-3 h-5 w-5 pointer-events-none"),S(C,"class","h-20 relative flex items-center"),S(D,"class","flex items-center space-x-2"),S(x,"class","grow self-end flex flex-row justify-end items-end")},m(O,J){P(O,e,J),E(e,n),E(n,l),E(e,s),E(e,r),E(r,i),E(r,m),P(O,f,J),P(O,c,J),E(c,u),E(u,g),E(c,_),E(c,h),E(h,b),E(h,G),P(O,y,J),P(O,x,J),E(x,D),E(D,C),E(C,K),E(C,M),E(C,F),E(F,Q),de||(he=je(K,"input",o[1]),de=!0)},p(O,J){var ve,ge;J&1&&t!==(t=((ve=O[0])==null?void 0:ve.length)+"")&&$e(l,t),J&1&&a!==(a=((ge=O[0])==null?void 0:ge.length)>1?"s":"")&&$e(m,a),J&1&&p!==(p=O[0].reduce($t,0)+"")&&$e(g,p),J&1&&N!==(N=O[0].reduce(dt,0)>1?"s":"")&&$e(G,N)},d(O){O&&(v(e),v(f),v(c),v(y),v(x)),de=!1,he()}}}function Cl(o){let e,n,t=`<img src="${Pl}" alt="Logo Pixano" class="w-7 h-7"/> <span class="text-2xl font-semibold text-slate-50 uppercase">Pixano</span>`,l,s,r=o[0]&&mt(o);return{c(){e=R("header"),n=R("div"),n.innerHTML=t,l=V(),s=R("div"),r&&r.c(),this.h()},l(i){e=H(i,"HEADER",{class:!0});var a=j(e);n=H(a,"DIV",{class:!0,"data-svelte-h":!0}),Lt(n)!=="svelte-1gjs2pg"&&(n.innerHTML=t),l=L(a),s=H(a,"DIV",{class:!0});var m=j(s);r&&r.l(m),m.forEach(v),a.forEach(v),this.h()},h(){S(n,"class","flex gap-4 items-center"),S(s,"class","flex pt-4 h-36 w-full items-center flex-wrap text-slate-50"),S(e,"class","p-4 w-full h-fit pt-8 px-20 xl:px-60 flex flex-col justify-evenly bg-primary font-Montserrat z-10")},m(i,a){P(i,e,a),E(e,n),E(e,l),E(e,s),r&&r.m(s,null)},p(i,[a]){i[0]?r?r.p(i,a):(r=mt(i),r.c(),r.m(s,null)):r&&(r.d(1),r=null)},i:ue,o:ue,d(i){i&&v(e),r&&r.d()}}}const $t=(o,e)=>o+e.num_items,dt=(o,e)=>o+e.num_items;function Ll(o,e,n){let{datasets:t}=e;const l=s=>{const r=s.currentTarget;Ae.update((i=[])=>i.map(a=>({...a,isFiltered:!a.name.toLocaleLowerCase().includes(r.value.toLocaleLowerCase())})))};return o.$$set=s=>{"datasets"in s&&n(0,t=s.datasets)},[t,l]}class Vl extends W{constructor(e){super(),Z(this,e,Ll,Cl,q,{datasets:0})}}function Al(o){let e,n;return e=new Ml({props:{pageId:o[2].route.id,datasetItemsIds:o[1]}}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.pageId=t[2].route.id),l&2&&(s.datasetItemsIds=t[1]),e.$set(s)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Hl(o){let e,n;return e=new Vl({props:{datasets:o[0]}}),{c(){T(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.datasets=t[0]),e.$set(s)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Rl(o){let e,n,t,l,s,r,i,a,m,f;const c=[Hl,Al],u=[];function p(h,b){return h[2].route.id===Ve?0:1}s=p(o),r=u[s]=c[s](o);const g=o[6].default,_=te(g,o,o[5],null);return{c(){e=R("link"),n=R("meta"),t=V(),l=R("div"),r.c(),i=V(),a=R("main"),_&&_.c(),this.h()},l(h){const b=Vt("svelte-8x3pw",document.head);e=H(b,"LINK",{rel:!0,type:!0,href:!0}),n=H(b,"META",{name:!0,content:!0}),b.forEach(v),t=L(h),l=H(h,"DIV",{class:!0});var N=j(l);r.l(N),i=L(N),a=H(N,"MAIN",{class:!0});var G=j(a);_&&_.l(G),G.forEach(v),N.forEach(v),this.h()},h(){S(e,"rel","icon"),S(e,"type","image/svg"),S(e,"href",Un),document.title="Pixano",S(n,"name","description"),S(n,"content","Pixano app"),S(a,"class",m=me("bg-slate-50 flex flex-col h-screen",o[2].route.id!==Ve&&"pt-20")),S(l,"class","app")},m(h,b){E(document.head,e),E(document.head,n),P(h,t,b),P(h,l,b),u[s].m(l,null),E(l,i),E(l,a),_&&_.m(a,null),f=!0},p(h,[b]){let N=s;s=p(h),s===N?u[s].p(h,b):(X(),d(u[N],1,1,()=>{u[N]=null}),Y(),r=u[s],r?r.p(h,b):(r=u[s]=c[s](h),r.c()),$(r,1),r.m(l,i)),_&&_.p&&(!f||b&32)&&ne(_,g,h,h[5],f?se(g,h[5],b,null):le(h[5]),null),(!f||b&4&&m!==(m=me("bg-slate-50 flex flex-col h-screen",h[2].route.id!==Ve&&"pt-20")))&&S(a,"class",m)},i(h){f||($(r),$(_,h),f=!0)},o(h){d(r),d(_,h),f=!1},d(h){h&&(v(t),v(l)),v(e),v(n),u[s].d(),_&&_.d(h)}}}const Ve="/";function jl(o,e,n){let t,l,s;ee(o,Ae,c=>n(0,t=c)),ee(o,we,c=>n(4,l=c)),ee(o,Me,c=>n(2,s=c));let{$$slots:r={},$$scope:i}=e,a,m;gt(()=>{Xt().then(c=>Ge.set(c)).catch(()=>Ge.set([])),Qt().then(c=>{Ae.set(c)}).catch(c=>{console.error(c)})});const f=async c=>{c!==void 0&&n(1,m=await Jt(c))};return o.$$set=c=>{"$$scope"in c&&n(5,i=c.$$scope)},o.$$.update=()=>{o.$$.dirty&25&&Me.subscribe(c=>{if(n(3,a=c.params.dataset),a&&l==null){const u=t==null?void 0:t.find(p=>p.id===a);u&&we.set(u)}}),o.$$.dirty&8&&f(a)},we.subscribe(c=>{c&&pt.set(jt)}),[t,m,s,a,l,i,r]}class Xl extends W{constructor(e){super(),Z(this,e,jl,Rl,q,{})}}export{Xl as component,Ql as universal};
