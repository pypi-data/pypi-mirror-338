[tool.semantic_release]
version_variables = ["helpr/__init__.py:__version__"]  # Note: changed from version_variable to version_variables
build_command = "pip install wheel && python3 setup.py sdist bdist_wheel"  # Added wheel installation
commit_message = "chore(release): bump version to {version}"
changelog_file = "CHANGELOG.md"

[tool.semantic_release.publish]
distributions = ["sdist", "bdist_wheel"]
upload_to_pypi = false  # Disable direct PyPI upload, we'll handle in GitHub Actions
upload_to_vcs_release = true  # Keep this true to create Git tags

[tool.semantic_release.branches.development]
match = "development"
prerelease = false

[tool.semantic_release.commit_parser_options]
major_tags = ["BREAKING", "MAJOR"]
minor_tags = ["feat", "minor"]
patch_tags = ["fix", "patch"]

[tool.semantic_release.remote]
type = "github"
repository = "clinikally/helpr"
token = { env = "GH_TOKEN" }

[tool.semantic_release.version]
write_version = true
source = "commit"  # Determine version based on commit messages