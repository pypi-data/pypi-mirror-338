<?xml version="1.0" encoding="UTF-8" ?>
<odoo noupdate="1">

    <record id="timesheet_line_rule_user" model="ir.rule">
        <field name="name">account.analytic.line.timesheet.user</field>
        <field name="model_id" ref="analytic.model_account_analytic_line" />
        <field name="domain_force">[
            ('user_id', '=', user.id),
            ('project_id', '!=', False),
            ('project_id.privacy_visibility', '=', 'followers'),
            ('project_id.group_ids', 'in', user.groups_id.ids)
        ]</field>
        <field
            name="groups"
            eval="[(4, ref('hr_timesheet.group_hr_timesheet_user'))]"
        />
    </record>

    <record id="timesheet_line_rule_approver" model="ir.rule">
        <field name="name">account.analytic.line.timesheet.approver</field>
        <field name="model_id" ref="analytic.model_account_analytic_line" />
        <field name="domain_force">[
            ('project_id', '!=', False),
            ('project_id.privacy_visibility', '=', 'followers'),
            ('project_id.group_ids', 'in', user.groups_id.ids)
        ]</field>
        <field
            name="groups"
            eval="[(4, ref('hr_timesheet.group_hr_timesheet_approver'))]"
        />
    </record>

    <record id="timesheet_analysis_report_user" model="ir.rule">
        <field name="name">Group Timesheets Analysis Report user</field>
        <field name="model_id" ref="hr_timesheet.model_timesheets_analysis_report" />
        <field name="domain_force">[
            ('user_id', '=', user.id),
            ('project_id.privacy_visibility', '=', 'followers'),
            ('project_id.group_ids', 'in', user.groups_id.ids)
        ]</field>
        <field
            name="groups"
            eval="[(4, ref('hr_timesheet.group_hr_timesheet_user'))]"
        />
    </record>
</odoo>
