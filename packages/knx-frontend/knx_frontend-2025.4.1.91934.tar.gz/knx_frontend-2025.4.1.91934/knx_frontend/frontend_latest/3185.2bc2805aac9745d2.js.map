{"version":3,"file":"3185.2bc2805aac9745d2.js","sources":["webpack://knx-frontend/./homeassistant-frontend/src/components/ha-button-toggle-group.ts","webpack://knx-frontend/./homeassistant-frontend/src/components/ha-selector/ha-selector-button-toggle.ts"],"sourcesContent":["import \"@material/mwc-button/mwc-button\";\nimport type { Button } from \"@material/mwc-button/mwc-button\";\nimport type { TemplateResult } from \"lit\";\nimport { css, html, LitElement } from \"lit\";\nimport { customElement, property, queryAll } from \"lit/decorators\";\nimport { styleMap } from \"lit/directives/style-map\";\nimport { fireEvent } from \"../common/dom/fire_event\";\nimport type { ToggleButton } from \"../types\";\nimport \"./ha-icon-button\";\n\n@customElement(\"ha-button-toggle-group\")\nexport class HaButtonToggleGroup extends LitElement {\n  @property({ attribute: false }) public buttons!: ToggleButton[];\n\n  @property() public active?: string;\n\n  @property({ attribute: \"full-width\", type: Boolean })\n  public fullWidth = false;\n\n  @property({ type: Boolean }) public dense = false;\n\n  @queryAll(\"mwc-button\") private _buttons?: Button[];\n\n  protected render(): TemplateResult {\n    return html`\n      <div>\n        ${this.buttons.map((button) =>\n          button.iconPath\n            ? html`<ha-icon-button\n                .label=${button.label}\n                .path=${button.iconPath}\n                .value=${button.value}\n                ?active=${this.active === button.value}\n                @click=${this._handleClick}\n              ></ha-icon-button>`\n            : html`<mwc-button\n                style=${styleMap({\n                  width: this.fullWidth\n                    ? `${100 / this.buttons.length}%`\n                    : \"initial\",\n                })}\n                outlined\n                .dense=${this.dense}\n                .value=${button.value}\n                ?active=${this.active === button.value}\n                @click=${this._handleClick}\n                >${button.label}</mwc-button\n              >`\n        )}\n      </div>\n    `;\n  }\n\n  protected updated() {\n    // Work around Safari default margin that is not reset in mwc-button as of aug 2021\n    this._buttons?.forEach(async (button) => {\n      await button.updateComplete;\n      (\n        button.shadowRoot!.querySelector(\"button\") as HTMLButtonElement\n      ).style.margin = \"0\";\n    });\n  }\n\n  private _handleClick(ev): void {\n    this.active = ev.currentTarget.value;\n    fireEvent(this, \"value-changed\", { value: this.active });\n  }\n\n  static styles = css`\n    div {\n      display: flex;\n      --mdc-icon-button-size: var(--button-toggle-size, 36px);\n      --mdc-icon-size: var(--button-toggle-icon-size, 20px);\n      direction: ltr;\n    }\n    mwc-button {\n      flex: 1;\n      --mdc-shape-small: 0;\n      --mdc-button-outline-width: 1px 0 1px 1px;\n      --mdc-button-outline-color: var(--primary-color);\n    }\n    ha-icon-button {\n      border: 1px solid var(--primary-color);\n      border-right-width: 0px;\n    }\n    ha-icon-button,\n    mwc-button {\n      position: relative;\n      cursor: pointer;\n    }\n    ha-icon-button::before,\n    mwc-button::before {\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      background-color: var(--primary-color);\n      opacity: 0;\n      pointer-events: none;\n      content: \"\";\n      transition:\n        opacity 15ms linear,\n        background-color 15ms linear;\n    }\n    ha-icon-button[active]::before,\n    mwc-button[active]::before {\n      opacity: 1;\n    }\n    ha-icon-button[active] {\n      --icon-primary-color: var(--text-primary-color);\n    }\n    mwc-button[active] {\n      --mdc-theme-primary: var(--text-primary-color);\n    }\n    ha-icon-button:first-child,\n    mwc-button:first-child {\n      --mdc-shape-small: 4px 0 0 4px;\n      border-radius: 4px 0 0 4px;\n      --mdc-button-outline-width: 1px;\n    }\n    mwc-button:first-child::before {\n      border-radius: 4px 0 0 4px;\n    }\n    ha-icon-button:last-child,\n    mwc-button:last-child {\n      border-radius: 0 4px 4px 0;\n      border-right-width: 1px;\n      --mdc-shape-small: 0 4px 4px 0;\n      --mdc-button-outline-width: 1px;\n    }\n    mwc-button:last-child::before {\n      border-radius: 0 4px 4px 0;\n    }\n    ha-icon-button:only-child,\n    mwc-button:only-child {\n      --mdc-shape-small: 4px;\n      border-right-width: 1px;\n    }\n  `;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-button-toggle-group\": HaButtonToggleGroup;\n  }\n}\n","import \"@material/mwc-list/mwc-list-item\";\nimport { LitElement, css, html } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport { caseInsensitiveStringCompare } from \"../../common/string/compare\";\nimport type { ButtonToggleSelector, SelectOption } from \"../../data/selector\";\nimport type { HomeAssistant, ToggleButton } from \"../../types\";\nimport \"../ha-button-toggle-group\";\n\n@customElement(\"ha-selector-button_toggle\")\nexport class HaButtonToggleSelector extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public selector!: ButtonToggleSelector;\n\n  @property() public value?: string;\n\n  @property() public label?: string;\n\n  @property() public helper?: string;\n\n  @property({ attribute: false })\n  public localizeValue?: (key: string) => string;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @property({ type: Boolean }) public required = true;\n\n  protected render() {\n    const options =\n      this.selector.button_toggle?.options?.map((option) =>\n        typeof option === \"object\"\n          ? (option as SelectOption)\n          : ({ value: option, label: option } as SelectOption)\n      ) || [];\n\n    const translationKey = this.selector.button_toggle?.translation_key;\n\n    if (this.localizeValue && translationKey) {\n      options.forEach((option) => {\n        const localizedLabel = this.localizeValue!(\n          `${translationKey}.options.${option.value}`\n        );\n        if (localizedLabel) {\n          option.label = localizedLabel;\n        }\n      });\n    }\n\n    if (this.selector.button_toggle?.sort) {\n      options.sort((a, b) =>\n        caseInsensitiveStringCompare(\n          a.label,\n          b.label,\n          this.hass.locale.language\n        )\n      );\n    }\n\n    const toggleButtons: ToggleButton[] = options.map((item: SelectOption) => ({\n      label: item.label,\n      value: item.value,\n    }));\n\n    return html`\n      ${this.label}\n      <ha-button-toggle-group\n        .buttons=${toggleButtons}\n        .active=${this.value}\n        @value-changed=${this._valueChanged}\n      ></ha-button-toggle-group>\n    `;\n  }\n\n  private _valueChanged(ev) {\n    ev.stopPropagation();\n\n    const value = ev.detail?.value || ev.target.value;\n    if (this.disabled || value === undefined || value === (this.value ?? \"\")) {\n      return;\n    }\n    fireEvent(this, \"value-changed\", {\n      value: value,\n    });\n  }\n\n  static styles = css`\n    :host {\n      position: relative;\n      display: flex;\n      justify-content: space-between;\n      flex-wrap: wrap;\n      gap: 8px;\n      align-items: center;\n    }\n    @media all and (max-width: 600px) {\n      ha-button-toggle-group {\n        flex: 1;\n      }\n    }\n  `;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-selector-button_toggle\": HaButtonToggleSelector;\n  }\n}\n"],"names":["_decorate","customElement","_initialize","_LitElement","F","constructor","args","d","kind","decorators","property","attribute","key","value","type","Boolean","queryAll","html","this","buttons","map","button","iconPath","label","active","_handleClick","styleMap","width","fullWidth","length","dense","_buttons","forEach","async","updateComplete","shadowRoot","querySelector","style","margin","ev","currentTarget","fireEvent","static","css","LitElement","HaButtonToggleSelector","options","selector","button_toggle","option","translationKey","translation_key","localizeValue","localizedLabel","sort","a","b","caseInsensitiveStringCompare","hass","locale","language","toggleButtons","item","_valueChanged","stopPropagation","detail","target","disabled","undefined"],"mappings":"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"}